<!DOCTYPE html>
<html>
<head><meta charset="utf-8" />
<title>[Lecture 3+4] Recommender algorithm - Music recommendations</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.10/require.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>

<style type="text/css">
    /*!
*
* Twitter Bootstrap
*
*//*! normalize.css v3.0.2 | MIT License | git.io/normalize */html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;font-size:10px;-webkit-tap-highlight-color:transparent}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,optgroup,strong{font-weight:700}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}img{border:0;vertical-align:middle}svg:not(:root){overflow:hidden}hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}pre,textarea{overflow:auto}code,kbd,pre,samp{font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}/*! Source: https://github.com/h5bp/html5-boilerplate/blob/master/src/css/main.css */@media print{*,:after,:before{background:0 0!important;color:#000!important;box-shadow:none!important;text-shadow:none!important}a,a:visited{text-decoration:underline}a[href]:after{content:" (" attr(href)")"}abbr[title]:after{content:" (" attr(title)")"}a[href^="javascript:"]:after,a[href^="#"]:after{content:""}blockquote,pre{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}img,tr{page-break-inside:avoid}img{max-width:100%!important}h2,h3,p{orphans:3;widows:3}h2,h3{page-break-after:avoid}select{background:#fff!important}.navbar{display:none}.btn>.caret,.dropup>.btn>.caret{border-top-color:#000!important}.label{border:1px solid #000}.table{border-collapse:collapse!important}.table td,.table th{background-color:#fff!important}.table-bordered td,.table-bordered th{border:1px solid #ddd!important}}@font-face{font-family:'Glyphicons Halflings';src:url(../components/bootstrap/fonts/glyphicons-halflings-regular.eot);src:url(../components/bootstrap/fonts/glyphicons-halflings-regular.eot?#iefix)format('embedded-opentype'),url(../components/bootstrap/fonts/glyphicons-halflings-regular.woff2)format('woff2'),url(../components/bootstrap/fonts/glyphicons-halflings-regular.woff)format('woff'),url(../components/bootstrap/fonts/glyphicons-halflings-regular.ttf)format('truetype'),url(../components/bootstrap/fonts/glyphicons-halflings-regular.svg#glyphicons_halflingsregular)format('svg')}.glyphicon{position:relative;top:1px;display:inline-block;font-family:'Glyphicons Halflings';font-style:normal;font-weight:400;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.glyphicon-asterisk:before{content:"\2a"}.glyphicon-plus:before{content:"\2b"}.glyphicon-eur:before,.glyphicon-euro:before{content:"\20ac"}.glyphicon-minus:before{content:"\2212"}.glyphicon-cloud:before{content:"\2601"}.glyphicon-envelope:before{content:"\2709"}.glyphicon-pencil:before{content:"\270f"}.glyphicon-glass:before{content:"\e001"}.glyphicon-music:before{content:"\e002"}.glyphicon-search:before{content:"\e003"}.glyphicon-heart:before{content:"\e005"}.glyphicon-star:before{content:"\e006"}.glyphicon-star-empty:before{content:"\e007"}.glyphicon-user:before{content:"\e008"}.glyphicon-film:before{content:"\e009"}.glyphicon-th-large:before{content:"\e010"}.glyphicon-th:before{content:"\e011"}.glyphicon-th-list:before{content:"\e012"}.glyphicon-ok:before{content:"\e013"}.glyphicon-remove:before{content:"\e014"}.glyphicon-zoom-in:before{content:"\e015"}.glyphicon-zoom-out:before{content:"\e016"}.glyphicon-off:before{content:"\e017"}.glyphicon-signal:before{content:"\e018"}.glyphicon-cog:before{content:"\e019"}.glyphicon-trash:before{content:"\e020"}.glyphicon-home:before{content:"\e021"}.glyphicon-file:before{content:"\e022"}.glyphicon-time:before{content:"\e023"}.glyphicon-road:before{content:"\e024"}.glyphicon-download-alt:before{content:"\e025"}.glyphicon-download:before{content:"\e026"}.glyphicon-upload:before{content:"\e027"}.glyphicon-inbox:before{content:"\e028"}.glyphicon-play-circle:before{content:"\e029"}.glyphicon-repeat:before{content:"\e030"}.glyphicon-refresh:before{content:"\e031"}.glyphicon-list-alt:before{content:"\e032"}.glyphicon-lock:before{content:"\e033"}.glyphicon-flag:before{content:"\e034"}.glyphicon-headphones:before{content:"\e035"}.glyphicon-volume-off:before{content:"\e036"}.glyphicon-volume-down:before{content:"\e037"}.glyphicon-volume-up:before{content:"\e038"}.glyphicon-qrcode:before{content:"\e039"}.glyphicon-barcode:before{content:"\e040"}.glyphicon-tag:before{content:"\e041"}.glyphicon-tags:before{content:"\e042"}.glyphicon-book:before{content:"\e043"}.glyphicon-bookmark:before{content:"\e044"}.glyphicon-print:before{content:"\e045"}.glyphicon-camera:before{content:"\e046"}.glyphicon-font:before{content:"\e047"}.glyphicon-bold:before{content:"\e048"}.glyphicon-italic:before{content:"\e049"}.glyphicon-text-height:before{content:"\e050"}.glyphicon-text-width:before{content:"\e051"}.glyphicon-align-left:before{content:"\e052"}.glyphicon-align-center:before{content:"\e053"}.glyphicon-align-right:before{content:"\e054"}.glyphicon-align-justify:before{content:"\e055"}.glyphicon-list:before{content:"\e056"}.glyphicon-indent-left:before{content:"\e057"}.glyphicon-indent-right:before{content:"\e058"}.glyphicon-facetime-video:before{content:"\e059"}.glyphicon-picture:before{content:"\e060"}.glyphicon-map-marker:before{content:"\e062"}.glyphicon-adjust:before{content:"\e063"}.glyphicon-tint:before{content:"\e064"}.glyphicon-edit:before{content:"\e065"}.glyphicon-share:before{content:"\e066"}.glyphicon-check:before{content:"\e067"}.glyphicon-move:before{content:"\e068"}.glyphicon-step-backward:before{content:"\e069"}.glyphicon-fast-backward:before{content:"\e070"}.glyphicon-backward:before{content:"\e071"}.glyphicon-play:before{content:"\e072"}.glyphicon-pause:before{content:"\e073"}.glyphicon-stop:before{content:"\e074"}.glyphicon-forward:before{content:"\e075"}.glyphicon-fast-forward:before{content:"\e076"}.glyphicon-step-forward:before{content:"\e077"}.glyphicon-eject:before{content:"\e078"}.glyphicon-chevron-left:before{content:"\e079"}.glyphicon-chevron-right:before{content:"\e080"}.glyphicon-plus-sign:before{content:"\e081"}.glyphicon-minus-sign:before{content:"\e082"}.glyphicon-remove-sign:before{content:"\e083"}.glyphicon-ok-sign:before{content:"\e084"}.glyphicon-question-sign:before{content:"\e085"}.glyphicon-info-sign:before{content:"\e086"}.glyphicon-screenshot:before{content:"\e087"}.glyphicon-remove-circle:before{content:"\e088"}.glyphicon-ok-circle:before{content:"\e089"}.glyphicon-ban-circle:before{content:"\e090"}.glyphicon-arrow-left:before{content:"\e091"}.glyphicon-arrow-right:before{content:"\e092"}.glyphicon-arrow-up:before{content:"\e093"}.glyphicon-arrow-down:before{content:"\e094"}.glyphicon-share-alt:before{content:"\e095"}.glyphicon-resize-full:before{content:"\e096"}.glyphicon-resize-small:before{content:"\e097"}.glyphicon-exclamation-sign:before{content:"\e101"}.glyphicon-gift:before{content:"\e102"}.glyphicon-leaf:before{content:"\e103"}.glyphicon-fire:before{content:"\e104"}.glyphicon-eye-open:before{content:"\e105"}.glyphicon-eye-close:before{content:"\e106"}.glyphicon-warning-sign:before{content:"\e107"}.glyphicon-plane:before{content:"\e108"}.glyphicon-calendar:before{content:"\e109"}.glyphicon-random:before{content:"\e110"}.glyphicon-comment:before{content:"\e111"}.glyphicon-magnet:before{content:"\e112"}.glyphicon-chevron-up:before{content:"\e113"}.glyphicon-chevron-down:before{content:"\e114"}.glyphicon-retweet:before{content:"\e115"}.glyphicon-shopping-cart:before{content:"\e116"}.glyphicon-folder-close:before{content:"\e117"}.glyphicon-folder-open:before{content:"\e118"}.glyphicon-resize-vertical:before{content:"\e119"}.glyphicon-resize-horizontal:before{content:"\e120"}.glyphicon-hdd:before{content:"\e121"}.glyphicon-bullhorn:before{content:"\e122"}.glyphicon-bell:before{content:"\e123"}.glyphicon-certificate:before{content:"\e124"}.glyphicon-thumbs-up:before{content:"\e125"}.glyphicon-thumbs-down:before{content:"\e126"}.glyphicon-hand-right:before{content:"\e127"}.glyphicon-hand-left:before{content:"\e128"}.glyphicon-hand-up:before{content:"\e129"}.glyphicon-hand-down:before{content:"\e130"}.glyphicon-circle-arrow-right:before{content:"\e131"}.glyphicon-circle-arrow-left:before{content:"\e132"}.glyphicon-circle-arrow-up:before{content:"\e133"}.glyphicon-circle-arrow-down:before{content:"\e134"}.glyphicon-globe:before{content:"\e135"}.glyphicon-wrench:before{content:"\e136"}.glyphicon-tasks:before{content:"\e137"}.glyphicon-filter:before{content:"\e138"}.glyphicon-briefcase:before{content:"\e139"}.glyphicon-fullscreen:before{content:"\e140"}.glyphicon-dashboard:before{content:"\e141"}.glyphicon-paperclip:before{content:"\e142"}.glyphicon-heart-empty:before{content:"\e143"}.glyphicon-link:before{content:"\e144"}.glyphicon-phone:before{content:"\e145"}.glyphicon-pushpin:before{content:"\e146"}.glyphicon-usd:before{content:"\e148"}.glyphicon-gbp:before{content:"\e149"}.glyphicon-sort:before{content:"\e150"}.glyphicon-sort-by-alphabet:before{content:"\e151"}.glyphicon-sort-by-alphabet-alt:before{content:"\e152"}.glyphicon-sort-by-order:before{content:"\e153"}.glyphicon-sort-by-order-alt:before{content:"\e154"}.glyphicon-sort-by-attributes:before{content:"\e155"}.glyphicon-sort-by-attributes-alt:before{content:"\e156"}.glyphicon-unchecked:before{content:"\e157"}.glyphicon-expand:before{content:"\e158"}.glyphicon-collapse-down:before{content:"\e159"}.glyphicon-collapse-up:before{content:"\e160"}.glyphicon-log-in:before{content:"\e161"}.glyphicon-flash:before{content:"\e162"}.glyphicon-log-out:before{content:"\e163"}.glyphicon-new-window:before{content:"\e164"}.glyphicon-record:before{content:"\e165"}.glyphicon-save:before{content:"\e166"}.glyphicon-open:before{content:"\e167"}.glyphicon-saved:before{content:"\e168"}.glyphicon-import:before{content:"\e169"}.glyphicon-export:before{content:"\e170"}.glyphicon-send:before{content:"\e171"}.glyphicon-floppy-disk:before{content:"\e172"}.glyphicon-floppy-saved:before{content:"\e173"}.glyphicon-floppy-remove:before{content:"\e174"}.glyphicon-floppy-save:before{content:"\e175"}.glyphicon-floppy-open:before{content:"\e176"}.glyphicon-credit-card:before{content:"\e177"}.glyphicon-transfer:before{content:"\e178"}.glyphicon-cutlery:before{content:"\e179"}.glyphicon-header:before{content:"\e180"}.glyphicon-compressed:before{content:"\e181"}.glyphicon-earphone:before{content:"\e182"}.glyphicon-phone-alt:before{content:"\e183"}.glyphicon-tower:before{content:"\e184"}.glyphicon-stats:before{content:"\e185"}.glyphicon-sd-video:before{content:"\e186"}.glyphicon-hd-video:before{content:"\e187"}.glyphicon-subtitles:before{content:"\e188"}.glyphicon-sound-stereo:before{content:"\e189"}.glyphicon-sound-dolby:before{content:"\e190"}.glyphicon-sound-5-1:before{content:"\e191"}.glyphicon-sound-6-1:before{content:"\e192"}.glyphicon-sound-7-1:before{content:"\e193"}.glyphicon-copyright-mark:before{content:"\e194"}.glyphicon-registration-mark:before{content:"\e195"}.glyphicon-cloud-download:before{content:"\e197"}.glyphicon-cloud-upload:before{content:"\e198"}.glyphicon-tree-conifer:before{content:"\e199"}.glyphicon-tree-deciduous:before{content:"\e200"}.glyphicon-cd:before{content:"\e201"}.glyphicon-save-file:before{content:"\e202"}.glyphicon-open-file:before{content:"\e203"}.glyphicon-level-up:before{content:"\e204"}.glyphicon-copy:before{content:"\e205"}.glyphicon-paste:before{content:"\e206"}.glyphicon-alert:before{content:"\e209"}.glyphicon-equalizer:before{content:"\e210"}.glyphicon-king:before{content:"\e211"}.glyphicon-queen:before{content:"\e212"}.glyphicon-pawn:before{content:"\e213"}.glyphicon-bishop:before{content:"\e214"}.glyphicon-knight:before{content:"\e215"}.glyphicon-baby-formula:before{content:"\e216"}.glyphicon-tent:before{content:"\26fa"}.glyphicon-blackboard:before{content:"\e218"}.glyphicon-bed:before{content:"\e219"}.glyphicon-apple:before{content:"\f8ff"}.glyphicon-erase:before{content:"\e221"}.glyphicon-hourglass:before{content:"\231b"}.glyphicon-lamp:before{content:"\e223"}.glyphicon-duplicate:before{content:"\e224"}.glyphicon-piggy-bank:before{content:"\e225"}.glyphicon-scissors:before{content:"\e226"}.glyphicon-bitcoin:before,.glyphicon-btc:before,.glyphicon-xbt:before{content:"\e227"}.glyphicon-jpy:before,.glyphicon-yen:before{content:"\00a5"}.glyphicon-rub:before,.glyphicon-ruble:before{content:"\20bd"}.glyphicon-scale:before{content:"\e230"}.glyphicon-ice-lolly:before{content:"\e231"}.glyphicon-ice-lolly-tasted:before{content:"\e232"}.glyphicon-education:before{content:"\e233"}.glyphicon-option-horizontal:before{content:"\e234"}.glyphicon-option-vertical:before{content:"\e235"}.glyphicon-menu-hamburger:before{content:"\e236"}.glyphicon-modal-window:before{content:"\e237"}.glyphicon-oil:before{content:"\e238"}.glyphicon-grain:before{content:"\e239"}.glyphicon-sunglasses:before{content:"\e240"}.glyphicon-text-size:before{content:"\e241"}.glyphicon-text-color:before{content:"\e242"}.glyphicon-text-background:before{content:"\e243"}.glyphicon-object-align-top:before{content:"\e244"}.glyphicon-object-align-bottom:before{content:"\e245"}.glyphicon-object-align-horizontal:before{content:"\e246"}.glyphicon-object-align-left:before{content:"\e247"}.glyphicon-object-align-vertical:before{content:"\e248"}.glyphicon-object-align-right:before{content:"\e249"}.glyphicon-triangle-right:before{content:"\e250"}.glyphicon-triangle-left:before{content:"\e251"}.glyphicon-triangle-bottom:before{content:"\e252"}.glyphicon-triangle-top:before{content:"\e253"}.glyphicon-console:before{content:"\e254"}.glyphicon-superscript:before{content:"\e255"}.glyphicon-subscript:before{content:"\e256"}.glyphicon-menu-left:before{content:"\e257"}.glyphicon-menu-right:before{content:"\e258"}.glyphicon-menu-down:before{content:"\e259"}.glyphicon-menu-up:before{content:"\e260"}*,:after,:before{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}body{margin:0;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-size:13px;line-height:1.42857143;color:#000;background-color:#fff}button,input,select,textarea{font-family:inherit;font-size:inherit;line-height:inherit}a{color:#337ab7;text-decoration:none}a:focus,a:hover{color:#23527c;text-decoration:underline}a:focus{outline:dotted thin;outline:-webkit-focus-ring-color auto 5px;outline-offset:-2px}figure{margin:0}.carousel-inner>.item>a>img,.carousel-inner>.item>img,.img-responsive,.thumbnail a>img,.thumbnail>img{display:block;max-width:100%;height:auto}.img-rounded{border-radius:3px}.img-thumbnail{padding:4px;line-height:1.42857143;background-color:#fff;border:1px solid #ddd;border-radius:2px;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out;transition:all .2s ease-in-out;display:inline-block;max-width:100%;height:auto}.img-circle{border-radius:50%}hr{margin-top:18px;margin-bottom:18px;border:0;border-top:1px solid #eee}.sr-only{position:absolute;width:1px;height:1px;margin:-1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);border:0}.sr-only-focusable:active,.sr-only-focusable:focus{position:static;width:auto;height:auto;margin:0;overflow:visible;clip:auto}[role=button]{cursor:pointer}.h1,.h2,.h3,.h4,.h5,.h6,h1,h2,h3,h4,h5,h6{font-family:inherit;font-weight:500;line-height:1.1;color:inherit}.h1 .small,.h1 small,.h2 .small,.h2 small,.h3 .small,.h3 small,.h4 .small,.h4 small,.h5 .small,.h5 small,.h6 .small,.h6 small,h1 .small,h1 small,h2 .small,h2 small,h3 .small,h3 small,h4 .small,h4 small,h5 .small,h5 small,h6 .small,h6 small{font-weight:400;line-height:1;color:#777}.h1,.h2,.h3,h1,h2,h3{margin-top:18px;margin-bottom:9px}.h1 .small,.h1 small,.h2 .small,.h2 small,.h3 .small,.h3 small,h1 .small,h1 small,h2 .small,h2 small,h3 .small,h3 small{font-size:65%}.h4,.h5,.h6,h4,h5,h6{margin-top:9px;margin-bottom:9px}.h4 .small,.h4 small,.h5 .small,.h5 small,.h6 .small,.h6 small,h4 .small,h4 small,h5 .small,h5 small,h6 .small,h6 small{font-size:75%}.h1,h1{font-size:33px}.h2,h2{font-size:27px}.h3,h3{font-size:23px}.h4,h4{font-size:17px}.h5,h5{font-size:13px}.h6,h6{font-size:12px}p{margin:0 0 9px}.lead{margin-bottom:18px;font-size:14px;font-weight:300;line-height:1.4}@media (min-width:768px){.lead{font-size:19.5px}}.small,small{font-size:92%}.mark,mark{background-color:#fcf8e3;padding:.2em}.text-left{text-align:left}.text-right{text-align:right}.text-center{text-align:center}.text-justify{text-align:justify}.text-nowrap{white-space:nowrap}.text-lowercase{text-transform:lowercase}.text-uppercase{text-transform:uppercase}.text-capitalize{text-transform:capitalize}.text-muted{color:#777}.text-primary{color:#337ab7}a.text-primary:hover{color:#286090}.text-success{color:#3c763d}a.text-success:hover{color:#2b542c}.text-info{color:#31708f}a.text-info:hover{color:#245269}.text-warning{color:#8a6d3b}a.text-warning:hover{color:#66512c}.text-danger{color:#a94442}a.text-danger:hover{color:#843534}.bg-primary{color:#fff;background-color:#337ab7}a.bg-primary:hover{background-color:#286090}.bg-success{background-color:#dff0d8}a.bg-success:hover{background-color:#c1e2b3}.bg-info{background-color:#d9edf7}a.bg-info:hover{background-color:#afd9ee}.bg-warning{background-color:#fcf8e3}a.bg-warning:hover{background-color:#f7ecb5}.bg-danger{background-color:#f2dede}a.bg-danger:hover{background-color:#e4b9b9}.page-header{padding-bottom:8px;margin:36px 0 18px;border-bottom:1px solid #eee}ol,ul{margin-top:0;margin-bottom:9px}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}.list-unstyled{padding-left:0;list-style:none}.list-inline{padding-left:0;list-style:none;margin-left:-5px}.list-inline>li{display:inline-block;padding-left:5px;padding-right:5px}dl{margin-top:0;margin-bottom:18px}dd,dt{line-height:1.42857143}dt{font-weight:700}dd{margin-left:0}@media (min-width:541px){.dl-horizontal dt{float:left;width:160px;clear:left;text-align:right;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dl-horizontal dd{margin-left:180px}}abbr[data-original-title],abbr[title]{cursor:help;border-bottom:1px dotted #777}.initialism{font-size:90%;text-transform:uppercase}blockquote{padding:9px 18px;margin:0 0 18px;font-size:inherit;border-left:5px solid #eee}blockquote ol:last-child,blockquote p:last-child,blockquote ul:last-child{margin-bottom:0}blockquote .small,blockquote footer,blockquote small{display:block;font-size:80%;line-height:1.42857143;color:#777}blockquote .small:before,blockquote footer:before,blockquote small:before{content:'\2014 \00A0'}.blockquote-reverse,blockquote.pull-right{padding-right:15px;padding-left:0;border-right:5px solid #eee;border-left:0;text-align:right}.blockquote-reverse .small:before,.blockquote-reverse footer:before,.blockquote-reverse small:before,blockquote.pull-right .small:before,blockquote.pull-right footer:before,blockquote.pull-right small:before{content:''}.blockquote-reverse .small:after,.blockquote-reverse footer:after,.blockquote-reverse small:after,blockquote.pull-right .small:after,blockquote.pull-right footer:after,blockquote.pull-right small:after{content:'\00A0 \2014'}address{margin-bottom:18px;font-style:normal;line-height:1.42857143}code,kbd,pre,samp{font-family:monospace}code{padding:2px 4px;font-size:90%;background-color:#f9f2f4;border-radius:2px}kbd{padding:2px 4px;font-size:90%;color:#fff;background-color:#333;border-radius:1px;box-shadow:inset 0 -1px 0 rgba(0,0,0,.25)}kbd kbd{padding:0;font-size:100%;font-weight:700;box-shadow:none}pre{display:block;padding:8.5px;margin:0 0 9px;word-break:break-all;word-wrap:break-word;color:#333;background-color:#f5f5f5;border:1px solid #ccc;border-radius:2px}pre code{padding:0;font-size:inherit;color:inherit;white-space:pre-wrap;background-color:transparent;border-radius:0}.pre-scrollable{max-height:340px;overflow-y:scroll}.container{margin-right:auto;margin-left:auto;padding-left:0;padding-right:0}@media (min-width:768px){.container{width:768px}}@media (min-width:992px){.container{width:940px}}@media (min-width:1200px){.container{width:1140px}}.container-fluid{margin-right:auto;margin-left:auto;padding-left:0;padding-right:0}.row{margin-left:0;margin-right:0}.col-lg-1,.col-lg-10,.col-lg-11,.col-lg-12,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9,.col-md-1,.col-md-10,.col-md-11,.col-md-12,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9,.col-sm-1,.col-sm-10,.col-sm-11,.col-sm-12,.col-sm-2,.col-sm-3,.col-sm-4,.col-sm-5,.col-sm-6,.col-sm-7,.col-sm-8,.col-sm-9,.col-xs-1,.col-xs-10,.col-xs-11,.col-xs-12,.col-xs-2,.col-xs-3,.col-xs-4,.col-xs-5,.col-xs-6,.col-xs-7,.col-xs-8,.col-xs-9{position:relative;min-height:1px;padding-left:0;padding-right:0}.col-xs-1,.col-xs-10,.col-xs-11,.col-xs-12,.col-xs-2,.col-xs-3,.col-xs-4,.col-xs-5,.col-xs-6,.col-xs-7,.col-xs-8,.col-xs-9{float:left}.col-xs-12{width:100%}.col-xs-11{width:91.66666667%}.col-xs-10{width:83.33333333%}.col-xs-9{width:75%}.col-xs-8{width:66.66666667%}.col-xs-7{width:58.33333333%}.col-xs-6{width:50%}.col-xs-5{width:41.66666667%}.col-xs-4{width:33.33333333%}.col-xs-3{width:25%}.col-xs-2{width:16.66666667%}.col-xs-1{width:8.33333333%}.col-xs-pull-12{right:100%}.col-xs-pull-11{right:91.66666667%}.col-xs-pull-10{right:83.33333333%}.col-xs-pull-9{right:75%}.col-xs-pull-8{right:66.66666667%}.col-xs-pull-7{right:58.33333333%}.col-xs-pull-6{right:50%}.col-xs-pull-5{right:41.66666667%}.col-xs-pull-4{right:33.33333333%}.col-xs-pull-3{right:25%}.col-xs-pull-2{right:16.66666667%}.col-xs-pull-1{right:8.33333333%}.col-xs-pull-0{right:auto}.col-xs-push-12{left:100%}.col-xs-push-11{left:91.66666667%}.col-xs-push-10{left:83.33333333%}.col-xs-push-9{left:75%}.col-xs-push-8{left:66.66666667%}.col-xs-push-7{left:58.33333333%}.col-xs-push-6{left:50%}.col-xs-push-5{left:41.66666667%}.col-xs-push-4{left:33.33333333%}.col-xs-push-3{left:25%}.col-xs-push-2{left:16.66666667%}.col-xs-push-1{left:8.33333333%}.col-xs-push-0{left:auto}.col-xs-offset-12{margin-left:100%}.col-xs-offset-11{margin-left:91.66666667%}.col-xs-offset-10{margin-left:83.33333333%}.col-xs-offset-9{margin-left:75%}.col-xs-offset-8{margin-left:66.66666667%}.col-xs-offset-7{margin-left:58.33333333%}.col-xs-offset-6{margin-left:50%}.col-xs-offset-5{margin-left:41.66666667%}.col-xs-offset-4{margin-left:33.33333333%}.col-xs-offset-3{margin-left:25%}.col-xs-offset-2{margin-left:16.66666667%}.col-xs-offset-1{margin-left:8.33333333%}.col-xs-offset-0{margin-left:0}@media (min-width:768px){.col-sm-1,.col-sm-10,.col-sm-11,.col-sm-12,.col-sm-2,.col-sm-3,.col-sm-4,.col-sm-5,.col-sm-6,.col-sm-7,.col-sm-8,.col-sm-9{float:left}.col-sm-12{width:100%}.col-sm-11{width:91.66666667%}.col-sm-10{width:83.33333333%}.col-sm-9{width:75%}.col-sm-8{width:66.66666667%}.col-sm-7{width:58.33333333%}.col-sm-6{width:50%}.col-sm-5{width:41.66666667%}.col-sm-4{width:33.33333333%}.col-sm-3{width:25%}.col-sm-2{width:16.66666667%}.col-sm-1{width:8.33333333%}.col-sm-pull-12{right:100%}.col-sm-pull-11{right:91.66666667%}.col-sm-pull-10{right:83.33333333%}.col-sm-pull-9{right:75%}.col-sm-pull-8{right:66.66666667%}.col-sm-pull-7{right:58.33333333%}.col-sm-pull-6{right:50%}.col-sm-pull-5{right:41.66666667%}.col-sm-pull-4{right:33.33333333%}.col-sm-pull-3{right:25%}.col-sm-pull-2{right:16.66666667%}.col-sm-pull-1{right:8.33333333%}.col-sm-pull-0{right:auto}.col-sm-push-12{left:100%}.col-sm-push-11{left:91.66666667%}.col-sm-push-10{left:83.33333333%}.col-sm-push-9{left:75%}.col-sm-push-8{left:66.66666667%}.col-sm-push-7{left:58.33333333%}.col-sm-push-6{left:50%}.col-sm-push-5{left:41.66666667%}.col-sm-push-4{left:33.33333333%}.col-sm-push-3{left:25%}.col-sm-push-2{left:16.66666667%}.col-sm-push-1{left:8.33333333%}.col-sm-push-0{left:auto}.col-sm-offset-12{margin-left:100%}.col-sm-offset-11{margin-left:91.66666667%}.col-sm-offset-10{margin-left:83.33333333%}.col-sm-offset-9{margin-left:75%}.col-sm-offset-8{margin-left:66.66666667%}.col-sm-offset-7{margin-left:58.33333333%}.col-sm-offset-6{margin-left:50%}.col-sm-offset-5{margin-left:41.66666667%}.col-sm-offset-4{margin-left:33.33333333%}.col-sm-offset-3{margin-left:25%}.col-sm-offset-2{margin-left:16.66666667%}.col-sm-offset-1{margin-left:8.33333333%}.col-sm-offset-0{margin-left:0}}@media (min-width:992px){.col-md-1,.col-md-10,.col-md-11,.col-md-12,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9{float:left}.col-md-12{width:100%}.col-md-11{width:91.66666667%}.col-md-10{width:83.33333333%}.col-md-9{width:75%}.col-md-8{width:66.66666667%}.col-md-7{width:58.33333333%}.col-md-6{width:50%}.col-md-5{width:41.66666667%}.col-md-4{width:33.33333333%}.col-md-3{width:25%}.col-md-2{width:16.66666667%}.col-md-1{width:8.33333333%}.col-md-pull-12{right:100%}.col-md-pull-11{right:91.66666667%}.col-md-pull-10{right:83.33333333%}.col-md-pull-9{right:75%}.col-md-pull-8{right:66.66666667%}.col-md-pull-7{right:58.33333333%}.col-md-pull-6{right:50%}.col-md-pull-5{right:41.66666667%}.col-md-pull-4{right:33.33333333%}.col-md-pull-3{right:25%}.col-md-pull-2{right:16.66666667%}.col-md-pull-1{right:8.33333333%}.col-md-pull-0{right:auto}.col-md-push-12{left:100%}.col-md-push-11{left:91.66666667%}.col-md-push-10{left:83.33333333%}.col-md-push-9{left:75%}.col-md-push-8{left:66.66666667%}.col-md-push-7{left:58.33333333%}.col-md-push-6{left:50%}.col-md-push-5{left:41.66666667%}.col-md-push-4{left:33.33333333%}.col-md-push-3{left:25%}.col-md-push-2{left:16.66666667%}.col-md-push-1{left:8.33333333%}.col-md-push-0{left:auto}.col-md-offset-12{margin-left:100%}.col-md-offset-11{margin-left:91.66666667%}.col-md-offset-10{margin-left:83.33333333%}.col-md-offset-9{margin-left:75%}.col-md-offset-8{margin-left:66.66666667%}.col-md-offset-7{margin-left:58.33333333%}.col-md-offset-6{margin-left:50%}.col-md-offset-5{margin-left:41.66666667%}.col-md-offset-4{margin-left:33.33333333%}.col-md-offset-3{margin-left:25%}.col-md-offset-2{margin-left:16.66666667%}.col-md-offset-1{margin-left:8.33333333%}.col-md-offset-0{margin-left:0}}@media (min-width:1200px){.col-lg-1,.col-lg-10,.col-lg-11,.col-lg-12,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9{float:left}.col-lg-12{width:100%}.col-lg-11{width:91.66666667%}.col-lg-10{width:83.33333333%}.col-lg-9{width:75%}.col-lg-8{width:66.66666667%}.col-lg-7{width:58.33333333%}.col-lg-6{width:50%}.col-lg-5{width:41.66666667%}.col-lg-4{width:33.33333333%}.col-lg-3{width:25%}.col-lg-2{width:16.66666667%}.col-lg-1{width:8.33333333%}.col-lg-pull-12{right:100%}.col-lg-pull-11{right:91.66666667%}.col-lg-pull-10{right:83.33333333%}.col-lg-pull-9{right:75%}.col-lg-pull-8{right:66.66666667%}.col-lg-pull-7{right:58.33333333%}.col-lg-pull-6{right:50%}.col-lg-pull-5{right:41.66666667%}.col-lg-pull-4{right:33.33333333%}.col-lg-pull-3{right:25%}.col-lg-pull-2{right:16.66666667%}.col-lg-pull-1{right:8.33333333%}.col-lg-pull-0{right:auto}.col-lg-push-12{left:100%}.col-lg-push-11{left:91.66666667%}.col-lg-push-10{left:83.33333333%}.col-lg-push-9{left:75%}.col-lg-push-8{left:66.66666667%}.col-lg-push-7{left:58.33333333%}.col-lg-push-6{left:50%}.col-lg-push-5{left:41.66666667%}.col-lg-push-4{left:33.33333333%}.col-lg-push-3{left:25%}.col-lg-push-2{left:16.66666667%}.col-lg-push-1{left:8.33333333%}.col-lg-push-0{left:auto}.col-lg-offset-12{margin-left:100%}.col-lg-offset-11{margin-left:91.66666667%}.col-lg-offset-10{margin-left:83.33333333%}.col-lg-offset-9{margin-left:75%}.col-lg-offset-8{margin-left:66.66666667%}.col-lg-offset-7{margin-left:58.33333333%}.col-lg-offset-6{margin-left:50%}.col-lg-offset-5{margin-left:41.66666667%}.col-lg-offset-4{margin-left:33.33333333%}.col-lg-offset-3{margin-left:25%}.col-lg-offset-2{margin-left:16.66666667%}.col-lg-offset-1{margin-left:8.33333333%}.col-lg-offset-0{margin-left:0}}table{background-color:transparent}caption{padding-top:8px;padding-bottom:8px;color:#777;text-align:left}th{text-align:left}.table{width:100%;max-width:100%;margin-bottom:18px}.table>tbody>tr>td,.table>tbody>tr>th,.table>tfoot>tr>td,.table>tfoot>tr>th,.table>thead>tr>td,.table>thead>tr>th{padding:8px;line-height:1.42857143;vertical-align:top;border-top:1px solid #ddd}.table>thead>tr>th{vertical-align:bottom;border-bottom:2px solid #ddd}.table>caption+thead>tr:first-child>td,.table>caption+thead>tr:first-child>th,.table>colgroup+thead>tr:first-child>td,.table>colgroup+thead>tr:first-child>th,.table>thead:first-child>tr:first-child>td,.table>thead:first-child>tr:first-child>th{border-top:0}.table>tbody+tbody{border-top:2px solid #ddd}.table .table{background-color:#fff}.table-condensed>tbody>tr>td,.table-condensed>tbody>tr>th,.table-condensed>tfoot>tr>td,.table-condensed>tfoot>tr>th,.table-condensed>thead>tr>td,.table-condensed>thead>tr>th{padding:5px}.table-bordered,.table-bordered>tbody>tr>td,.table-bordered>tbody>tr>th,.table-bordered>tfoot>tr>td,.table-bordered>tfoot>tr>th,.table-bordered>thead>tr>td,.table-bordered>thead>tr>th{border:1px solid #ddd}.table-bordered>thead>tr>td,.table-bordered>thead>tr>th{border-bottom-width:2px}.table-striped>tbody>tr:nth-of-type(odd){background-color:#f9f9f9}.table-hover>tbody>tr:hover{background-color:#f5f5f5}table col[class*=col-]{position:static;float:none;display:table-column}table td[class*=col-],table th[class*=col-]{position:static;float:none;display:table-cell}.table>tbody>tr.active>td,.table>tbody>tr.active>th,.table>tbody>tr>td.active,.table>tbody>tr>th.active,.table>tfoot>tr.active>td,.table>tfoot>tr.active>th,.table>tfoot>tr>td.active,.table>tfoot>tr>th.active,.table>thead>tr.active>td,.table>thead>tr.active>th,.table>thead>tr>td.active,.table>thead>tr>th.active{background-color:#f5f5f5}.table-hover>tbody>tr.active:hover>td,.table-hover>tbody>tr.active:hover>th,.table-hover>tbody>tr:hover>.active,.table-hover>tbody>tr>td.active:hover,.table-hover>tbody>tr>th.active:hover{background-color:#e8e8e8}.table>tbody>tr.success>td,.table>tbody>tr.success>th,.table>tbody>tr>td.success,.table>tbody>tr>th.success,.table>tfoot>tr.success>td,.table>tfoot>tr.success>th,.table>tfoot>tr>td.success,.table>tfoot>tr>th.success,.table>thead>tr.success>td,.table>thead>tr.success>th,.table>thead>tr>td.success,.table>thead>tr>th.success{background-color:#dff0d8}.table-hover>tbody>tr.success:hover>td,.table-hover>tbody>tr.success:hover>th,.table-hover>tbody>tr:hover>.success,.table-hover>tbody>tr>td.success:hover,.table-hover>tbody>tr>th.success:hover{background-color:#d0e9c6}.table>tbody>tr.info>td,.table>tbody>tr.info>th,.table>tbody>tr>td.info,.table>tbody>tr>th.info,.table>tfoot>tr.info>td,.table>tfoot>tr.info>th,.table>tfoot>tr>td.info,.table>tfoot>tr>th.info,.table>thead>tr.info>td,.table>thead>tr.info>th,.table>thead>tr>td.info,.table>thead>tr>th.info{background-color:#d9edf7}.table-hover>tbody>tr.info:hover>td,.table-hover>tbody>tr.info:hover>th,.table-hover>tbody>tr:hover>.info,.table-hover>tbody>tr>td.info:hover,.table-hover>tbody>tr>th.info:hover{background-color:#c4e3f3}.table>tbody>tr.warning>td,.table>tbody>tr.warning>th,.table>tbody>tr>td.warning,.table>tbody>tr>th.warning,.table>tfoot>tr.warning>td,.table>tfoot>tr.warning>th,.table>tfoot>tr>td.warning,.table>tfoot>tr>th.warning,.table>thead>tr.warning>td,.table>thead>tr.warning>th,.table>thead>tr>td.warning,.table>thead>tr>th.warning{background-color:#fcf8e3}.table-hover>tbody>tr.warning:hover>td,.table-hover>tbody>tr.warning:hover>th,.table-hover>tbody>tr:hover>.warning,.table-hover>tbody>tr>td.warning:hover,.table-hover>tbody>tr>th.warning:hover{background-color:#faf2cc}.table>tbody>tr.danger>td,.table>tbody>tr.danger>th,.table>tbody>tr>td.danger,.table>tbody>tr>th.danger,.table>tfoot>tr.danger>td,.table>tfoot>tr.danger>th,.table>tfoot>tr>td.danger,.table>tfoot>tr>th.danger,.table>thead>tr.danger>td,.table>thead>tr.danger>th,.table>thead>tr>td.danger,.table>thead>tr>th.danger{background-color:#f2dede}.table-hover>tbody>tr.danger:hover>td,.table-hover>tbody>tr.danger:hover>th,.table-hover>tbody>tr:hover>.danger,.table-hover>tbody>tr>td.danger:hover,.table-hover>tbody>tr>th.danger:hover{background-color:#ebcccc}.table-responsive{overflow-x:auto;min-height:.01%}@media screen and (max-width:767px){.table-responsive{width:100%;margin-bottom:13.5px;overflow-y:hidden;-ms-overflow-style:-ms-autohiding-scrollbar;border:1px solid #ddd}.table-responsive>.table{margin-bottom:0}.table-responsive>.table>tbody>tr>td,.table-responsive>.table>tbody>tr>th,.table-responsive>.table>tfoot>tr>td,.table-responsive>.table>tfoot>tr>th,.table-responsive>.table>thead>tr>td,.table-responsive>.table>thead>tr>th{white-space:nowrap}.table-responsive>.table-bordered{border:0}.table-responsive>.table-bordered>tbody>tr>td:first-child,.table-responsive>.table-bordered>tbody>tr>th:first-child,.table-responsive>.table-bordered>tfoot>tr>td:first-child,.table-responsive>.table-bordered>tfoot>tr>th:first-child,.table-responsive>.table-bordered>thead>tr>td:first-child,.table-responsive>.table-bordered>thead>tr>th:first-child{border-left:0}.table-responsive>.table-bordered>tbody>tr>td:last-child,.table-responsive>.table-bordered>tbody>tr>th:last-child,.table-responsive>.table-bordered>tfoot>tr>td:last-child,.table-responsive>.table-bordered>tfoot>tr>th:last-child,.table-responsive>.table-bordered>thead>tr>td:last-child,.table-responsive>.table-bordered>thead>tr>th:last-child{border-right:0}.table-responsive>.table-bordered>tbody>tr:last-child>td,.table-responsive>.table-bordered>tbody>tr:last-child>th,.table-responsive>.table-bordered>tfoot>tr:last-child>td,.table-responsive>.table-bordered>tfoot>tr:last-child>th{border-bottom:0}}fieldset{padding:0;margin:0;border:0;min-width:0}legend{display:block;width:100%;padding:0;margin-bottom:18px;font-size:19.5px;line-height:inherit;color:#333;border:0;border-bottom:1px solid #e5e5e5}label{display:inline-block;max-width:100%;margin-bottom:5px}input[type=search]{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none}input[type=checkbox],input[type=radio]{margin:4px 0 0;margin-top:1px \9;line-height:normal}input[type=file]{display:block}input[type=range]{display:block;width:100%}select[multiple],select[size]{height:auto}input[type=file]:focus,input[type=checkbox]:focus,input[type=radio]:focus{outline:dotted thin;outline:-webkit-focus-ring-color auto 5px;outline-offset:-2px}output{display:block;padding-top:7px;font-size:13px;line-height:1.42857143;color:#555}.form-control{display:block;width:100%;height:32px;padding:6px 12px;font-size:13px;line-height:1.42857143;color:#555;background-color:#fff;background-image:none;border:1px solid #ccc;border-radius:2px;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075);-webkit-transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s;-o-transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s;transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s}.form-control:focus{border-color:#66afe9;outline:0;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6);box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6)}.form-control::-moz-placeholder{color:#999;opacity:1}.form-control:-ms-input-placeholder{color:#999}.form-control::-webkit-input-placeholder{color:#999}.form-control[disabled],.form-control[readonly],fieldset[disabled] .form-control{background-color:#eee;opacity:1}.form-control[disabled],fieldset[disabled] .form-control{cursor:not-allowed}textarea.form-control{height:auto}@media screen and (-webkit-min-device-pixel-ratio:0){input[type=date],input[type=time],input[type=datetime-local],input[type=month]{line-height:32px}.input-group-sm input[type=date],.input-group-sm input[type=time],.input-group-sm input[type=datetime-local],.input-group-sm input[type=month],input[type=date].input-sm,input[type=time].input-sm,input[type=datetime-local].input-sm,input[type=month].input-sm{line-height:30px}.input-group-lg input[type=date],.input-group-lg input[type=time],.input-group-lg input[type=datetime-local],.input-group-lg input[type=month],input[type=date].input-lg,input[type=time].input-lg,input[type=datetime-local].input-lg,input[type=month].input-lg{line-height:45px}}.form-group{margin-bottom:15px}.checkbox,.radio{position:relative;display:block;margin-top:10px;margin-bottom:10px}.checkbox label,.radio label{min-height:18px;padding-left:20px;margin-bottom:0;font-weight:400;cursor:pointer}.checkbox input[type=checkbox],.checkbox-inline input[type=checkbox],.radio input[type=radio],.radio-inline input[type=radio]{position:absolute;margin-left:-20px;margin-top:4px \9}.checkbox+.checkbox,.radio+.radio{margin-top:-5px}.checkbox-inline,.radio-inline{position:relative;display:inline-block;padding-left:20px;margin-bottom:0;vertical-align:middle;font-weight:400;cursor:pointer}.checkbox-inline+.checkbox-inline,.radio-inline+.radio-inline{margin-top:0;margin-left:10px}.checkbox-inline.disabled,.checkbox.disabled label,.radio-inline.disabled,.radio.disabled label,fieldset[disabled] .checkbox label,fieldset[disabled] .checkbox-inline,fieldset[disabled] .radio label,fieldset[disabled] .radio-inline,fieldset[disabled] input[type=checkbox],fieldset[disabled] input[type=radio],input[type=checkbox].disabled,input[type=checkbox][disabled],input[type=radio].disabled,input[type=radio][disabled]{cursor:not-allowed}.form-control-static{padding-top:7px;padding-bottom:7px;margin-bottom:0;min-height:31px}.form-control-static.input-lg,.form-control-static.input-sm{padding-left:0;padding-right:0}.input-sm{height:30px;padding:5px 10px;font-size:12px;line-height:1.5;border-radius:1px}select.input-sm{height:30px;line-height:30px}select[multiple].input-sm,textarea.input-sm{height:auto}.form-group-sm .form-control{height:30px;padding:5px 10px;font-size:12px;line-height:1.5;border-radius:1px}select.form-group-sm .form-control{height:30px;line-height:30px}select[multiple].form-group-sm .form-control,textarea.form-group-sm .form-control{height:auto}.form-group-sm .form-control-static{height:30px;padding:5px 10px;font-size:12px;line-height:1.5;min-height:30px}.input-lg{height:45px;padding:10px 16px;font-size:17px;line-height:1.3333333;border-radius:3px}select.input-lg{height:45px;line-height:45px}select[multiple].input-lg,textarea.input-lg{height:auto}.form-group-lg .form-control{height:45px;padding:10px 16px;font-size:17px;line-height:1.3333333;border-radius:3px}select.form-group-lg .form-control{height:45px;line-height:45px}select[multiple].form-group-lg .form-control,textarea.form-group-lg .form-control{height:auto}.form-group-lg .form-control-static{height:45px;padding:10px 16px;font-size:17px;line-height:1.3333333;min-height:35px}.has-feedback{position:relative}.has-feedback .form-control{padding-right:40px}.form-control-feedback{position:absolute;top:0;right:0;z-index:2;display:block;width:32px;height:32px;line-height:32px;text-align:center;pointer-events:none}.input-lg+.form-control-feedback{width:45px;height:45px;line-height:45px}.input-sm+.form-control-feedback{width:30px;height:30px;line-height:30px}.has-success .checkbox,.has-success .checkbox-inline,.has-success .control-label,.has-success .help-block,.has-success .radio,.has-success .radio-inline,.has-success.checkbox label,.has-success.checkbox-inline label,.has-success.radio label,.has-success.radio-inline label{color:#3c763d}.has-success .form-control{border-color:#3c763d;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075)}.has-success .form-control:focus{border-color:#2b542c;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #67b168;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #67b168}.has-success .input-group-addon{color:#3c763d;border-color:#3c763d;background-color:#dff0d8}.has-success .form-control-feedback{color:#3c763d}.has-warning .checkbox,.has-warning .checkbox-inline,.has-warning .control-label,.has-warning .help-block,.has-warning .radio,.has-warning .radio-inline,.has-warning.checkbox label,.has-warning.checkbox-inline label,.has-warning.radio label,.has-warning.radio-inline label{color:#8a6d3b}.has-warning .form-control{border-color:#8a6d3b;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075)}.has-warning .form-control:focus{border-color:#66512c;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #c0a16b;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #c0a16b}.has-warning .input-group-addon{color:#8a6d3b;border-color:#8a6d3b;background-color:#fcf8e3}.has-warning .form-control-feedback{color:#8a6d3b}.has-error .checkbox,.has-error .checkbox-inline,.has-error .control-label,.has-error .help-block,.has-error .radio,.has-error .radio-inline,.has-error.checkbox label,.has-error.checkbox-inline label,.has-error.radio label,.has-error.radio-inline label{color:#a94442}.has-error .form-control{border-color:#a94442;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075)}.has-error .form-control:focus{border-color:#843534;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #ce8483;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #ce8483}.has-error .input-group-addon{color:#a94442;border-color:#a94442;background-color:#f2dede}.has-error .form-control-feedback{color:#a94442}.has-feedback label~.form-control-feedback{top:23px}.has-feedback label.sr-only~.form-control-feedback{top:0}.help-block{display:block;margin-top:5px;margin-bottom:10px;color:#404040}.form-horizontal .checkbox,.form-horizontal .checkbox-inline,.form-horizontal .radio,.form-horizontal .radio-inline{margin-top:0;margin-bottom:0;padding-top:7px}.form-horizontal .checkbox,.form-horizontal .radio{min-height:25px}.form-horizontal .form-group{margin-left:0;margin-right:0}.form-horizontal .has-feedback .form-control-feedback{right:0}@media (min-width:768px){.form-inline .form-group{display:inline-block;margin-bottom:0;vertical-align:middle}.form-inline .form-control{display:inline-block;width:auto;vertical-align:middle}.form-inline .form-control-static{display:inline-block}.form-inline .input-group{display:inline-table;vertical-align:middle}.form-inline .input-group .form-control,.form-inline .input-group .input-group-addon,.form-inline .input-group .input-group-btn{width:auto}.form-inline .input-group>.form-control{width:100%}.form-inline .control-label{margin-bottom:0;vertical-align:middle}.form-inline .checkbox,.form-inline .radio{display:inline-block;margin-top:0;margin-bottom:0;vertical-align:middle}.form-inline .checkbox label,.form-inline .radio label{padding-left:0}.form-inline .checkbox input[type=checkbox],.form-inline .radio input[type=radio]{position:relative;margin-left:0}.form-inline .has-feedback .form-control-feedback{top:0}.form-horizontal .control-label{text-align:right;margin-bottom:0;padding-top:7px}.form-horizontal .form-group-lg .control-label{padding-top:14.33px}.form-horizontal .form-group-sm .control-label{padding-top:6px}}.btn{display:inline-block;margin-bottom:0;font-weight:400;text-align:center;vertical-align:middle;touch-action:manipulation;cursor:pointer;background-image:none;border:1px solid transparent;white-space:nowrap;padding:6px 12px;font-size:13px;line-height:1.42857143;border-radius:2px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.btn.active.focus,.btn.active:focus,.btn.focus,.btn:active.focus,.btn:active:focus,.btn:focus{outline:dotted thin;outline:-webkit-focus-ring-color auto 5px;outline-offset:-2px}.btn.focus,.btn:focus,.btn:hover{color:#333;text-decoration:none}.btn.active,.btn:active{outline:0;background-image:none;-webkit-box-shadow:inset 0 3px 5px rgba(0,0,0,.125);box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}.btn.disabled,.btn[disabled],fieldset[disabled] .btn{cursor:not-allowed;pointer-events:none;opacity:.65;filter:alpha(opacity=65);-webkit-box-shadow:none;box-shadow:none}.btn-default{color:#333;background-color:#fff;border-color:#ccc}.btn-default.active,.btn-default.focus,.btn-default:active,.btn-default:focus,.btn-default:hover,.open>.dropdown-toggle.btn-default{color:#333;background-color:#e6e6e6;border-color:#adadad}.btn-default.active,.btn-default:active,.open>.dropdown-toggle.btn-default{background-image:none}.btn-default.disabled,.btn-default.disabled.active,.btn-default.disabled.focus,.btn-default.disabled:active,.btn-default.disabled:focus,.btn-default.disabled:hover,.btn-default[disabled],.btn-default[disabled].active,.btn-default[disabled].focus,.btn-default[disabled]:active,.btn-default[disabled]:focus,.btn-default[disabled]:hover,fieldset[disabled] .btn-default,fieldset[disabled] .btn-default.active,fieldset[disabled] .btn-default.focus,fieldset[disabled] .btn-default:active,fieldset[disabled] .btn-default:focus,fieldset[disabled] .btn-default:hover{background-color:#fff;border-color:#ccc}.btn-default .badge{color:#fff;background-color:#333}.btn-primary{color:#fff;background-color:#337ab7;border-color:#2e6da4}.btn-primary.active,.btn-primary.focus,.btn-primary:active,.btn-primary:focus,.btn-primary:hover,.open>.dropdown-toggle.btn-primary{color:#fff;background-color:#286090;border-color:#204d74}.btn-primary.active,.btn-primary:active,.open>.dropdown-toggle.btn-primary{background-image:none}.btn-primary.disabled,.btn-primary.disabled.active,.btn-primary.disabled.focus,.btn-primary.disabled:active,.btn-primary.disabled:focus,.btn-primary.disabled:hover,.btn-primary[disabled],.btn-primary[disabled].active,.btn-primary[disabled].focus,.btn-primary[disabled]:active,.btn-primary[disabled]:focus,.btn-primary[disabled]:hover,fieldset[disabled] .btn-primary,fieldset[disabled] .btn-primary.active,fieldset[disabled] .btn-primary.focus,fieldset[disabled] .btn-primary:active,fieldset[disabled] .btn-primary:focus,fieldset[disabled] .btn-primary:hover{background-color:#337ab7;border-color:#2e6da4}.btn-primary .badge{color:#337ab7;background-color:#fff}.btn-success{color:#fff;background-color:#5cb85c;border-color:#4cae4c}.btn-success.active,.btn-success.focus,.btn-success:active,.btn-success:focus,.btn-success:hover,.open>.dropdown-toggle.btn-success{color:#fff;background-color:#449d44;border-color:#398439}.btn-success.active,.btn-success:active,.open>.dropdown-toggle.btn-success{background-image:none}.btn-success.disabled,.btn-success.disabled.active,.btn-success.disabled.focus,.btn-success.disabled:active,.btn-success.disabled:focus,.btn-success.disabled:hover,.btn-success[disabled],.btn-success[disabled].active,.btn-success[disabled].focus,.btn-success[disabled]:active,.btn-success[disabled]:focus,.btn-success[disabled]:hover,fieldset[disabled] .btn-success,fieldset[disabled] .btn-success.active,fieldset[disabled] .btn-success.focus,fieldset[disabled] .btn-success:active,fieldset[disabled] .btn-success:focus,fieldset[disabled] .btn-success:hover{background-color:#5cb85c;border-color:#4cae4c}.btn-success .badge{color:#5cb85c;background-color:#fff}.btn-info{color:#fff;background-color:#5bc0de;border-color:#46b8da}.btn-info.active,.btn-info.focus,.btn-info:active,.btn-info:focus,.btn-info:hover,.open>.dropdown-toggle.btn-info{color:#fff;background-color:#31b0d5;border-color:#269abc}.btn-info.active,.btn-info:active,.open>.dropdown-toggle.btn-info{background-image:none}.btn-info.disabled,.btn-info.disabled.active,.btn-info.disabled.focus,.btn-info.disabled:active,.btn-info.disabled:focus,.btn-info.disabled:hover,.btn-info[disabled],.btn-info[disabled].active,.btn-info[disabled].focus,.btn-info[disabled]:active,.btn-info[disabled]:focus,.btn-info[disabled]:hover,fieldset[disabled] .btn-info,fieldset[disabled] .btn-info.active,fieldset[disabled] .btn-info.focus,fieldset[disabled] .btn-info:active,fieldset[disabled] .btn-info:focus,fieldset[disabled] .btn-info:hover{background-color:#5bc0de;border-color:#46b8da}.btn-info .badge{color:#5bc0de;background-color:#fff}.btn-warning{color:#fff;background-color:#f0ad4e;border-color:#eea236}.btn-warning.active,.btn-warning.focus,.btn-warning:active,.btn-warning:focus,.btn-warning:hover,.open>.dropdown-toggle.btn-warning{color:#fff;background-color:#ec971f;border-color:#d58512}.btn-warning.active,.btn-warning:active,.open>.dropdown-toggle.btn-warning{background-image:none}.btn-warning.disabled,.btn-warning.disabled.active,.btn-warning.disabled.focus,.btn-warning.disabled:active,.btn-warning.disabled:focus,.btn-warning.disabled:hover,.btn-warning[disabled],.btn-warning[disabled].active,.btn-warning[disabled].focus,.btn-warning[disabled]:active,.btn-warning[disabled]:focus,.btn-warning[disabled]:hover,fieldset[disabled] .btn-warning,fieldset[disabled] .btn-warning.active,fieldset[disabled] .btn-warning.focus,fieldset[disabled] .btn-warning:active,fieldset[disabled] .btn-warning:focus,fieldset[disabled] .btn-warning:hover{background-color:#f0ad4e;border-color:#eea236}.btn-warning .badge{color:#f0ad4e;background-color:#fff}.btn-danger{color:#fff;background-color:#d9534f;border-color:#d43f3a}.btn-danger.active,.btn-danger.focus,.btn-danger:active,.btn-danger:focus,.btn-danger:hover,.open>.dropdown-toggle.btn-danger{color:#fff;background-color:#c9302c;border-color:#ac2925}.btn-danger.active,.btn-danger:active,.open>.dropdown-toggle.btn-danger{background-image:none}.btn-danger.disabled,.btn-danger.disabled.active,.btn-danger.disabled.focus,.btn-danger.disabled:active,.btn-danger.disabled:focus,.btn-danger.disabled:hover,.btn-danger[disabled],.btn-danger[disabled].active,.btn-danger[disabled].focus,.btn-danger[disabled]:active,.btn-danger[disabled]:focus,.btn-danger[disabled]:hover,fieldset[disabled] .btn-danger,fieldset[disabled] .btn-danger.active,fieldset[disabled] .btn-danger.focus,fieldset[disabled] .btn-danger:active,fieldset[disabled] .btn-danger:focus,fieldset[disabled] .btn-danger:hover{background-color:#d9534f;border-color:#d43f3a}.btn-danger .badge{color:#d9534f;background-color:#fff}.btn-link{color:#337ab7;font-weight:400;border-radius:0}.btn-link,.btn-link.active,.btn-link:active,.btn-link[disabled],fieldset[disabled] .btn-link{background-color:transparent;-webkit-box-shadow:none;box-shadow:none}.btn-link,.btn-link:active,.btn-link:focus,.btn-link:hover{border-color:transparent}.btn-link:focus,.btn-link:hover{color:#23527c;text-decoration:underline;background-color:transparent}.btn-link[disabled]:focus,.btn-link[disabled]:hover,fieldset[disabled] .btn-link:focus,fieldset[disabled] .btn-link:hover{color:#777;text-decoration:none}.btn-group-lg>.btn,.btn-lg{padding:10px 16px;font-size:17px;line-height:1.3333333;border-radius:3px}.btn-group-sm>.btn,.btn-sm{padding:5px 10px;font-size:12px;line-height:1.5;border-radius:1px}.btn-group-xs>.btn,.btn-xs{padding:1px 5px;font-size:12px;line-height:1.5;border-radius:1px}.btn-block{display:block;width:100%}.btn-block+.btn-block{margin-top:5px}input[type=button].btn-block,input[type=reset].btn-block,input[type=submit].btn-block{width:100%}.fade{opacity:0;-webkit-transition:opacity .15s linear;-o-transition:opacity .15s linear;transition:opacity .15s linear}.fade.in{opacity:1}.collapse{display:none}.collapse.in{display:block}tr.collapse.in{display:table-row}tbody.collapse.in{display:table-row-group}.collapsing{position:relative;height:0;overflow:hidden;-webkit-transition-property:height,visibility;transition-property:height,visibility;-webkit-transition-duration:.35s;transition-duration:.35s;-webkit-transition-timing-function:ease;transition-timing-function:ease}.caret{display:inline-block;width:0;height:0;margin-left:2px;vertical-align:middle;border-top:4px dashed;border-right:4px solid transparent;border-left:4px solid transparent}.dropdown,.dropup{position:relative}.dropdown-toggle:focus{outline:0}.dropdown-menu{position:absolute;top:100%;left:0;z-index:1000;display:none;float:left;min-width:160px;padding:5px 0;margin:2px 0 0;list-style:none;font-size:13px;text-align:left;background-color:#fff;border:1px solid #ccc;border:1px solid rgba(0,0,0,.15);border-radius:2px;-webkit-box-shadow:0 6px 12px rgba(0,0,0,.175);box-shadow:0 6px 12px rgba(0,0,0,.175);background-clip:padding-box}.dropdown-menu.pull-right{right:0;left:auto}.dropdown-menu .divider{height:1px;margin:8px 0;overflow:hidden;background-color:#e5e5e5}.dropdown-menu>li>a{display:block;padding:3px 20px;clear:both;font-weight:400;line-height:1.42857143;color:#333;white-space:nowrap}.dropdown-menu>li>a:focus,.dropdown-menu>li>a:hover{text-decoration:none;color:#262626;background-color:#f5f5f5}.dropdown-menu>.active>a,.dropdown-menu>.active>a:focus,.dropdown-menu>.active>a:hover{color:#fff;text-decoration:none;outline:0;background-color:#337ab7}.dropdown-menu>.disabled>a,.dropdown-menu>.disabled>a:focus,.dropdown-menu>.disabled>a:hover{color:#777}.dropdown-menu>.disabled>a:focus,.dropdown-menu>.disabled>a:hover{text-decoration:none;background-color:transparent;background-image:none;filter:progid:DXImageTransform.Microsoft.gradient(enabled=false);cursor:not-allowed}.open>.dropdown-menu{display:block}.open>a{outline:0}.dropdown-menu-right{left:auto;right:0}.dropdown-menu-left{left:0;right:auto}.dropdown-header{display:block;padding:3px 20px;font-size:12px;line-height:1.42857143;color:#777;white-space:nowrap}.dropdown-backdrop{position:fixed;left:0;right:0;bottom:0;top:0;z-index:990}.pull-right>.dropdown-menu{right:0;left:auto}.dropup .caret,.navbar-fixed-bottom .dropdown .caret{border-top:0;border-bottom:4px solid;content:""}.dropup .dropdown-menu,.navbar-fixed-bottom .dropdown .dropdown-menu{top:auto;bottom:100%;margin-bottom:2px}@media (min-width:541px){.navbar-right .dropdown-menu{left:auto;right:0}.navbar-right .dropdown-menu-left{left:0;right:auto}}.btn-group,.btn-group-vertical{position:relative;display:inline-block;vertical-align:middle}.btn-group-vertical>.btn,.btn-group>.btn{position:relative;float:left}.btn-group-vertical>.btn.active,.btn-group-vertical>.btn:active,.btn-group-vertical>.btn:focus,.btn-group-vertical>.btn:hover,.btn-group>.btn.active,.btn-group>.btn:active,.btn-group>.btn:focus,.btn-group>.btn:hover{z-index:2}.btn-group .btn+.btn,.btn-group .btn+.btn-group,.btn-group .btn-group+.btn,.btn-group .btn-group+.btn-group{margin-left:-1px}.btn-toolbar{margin-left:-5px}.btn-toolbar .btn-group,.btn-toolbar .input-group{float:left}.btn-toolbar>.btn,.btn-toolbar>.btn-group,.btn-toolbar>.input-group{margin-left:5px}.btn-group>.btn:not(:first-child):not(:last-child):not(.dropdown-toggle){border-radius:0}.btn-group>.btn:first-child{margin-left:0}.btn-group>.btn:first-child:not(:last-child):not(.dropdown-toggle){border-bottom-right-radius:0;border-top-right-radius:0}.btn-group>.btn:last-child:not(:first-child),.btn-group>.dropdown-toggle:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0}.btn-group>.btn-group{float:left}.btn-group>.btn-group:not(:first-child):not(:last-child)>.btn{border-radius:0}.btn-group>.btn-group:first-child:not(:last-child)>.btn:last-child,.btn-group>.btn-group:first-child:not(:last-child)>.dropdown-toggle{border-bottom-right-radius:0;border-top-right-radius:0}.btn-group>.btn-group:last-child:not(:first-child)>.btn:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.btn-group .dropdown-toggle:active,.btn-group.open .dropdown-toggle{outline:0}.btn-group>.btn+.dropdown-toggle{padding-left:8px;padding-right:8px}.btn-group>.btn-lg+.dropdown-toggle{padding-left:12px;padding-right:12px}.btn-group.open .dropdown-toggle{-webkit-box-shadow:inset 0 3px 5px rgba(0,0,0,.125);box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}.btn-group.open .dropdown-toggle.btn-link{-webkit-box-shadow:none;box-shadow:none}.btn .caret{margin-left:0}.btn-lg .caret{border-width:5px 5px 0}.dropup .btn-lg .caret{border-width:0 5px 5px}.btn-group-vertical>.btn,.btn-group-vertical>.btn-group,.btn-group-vertical>.btn-group>.btn{display:block;float:none;width:100%;max-width:100%}.btn-group-vertical>.btn-group>.btn{float:none}.btn-group-vertical>.btn+.btn,.btn-group-vertical>.btn+.btn-group,.btn-group-vertical>.btn-group+.btn,.btn-group-vertical>.btn-group+.btn-group{margin-top:-1px;margin-left:0}.btn-group-vertical>.btn:not(:first-child):not(:last-child){border-radius:0}.btn-group-vertical>.btn:first-child:not(:last-child){border-top-right-radius:2px;border-bottom-right-radius:0;border-bottom-left-radius:0}.btn-group-vertical>.btn:last-child:not(:first-child){border-bottom-left-radius:2px;border-top-right-radius:0;border-top-left-radius:0}.btn-group-vertical>.btn-group:not(:first-child):not(:last-child)>.btn{border-radius:0}.btn-group-vertical>.btn-group:first-child:not(:last-child)>.btn:last-child,.btn-group-vertical>.btn-group:first-child:not(:last-child)>.dropdown-toggle{border-bottom-right-radius:0;border-bottom-left-radius:0}.btn-group-vertical>.btn-group:last-child:not(:first-child)>.btn:first-child{border-top-right-radius:0;border-top-left-radius:0}.btn-group-justified{display:table;width:100%;table-layout:fixed;border-collapse:separate}.btn-group-justified>.btn,.btn-group-justified>.btn-group{float:none;display:table-cell;width:1%}.btn-group-justified>.btn-group .btn{width:100%}.btn-group-justified>.btn-group .dropdown-menu{left:auto}[data-toggle=buttons]>.btn input[type=checkbox],[data-toggle=buttons]>.btn input[type=radio],[data-toggle=buttons]>.btn-group>.btn input[type=checkbox],[data-toggle=buttons]>.btn-group>.btn input[type=radio]{position:absolute;clip:rect(0,0,0,0);pointer-events:none}.input-group{position:relative;display:table;border-collapse:separate}.input-group[class*=col-]{float:none;padding-left:0;padding-right:0}.input-group .form-control{position:relative;z-index:2;float:left;width:100%;margin-bottom:0}.input-group-lg>.form-control,.input-group-lg>.input-group-addon,.input-group-lg>.input-group-btn>.btn{height:45px;padding:10px 16px;font-size:17px;line-height:1.3333333;border-radius:3px}select.input-group-lg>.form-control,select.input-group-lg>.input-group-addon,select.input-group-lg>.input-group-btn>.btn{height:45px;line-height:45px}select[multiple].input-group-lg>.form-control,select[multiple].input-group-lg>.input-group-addon,select[multiple].input-group-lg>.input-group-btn>.btn,textarea.input-group-lg>.form-control,textarea.input-group-lg>.input-group-addon,textarea.input-group-lg>.input-group-btn>.btn{height:auto}.input-group-sm>.form-control,.input-group-sm>.input-group-addon,.input-group-sm>.input-group-btn>.btn{height:30px;padding:5px 10px;font-size:12px;line-height:1.5;border-radius:1px}select.input-group-sm>.form-control,select.input-group-sm>.input-group-addon,select.input-group-sm>.input-group-btn>.btn{height:30px;line-height:30px}select[multiple].input-group-sm>.form-control,select[multiple].input-group-sm>.input-group-addon,select[multiple].input-group-sm>.input-group-btn>.btn,textarea.input-group-sm>.form-control,textarea.input-group-sm>.input-group-addon,textarea.input-group-sm>.input-group-btn>.btn{height:auto}.input-group .form-control,.input-group-addon,.input-group-btn{display:table-cell}.input-group .form-control:not(:first-child):not(:last-child),.input-group-addon:not(:first-child):not(:last-child),.input-group-btn:not(:first-child):not(:last-child){border-radius:0}.input-group-addon,.input-group-btn{width:1%;white-space:nowrap;vertical-align:middle}.input-group-addon{padding:6px 12px;font-size:13px;font-weight:400;line-height:1;color:#555;text-align:center;background-color:#eee;border:1px solid #ccc;border-radius:2px}.input-group-addon.input-sm{padding:5px 10px;font-size:12px;border-radius:1px}.input-group-addon.input-lg{padding:10px 16px;font-size:17px;border-radius:3px}.input-group-addon input[type=checkbox],.input-group-addon input[type=radio]{margin-top:0}.input-group .form-control:first-child,.input-group-addon:first-child,.input-group-btn:first-child>.btn,.input-group-btn:first-child>.btn-group>.btn,.input-group-btn:first-child>.dropdown-toggle,.input-group-btn:last-child>.btn-group:not(:last-child)>.btn,.input-group-btn:last-child>.btn:not(:last-child):not(.dropdown-toggle){border-bottom-right-radius:0;border-top-right-radius:0}.input-group-addon:first-child{border-right:0}.input-group .form-control:last-child,.input-group-addon:last-child,.input-group-btn:first-child>.btn-group:not(:first-child)>.btn,.input-group-btn:first-child>.btn:not(:first-child),.input-group-btn:last-child>.btn,.input-group-btn:last-child>.btn-group>.btn,.input-group-btn:last-child>.dropdown-toggle{border-bottom-left-radius:0;border-top-left-radius:0}.input-group-addon:last-child{border-left:0}.input-group-btn{position:relative;font-size:0;white-space:nowrap}.input-group-btn>.btn{position:relative}.input-group-btn>.btn+.btn{margin-left:-1px}.input-group-btn>.btn:active,.input-group-btn>.btn:focus,.input-group-btn>.btn:hover{z-index:2}.input-group-btn:first-child>.btn,.input-group-btn:first-child>.btn-group{margin-right:-1px}.input-group-btn:last-child>.btn,.input-group-btn:last-child>.btn-group{margin-left:-1px}.nav{margin-bottom:0;padding-left:0;list-style:none}.nav>li{position:relative;display:block}.nav>li>a{position:relative;display:block;padding:10px 15px}.nav>li>a:focus,.nav>li>a:hover{text-decoration:none;background-color:#eee}.nav>li.disabled>a{color:#777}.nav>li.disabled>a:focus,.nav>li.disabled>a:hover{color:#777;text-decoration:none;background-color:transparent;cursor:not-allowed}.nav .open>a,.nav .open>a:focus,.nav .open>a:hover{background-color:#eee;border-color:#337ab7}.nav .nav-divider{height:1px;margin:8px 0;overflow:hidden;background-color:#e5e5e5}.nav>li>a>img{max-width:none}.nav-tabs{border-bottom:1px solid #ddd}.nav-tabs>li{float:left;margin-bottom:-1px}.nav-tabs>li>a{margin-right:2px;line-height:1.42857143;border:1px solid transparent;border-radius:2px 2px 0 0}.nav-tabs>li>a:hover{border-color:#eee #eee #ddd}.nav-tabs>li.active>a,.nav-tabs>li.active>a:focus,.nav-tabs>li.active>a:hover{color:#555;background-color:#fff;border:1px solid #ddd;border-bottom-color:transparent;cursor:default}.nav-tabs.nav-justified{width:100%;border-bottom:0}.nav-tabs.nav-justified>li{float:none}.nav-tabs.nav-justified>li>a{text-align:center;margin-bottom:5px;margin-right:0;border-radius:2px}.nav-tabs.nav-justified>.dropdown .dropdown-menu{top:auto;left:auto}.nav-tabs.nav-justified>.active>a,.nav-tabs.nav-justified>.active>a:focus,.nav-tabs.nav-justified>.active>a:hover{border:1px solid #ddd}@media (min-width:768px){.nav-tabs.nav-justified>li{display:table-cell;width:1%}.nav-tabs.nav-justified>li>a{margin-bottom:0;border-bottom:1px solid #ddd;border-radius:2px 2px 0 0}.nav-tabs.nav-justified>.active>a,.nav-tabs.nav-justified>.active>a:focus,.nav-tabs.nav-justified>.active>a:hover{border-bottom-color:#fff}}.nav-pills>li{float:left}.nav-pills>li>a{border-radius:2px}.nav-pills>li+li{margin-left:2px}.nav-pills>li.active>a,.nav-pills>li.active>a:focus,.nav-pills>li.active>a:hover{color:#fff;background-color:#337ab7}.nav-stacked>li{float:none}.nav-stacked>li+li{margin-top:2px;margin-left:0}.nav-justified{width:100%}.nav-justified>li{float:none}.nav-justified>li>a{text-align:center;margin-bottom:5px}.nav-justified>.dropdown .dropdown-menu{top:auto;left:auto}.nav-tabs-justified{border-bottom:0}.nav-tabs-justified>li>a{margin-right:0;border-radius:2px}.nav-tabs-justified>.active>a,.nav-tabs-justified>.active>a:focus,.nav-tabs-justified>.active>a:hover{border:1px solid #ddd}@media (min-width:768px){.nav-justified>li{display:table-cell;width:1%}.nav-justified>li>a{margin-bottom:0}.nav-tabs-justified>li>a{border-bottom:1px solid #ddd;border-radius:2px 2px 0 0}.nav-tabs-justified>.active>a,.nav-tabs-justified>.active>a:focus,.nav-tabs-justified>.active>a:hover{border-bottom-color:#fff}}.tab-content>.tab-pane{display:none}.tab-content>.active{display:block}.nav-tabs .dropdown-menu{margin-top:-1px;border-top-right-radius:0;border-top-left-radius:0}.navbar{position:relative;min-height:30px;margin-bottom:18px;border:1px solid transparent}.navbar-collapse{overflow-x:visible;padding-right:0;padding-left:0;border-top:1px solid transparent;box-shadow:inset 0 1px 0 rgba(255,255,255,.1);-webkit-overflow-scrolling:touch}.navbar-collapse.in{overflow-y:auto}.navbar-fixed-bottom .navbar-collapse,.navbar-fixed-top .navbar-collapse{max-height:340px}@media (max-device-width:540px)and (orientation:landscape){.navbar-fixed-bottom .navbar-collapse,.navbar-fixed-top .navbar-collapse{max-height:200px}}.container-fluid>.navbar-collapse,.container-fluid>.navbar-header,.container>.navbar-collapse,.container>.navbar-header{margin-right:0;margin-left:0}.navbar-static-top{z-index:1000;border-width:0 0 1px}.navbar-fixed-bottom,.navbar-fixed-top{position:fixed;right:0;left:0;z-index:1030}@media (min-width:541px){.navbar{border-radius:2px}.navbar-header{float:left}.navbar-collapse{width:auto;border-top:0;box-shadow:none}.navbar-collapse.collapse{display:block!important;height:auto!important;padding-bottom:0;overflow:visible!important}.navbar-collapse.in{overflow-y:visible}.navbar-fixed-bottom .navbar-collapse,.navbar-fixed-top .navbar-collapse,.navbar-static-top .navbar-collapse{padding-left:0;padding-right:0}.container-fluid>.navbar-collapse,.container-fluid>.navbar-header,.container>.navbar-collapse,.container>.navbar-header{margin-right:0;margin-left:0}.navbar-fixed-bottom,.navbar-fixed-top,.navbar-static-top{border-radius:0}}.navbar-fixed-top{top:0;border-width:0 0 1px}.navbar-fixed-bottom{bottom:0;margin-bottom:0;border-width:1px 0 0}.navbar-brand{float:left;padding:6px 0;font-size:17px;line-height:18px;height:30px}.navbar-brand:focus,.navbar-brand:hover{text-decoration:none}.navbar-brand>img{display:block}.navbar-toggle{position:relative;float:right;margin-right:0;padding:9px 10px;margin-top:-2px;margin-bottom:-2px;background-color:transparent;background-image:none;border:1px solid transparent;border-radius:2px}.navbar-toggle:focus{outline:0}.navbar-toggle .icon-bar{display:block;width:22px;height:2px;border-radius:1px}.navbar-toggle .icon-bar+.icon-bar{margin-top:4px}@media (min-width:541px){.navbar>.container .navbar-brand,.navbar>.container-fluid .navbar-brand{margin-left:0}.navbar-toggle{display:none}}.navbar-nav{margin:3px 0}.navbar-nav>li>a{padding-top:10px;padding-bottom:10px;line-height:18px}@media (max-width:540px){.navbar-nav .open .dropdown-menu{position:static;float:none;width:auto;margin-top:0;background-color:transparent;border:0;box-shadow:none}.navbar-nav .open .dropdown-menu .dropdown-header,.navbar-nav .open .dropdown-menu>li>a{padding:5px 15px 5px 25px}.navbar-nav .open .dropdown-menu>li>a{line-height:18px}.navbar-nav .open .dropdown-menu>li>a:focus,.navbar-nav .open .dropdown-menu>li>a:hover{background-image:none}}@media (min-width:541px){.navbar-nav{float:left;margin:0}.navbar-nav>li{float:left}.navbar-nav>li>a{padding-top:6px;padding-bottom:6px}}.navbar-form{padding:10px 0;border-top:1px solid transparent;border-bottom:1px solid transparent;-webkit-box-shadow:inset 0 1px 0 rgba(255,255,255,.1),0 1px 0 rgba(255,255,255,.1);box-shadow:inset 0 1px 0 rgba(255,255,255,.1),0 1px 0 rgba(255,255,255,.1);margin:-1px 0}@media (min-width:768px){.navbar-form .form-group{display:inline-block;margin-bottom:0;vertical-align:middle}.navbar-form .form-control{display:inline-block;width:auto;vertical-align:middle}.navbar-form .form-control-static{display:inline-block}.navbar-form .input-group{display:inline-table;vertical-align:middle}.navbar-form .input-group .form-control,.navbar-form .input-group .input-group-addon,.navbar-form .input-group .input-group-btn{width:auto}.navbar-form .input-group>.form-control{width:100%}.navbar-form .control-label{margin-bottom:0;vertical-align:middle}.navbar-form .checkbox,.navbar-form .radio{display:inline-block;margin-top:0;margin-bottom:0;vertical-align:middle}.navbar-form .checkbox label,.navbar-form .radio label{padding-left:0}.navbar-form .checkbox input[type=checkbox],.navbar-form .radio input[type=radio]{position:relative;margin-left:0}.navbar-form .has-feedback .form-control-feedback{top:0}}@media (max-width:540px){.navbar-form .form-group{margin-bottom:5px}.navbar-form .form-group:last-child{margin-bottom:0}}.navbar-nav>li>.dropdown-menu{margin-top:0;border-top-right-radius:0;border-top-left-radius:0}.navbar-fixed-bottom .navbar-nav>li>.dropdown-menu{margin-bottom:0;border-radius:2px 2px 0 0}.navbar-btn{margin-top:-1px;margin-bottom:-1px}.navbar-btn.btn-sm{margin-top:0;margin-bottom:0}.navbar-btn.btn-xs{margin-top:4px;margin-bottom:4px}.navbar-text{margin-top:6px;margin-bottom:6px}@media (min-width:541px){.navbar-form{width:auto;border:0;margin-left:0;margin-right:0;padding-top:0;padding-bottom:0;-webkit-box-shadow:none;box-shadow:none}.navbar-text{float:left;margin-left:0;margin-right:0}.navbar-left{float:left!important;float:left}.navbar-right{float:right!important;float:right;margin-right:0}.navbar-right~.navbar-right{margin-right:0}}.navbar-default{background-color:#f8f8f8;border-color:#e7e7e7}.navbar-default .navbar-brand{color:#777}.navbar-default .navbar-brand:focus,.navbar-default .navbar-brand:hover{color:#5e5e5e;background-color:transparent}.navbar-default .navbar-nav>li>a,.navbar-default .navbar-text{color:#777}.navbar-default .navbar-nav>li>a:focus,.navbar-default .navbar-nav>li>a:hover{color:#333;background-color:transparent}.navbar-default .navbar-nav>.active>a,.navbar-default .navbar-nav>.active>a:focus,.navbar-default .navbar-nav>.active>a:hover{color:#555;background-color:#e7e7e7}.navbar-default .navbar-nav>.disabled>a,.navbar-default .navbar-nav>.disabled>a:focus,.navbar-default .navbar-nav>.disabled>a:hover{color:#ccc;background-color:transparent}.navbar-default .navbar-toggle{border-color:#ddd}.navbar-default .navbar-toggle:focus,.navbar-default .navbar-toggle:hover{background-color:#ddd}.navbar-default .navbar-toggle .icon-bar{background-color:#888}.navbar-default .navbar-collapse,.navbar-default .navbar-form{border-color:#e7e7e7}.navbar-default .navbar-nav>.open>a,.navbar-default .navbar-nav>.open>a:focus,.navbar-default .navbar-nav>.open>a:hover{background-color:#e7e7e7;color:#555}@media (max-width:540px){.navbar-default .navbar-nav .open .dropdown-menu>li>a{color:#777}.navbar-default .navbar-nav .open .dropdown-menu>li>a:focus,.navbar-default .navbar-nav .open .dropdown-menu>li>a:hover{color:#333;background-color:transparent}.navbar-default .navbar-nav .open .dropdown-menu>.active>a,.navbar-default .navbar-nav .open .dropdown-menu>.active>a:focus,.navbar-default .navbar-nav .open .dropdown-menu>.active>a:hover{color:#555;background-color:#e7e7e7}.navbar-default .navbar-nav .open .dropdown-menu>.disabled>a,.navbar-default .navbar-nav .open .dropdown-menu>.disabled>a:focus,.navbar-default .navbar-nav .open .dropdown-menu>.disabled>a:hover{color:#ccc;background-color:transparent}}.navbar-default .navbar-link{color:#777}.navbar-default .navbar-link:hover{color:#333}.navbar-default .btn-link{color:#777}.navbar-default .btn-link:focus,.navbar-default .btn-link:hover{color:#333}.navbar-default .btn-link[disabled]:focus,.navbar-default .btn-link[disabled]:hover,fieldset[disabled] .navbar-default .btn-link:focus,fieldset[disabled] .navbar-default .btn-link:hover{color:#ccc}.navbar-inverse{background-color:#222;border-color:#080808}.navbar-inverse .navbar-brand{color:#9d9d9d}.navbar-inverse .navbar-brand:focus,.navbar-inverse .navbar-brand:hover{color:#fff;background-color:transparent}.navbar-inverse .navbar-nav>li>a,.navbar-inverse .navbar-text{color:#9d9d9d}.navbar-inverse .navbar-nav>li>a:focus,.navbar-inverse .navbar-nav>li>a:hover{color:#fff;background-color:transparent}.navbar-inverse .navbar-nav>.active>a,.navbar-inverse .navbar-nav>.active>a:focus,.navbar-inverse .navbar-nav>.active>a:hover{color:#fff;background-color:#080808}.navbar-inverse .navbar-nav>.disabled>a,.navbar-inverse .navbar-nav>.disabled>a:focus,.navbar-inverse .navbar-nav>.disabled>a:hover{color:#444;background-color:transparent}.navbar-inverse .navbar-toggle{border-color:#333}.navbar-inverse .navbar-toggle:focus,.navbar-inverse .navbar-toggle:hover{background-color:#333}.navbar-inverse .navbar-toggle .icon-bar{background-color:#fff}.navbar-inverse .navbar-collapse,.navbar-inverse .navbar-form{border-color:#101010}.navbar-inverse .navbar-nav>.open>a,.navbar-inverse .navbar-nav>.open>a:focus,.navbar-inverse .navbar-nav>.open>a:hover{background-color:#080808;color:#fff}@media (max-width:540px){.navbar-inverse .navbar-nav .open .dropdown-menu>.dropdown-header{border-color:#080808}.navbar-inverse .navbar-nav .open .dropdown-menu .divider{background-color:#080808}.navbar-inverse .navbar-nav .open .dropdown-menu>li>a{color:#9d9d9d}.navbar-inverse .navbar-nav .open .dropdown-menu>li>a:focus,.navbar-inverse .navbar-nav .open .dropdown-menu>li>a:hover{color:#fff;background-color:transparent}.navbar-inverse .navbar-nav .open .dropdown-menu>.active>a,.navbar-inverse .navbar-nav .open .dropdown-menu>.active>a:focus,.navbar-inverse .navbar-nav .open .dropdown-menu>.active>a:hover{color:#fff;background-color:#080808}.navbar-inverse .navbar-nav .open .dropdown-menu>.disabled>a,.navbar-inverse .navbar-nav .open .dropdown-menu>.disabled>a:focus,.navbar-inverse .navbar-nav .open .dropdown-menu>.disabled>a:hover{color:#444;background-color:transparent}}.navbar-inverse .navbar-link{color:#9d9d9d}.navbar-inverse .navbar-link:hover{color:#fff}.navbar-inverse .btn-link{color:#9d9d9d}.navbar-inverse .btn-link:focus,.navbar-inverse .btn-link:hover{color:#fff}.navbar-inverse .btn-link[disabled]:focus,.navbar-inverse .btn-link[disabled]:hover,fieldset[disabled] .navbar-inverse .btn-link:focus,fieldset[disabled] .navbar-inverse .btn-link:hover{color:#444}.breadcrumb{padding:8px 15px;margin-bottom:18px;list-style:none;background-color:#f5f5f5;border-radius:2px}.breadcrumb>li{display:inline-block}.breadcrumb>li+li:before{content:"/\00a0";padding:0 5px;color:#5e5e5e}.breadcrumb>.active{color:#777}.pagination{display:inline-block;padding-left:0;margin:18px 0;border-radius:2px}.pagination>li{display:inline}.pagination>li>a,.pagination>li>span{position:relative;float:left;padding:6px 12px;line-height:1.42857143;text-decoration:none;color:#337ab7;background-color:#fff;border:1px solid #ddd;margin-left:-1px}.pagination>li:first-child>a,.pagination>li:first-child>span{margin-left:0;border-bottom-left-radius:2px;border-top-left-radius:2px}.pagination>li:last-child>a,.pagination>li:last-child>span{border-bottom-right-radius:2px;border-top-right-radius:2px}.pagination>li>a:focus,.pagination>li>a:hover,.pagination>li>span:focus,.pagination>li>span:hover{color:#23527c;background-color:#eee;border-color:#ddd}.pagination>.active>a,.pagination>.active>a:focus,.pagination>.active>a:hover,.pagination>.active>span,.pagination>.active>span:focus,.pagination>.active>span:hover{z-index:2;color:#fff;background-color:#337ab7;border-color:#337ab7;cursor:default}.pagination>.disabled>a,.pagination>.disabled>a:focus,.pagination>.disabled>a:hover,.pagination>.disabled>span,.pagination>.disabled>span:focus,.pagination>.disabled>span:hover{color:#777;background-color:#fff;border-color:#ddd;cursor:not-allowed}.pagination-lg>li>a,.pagination-lg>li>span{padding:10px 16px;font-size:17px}.pagination-lg>li:first-child>a,.pagination-lg>li:first-child>span{border-bottom-left-radius:3px;border-top-left-radius:3px}.pagination-lg>li:last-child>a,.pagination-lg>li:last-child>span{border-bottom-right-radius:3px;border-top-right-radius:3px}.pagination-sm>li>a,.pagination-sm>li>span{padding:5px 10px;font-size:12px}.pagination-sm>li:first-child>a,.pagination-sm>li:first-child>span{border-bottom-left-radius:1px;border-top-left-radius:1px}.pagination-sm>li:last-child>a,.pagination-sm>li:last-child>span{border-bottom-right-radius:1px;border-top-right-radius:1px}.pager{padding-left:0;margin:18px 0;list-style:none;text-align:center}.pager li{display:inline}.pager li>a,.pager li>span{display:inline-block;padding:5px 14px;background-color:#fff;border:1px solid #ddd;border-radius:15px}.pager li>a:focus,.pager li>a:hover{text-decoration:none;background-color:#eee}.pager .next>a,.pager .next>span{float:right}.pager .previous>a,.pager .previous>span{float:left}.pager .disabled>a,.pager .disabled>a:focus,.pager .disabled>a:hover,.pager .disabled>span{color:#777;background-color:#fff;cursor:not-allowed}.label{display:inline;padding:.2em .6em .3em;font-size:75%;font-weight:700;line-height:1;color:#fff;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:.25em}a.label:focus,a.label:hover{color:#fff;text-decoration:none;cursor:pointer}.label:empty{display:none}.btn .label{position:relative;top:-1px}.label-default{background-color:#777}.label-default[href]:focus,.label-default[href]:hover{background-color:#5e5e5e}.label-primary{background-color:#337ab7}.label-primary[href]:focus,.label-primary[href]:hover{background-color:#286090}.label-success{background-color:#5cb85c}.label-success[href]:focus,.label-success[href]:hover{background-color:#449d44}.label-info{background-color:#5bc0de}.label-info[href]:focus,.label-info[href]:hover{background-color:#31b0d5}.label-warning{background-color:#f0ad4e}.label-warning[href]:focus,.label-warning[href]:hover{background-color:#ec971f}.label-danger{background-color:#d9534f}.label-danger[href]:focus,.label-danger[href]:hover{background-color:#c9302c}.badge{display:inline-block;min-width:10px;padding:3px 7px;font-size:12px;font-weight:700;color:#fff;line-height:1;vertical-align:baseline;white-space:nowrap;text-align:center;background-color:#777;border-radius:10px}.badge:empty{display:none}.btn .badge{position:relative;top:-1px}.btn-group-xs>.btn .badge,.btn-xs .badge{top:0;padding:1px 5px}a.badge:focus,a.badge:hover{color:#fff;text-decoration:none;cursor:pointer}.list-group-item.active>.badge,.nav-pills>.active>a>.badge{color:#337ab7;background-color:#fff}.list-group-item>.badge{float:right}.list-group-item>.badge+.badge{margin-right:5px}.nav-pills>li>a>.badge{margin-left:3px}.jumbotron{padding:30px 15px;margin-bottom:30px;color:inherit;background-color:#eee}.jumbotron .h1,.jumbotron h1{color:inherit}.jumbotron p{margin-bottom:15px;font-size:20px;font-weight:200}.jumbotron>hr{border-top-color:#d5d5d5}.container .jumbotron,.container-fluid .jumbotron{border-radius:3px}.jumbotron .container{max-width:100%}@media screen and (min-width:768px){.jumbotron{padding:48px 0}.container .jumbotron,.container-fluid .jumbotron{padding-left:60px;padding-right:60px}.jumbotron .h1,.jumbotron h1{font-size:58.5px}}.thumbnail{display:block;padding:4px;margin-bottom:18px;line-height:1.42857143;background-color:#fff;border:1px solid #ddd;border-radius:2px;-webkit-transition:border .2s ease-in-out;-o-transition:border .2s ease-in-out;transition:border .2s ease-in-out}.thumbnail a>img,.thumbnail>img{margin-left:auto;margin-right:auto}a.thumbnail.active,a.thumbnail:focus,a.thumbnail:hover{border-color:#337ab7}.thumbnail .caption{padding:9px;color:#000}.alert{padding:15px;margin-bottom:18px;border:1px solid transparent;border-radius:2px}.alert h4{margin-top:0;color:inherit}.alert .alert-link{font-weight:700}.alert>p,.alert>ul{margin-bottom:0}.alert>p+p{margin-top:5px}.alert-dismissable,.alert-dismissible{padding-right:35px}.alert-dismissable .close,.alert-dismissible .close{position:relative;top:-2px;right:-21px;color:inherit}.alert-success{background-color:#dff0d8;border-color:#d6e9c6;color:#3c763d}.alert-success hr{border-top-color:#c9e2b3}.alert-success .alert-link{color:#2b542c}.alert-info{background-color:#d9edf7;border-color:#bce8f1;color:#31708f}.alert-info hr{border-top-color:#a6e1ec}.alert-info .alert-link{color:#245269}.alert-warning{background-color:#fcf8e3;border-color:#faebcc;color:#8a6d3b}.alert-warning hr{border-top-color:#f7e1b5}.alert-warning .alert-link{color:#66512c}.alert-danger{background-color:#f2dede;border-color:#ebccd1;color:#a94442}.alert-danger hr{border-top-color:#e4b9c0}.alert-danger .alert-link{color:#843534}@-webkit-keyframes progress-bar-stripes{from{background-position:40px 0}to{background-position:0 0}}@keyframes progress-bar-stripes{from{background-position:40px 0}to{background-position:0 0}}.progress{overflow:hidden;height:18px;margin-bottom:18px;background-color:#f5f5f5;border-radius:2px;-webkit-box-shadow:inset 0 1px 2px rgba(0,0,0,.1);box-shadow:inset 0 1px 2px rgba(0,0,0,.1)}.progress-bar{float:left;width:0;height:100%;font-size:12px;line-height:18px;color:#fff;text-align:center;background-color:#337ab7;-webkit-box-shadow:inset 0 -1px 0 rgba(0,0,0,.15);box-shadow:inset 0 -1px 0 rgba(0,0,0,.15);-webkit-transition:width .6s ease;-o-transition:width .6s ease;transition:width .6s ease}.progress-bar-striped,.progress-striped .progress-bar{background-image:-webkit-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:-o-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-size:40px 40px}.progress-bar.active,.progress.active .progress-bar{-webkit-animation:progress-bar-stripes 2s linear infinite;-o-animation:progress-bar-stripes 2s linear infinite;animation:progress-bar-stripes 2s linear infinite}.progress-bar-success{background-color:#5cb85c}.progress-striped .progress-bar-success{background-image:-webkit-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:-o-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent)}.progress-bar-info{background-color:#5bc0de}.progress-striped .progress-bar-info{background-image:-webkit-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:-o-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent)}.progress-bar-warning{background-color:#f0ad4e}.progress-striped .progress-bar-warning{background-image:-webkit-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:-o-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent)}.progress-bar-danger{background-color:#d9534f}.progress-striped .progress-bar-danger{background-image:-webkit-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:-o-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent)}.media{margin-top:15px}.media:first-child{margin-top:0}.media,.media-body{zoom:1;overflow:hidden}.media-body{width:10000px}.media-object{display:block}.media-right,.media>.pull-right{padding-left:10px}.media-left,.media>.pull-left{padding-right:10px}.media-body,.media-left,.media-right{display:table-cell;vertical-align:top}.media-middle{vertical-align:middle}.media-bottom{vertical-align:bottom}.media-heading{margin-top:0;margin-bottom:5px}.media-list{padding-left:0;list-style:none}.list-group{margin-bottom:20px;padding-left:0}.list-group-item{position:relative;display:block;padding:10px 15px;margin-bottom:-1px;background-color:#fff;border:1px solid #ddd}.list-group-item:first-child{border-top-right-radius:2px;border-top-left-radius:2px}.list-group-item:last-child{margin-bottom:0;border-bottom-right-radius:2px;border-bottom-left-radius:2px}a.list-group-item{color:#555}a.list-group-item .list-group-item-heading{color:#333}a.list-group-item:focus,a.list-group-item:hover{text-decoration:none;color:#555;background-color:#f5f5f5}.list-group-item.disabled,.list-group-item.disabled:focus,.list-group-item.disabled:hover{background-color:#eee;color:#777;cursor:not-allowed}.list-group-item.disabled .list-group-item-heading,.list-group-item.disabled:focus .list-group-item-heading,.list-group-item.disabled:hover .list-group-item-heading{color:inherit}.list-group-item.disabled .list-group-item-text,.list-group-item.disabled:focus .list-group-item-text,.list-group-item.disabled:hover .list-group-item-text{color:#777}.list-group-item.active,.list-group-item.active:focus,.list-group-item.active:hover{z-index:2;color:#fff;background-color:#337ab7;border-color:#337ab7}.list-group-item.active .list-group-item-heading,.list-group-item.active .list-group-item-heading>.small,.list-group-item.active .list-group-item-heading>small,.list-group-item.active:focus .list-group-item-heading,.list-group-item.active:focus .list-group-item-heading>.small,.list-group-item.active:focus .list-group-item-heading>small,.list-group-item.active:hover .list-group-item-heading,.list-group-item.active:hover .list-group-item-heading>.small,.list-group-item.active:hover .list-group-item-heading>small{color:inherit}.list-group-item.active .list-group-item-text,.list-group-item.active:focus .list-group-item-text,.list-group-item.active:hover .list-group-item-text{color:#c7ddef}.list-group-item-success{color:#3c763d;background-color:#dff0d8}a.list-group-item-success{color:#3c763d}a.list-group-item-success .list-group-item-heading{color:inherit}a.list-group-item-success:focus,a.list-group-item-success:hover{color:#3c763d;background-color:#d0e9c6}a.list-group-item-success.active,a.list-group-item-success.active:focus,a.list-group-item-success.active:hover{color:#fff;background-color:#3c763d;border-color:#3c763d}.list-group-item-info{color:#31708f;background-color:#d9edf7}a.list-group-item-info{color:#31708f}a.list-group-item-info .list-group-item-heading{color:inherit}a.list-group-item-info:focus,a.list-group-item-info:hover{color:#31708f;background-color:#c4e3f3}a.list-group-item-info.active,a.list-group-item-info.active:focus,a.list-group-item-info.active:hover{color:#fff;background-color:#31708f;border-color:#31708f}.list-group-item-warning{color:#8a6d3b;background-color:#fcf8e3}a.list-group-item-warning{color:#8a6d3b}a.list-group-item-warning .list-group-item-heading{color:inherit}a.list-group-item-warning:focus,a.list-group-item-warning:hover{color:#8a6d3b;background-color:#faf2cc}a.list-group-item-warning.active,a.list-group-item-warning.active:focus,a.list-group-item-warning.active:hover{color:#fff;background-color:#8a6d3b;border-color:#8a6d3b}.list-group-item-danger{color:#a94442;background-color:#f2dede}a.list-group-item-danger{color:#a94442}a.list-group-item-danger .list-group-item-heading{color:inherit}a.list-group-item-danger:focus,a.list-group-item-danger:hover{color:#a94442;background-color:#ebcccc}a.list-group-item-danger.active,a.list-group-item-danger.active:focus,a.list-group-item-danger.active:hover{color:#fff;background-color:#a94442;border-color:#a94442}.list-group-item-heading{margin-top:0;margin-bottom:5px}.list-group-item-text{margin-bottom:0;line-height:1.3}.panel{margin-bottom:18px;background-color:#fff;border:1px solid transparent;border-radius:2px;-webkit-box-shadow:0 1px 1px rgba(0,0,0,.05);box-shadow:0 1px 1px rgba(0,0,0,.05)}.panel-body{padding:15px}.panel-heading{padding:10px 15px;border-bottom:1px solid transparent;border-top-right-radius:1px;border-top-left-radius:1px}.panel-heading>.dropdown .dropdown-toggle{color:inherit}.panel-title{margin-top:0;margin-bottom:0;font-size:15px;color:inherit}.panel-title>.small,.panel-title>.small>a,.panel-title>a,.panel-title>small,.panel-title>small>a{color:inherit}.panel-footer{padding:10px 15px;background-color:#f5f5f5;border-top:1px solid #ddd;border-bottom-right-radius:1px;border-bottom-left-radius:1px}.panel>.list-group,.panel>.panel-collapse>.list-group{margin-bottom:0}.panel>.list-group .list-group-item,.panel>.panel-collapse>.list-group .list-group-item{border-width:1px 0;border-radius:0}.panel>.list-group:first-child .list-group-item:first-child,.panel>.panel-collapse>.list-group:first-child .list-group-item:first-child{border-top:0;border-top-right-radius:1px;border-top-left-radius:1px}.panel>.list-group:last-child .list-group-item:last-child,.panel>.panel-collapse>.list-group:last-child .list-group-item:last-child{border-bottom:0;border-bottom-right-radius:1px;border-bottom-left-radius:1px}.list-group+.panel-footer,.panel-heading+.list-group .list-group-item:first-child{border-top-width:0}.panel>.panel-collapse>.table,.panel>.table,.panel>.table-responsive>.table{margin-bottom:0}.panel>.panel-collapse>.table caption,.panel>.table caption,.panel>.table-responsive>.table caption{padding-left:15px;padding-right:15px}.panel>.table-responsive:first-child>.table:first-child,.panel>.table:first-child{border-top-right-radius:1px;border-top-left-radius:1px}.panel>.table-responsive:first-child>.table:first-child>tbody:first-child>tr:first-child,.panel>.table-responsive:first-child>.table:first-child>thead:first-child>tr:first-child,.panel>.table:first-child>tbody:first-child>tr:first-child,.panel>.table:first-child>thead:first-child>tr:first-child{border-top-left-radius:1px;border-top-right-radius:1px}.panel>.table-responsive:first-child>.table:first-child>tbody:first-child>tr:first-child td:first-child,.panel>.table-responsive:first-child>.table:first-child>tbody:first-child>tr:first-child th:first-child,.panel>.table-responsive:first-child>.table:first-child>thead:first-child>tr:first-child td:first-child,.panel>.table-responsive:first-child>.table:first-child>thead:first-child>tr:first-child th:first-child,.panel>.table:first-child>tbody:first-child>tr:first-child td:first-child,.panel>.table:first-child>tbody:first-child>tr:first-child th:first-child,.panel>.table:first-child>thead:first-child>tr:first-child td:first-child,.panel>.table:first-child>thead:first-child>tr:first-child th:first-child{border-top-left-radius:1px}.panel>.table-responsive:first-child>.table:first-child>tbody:first-child>tr:first-child td:last-child,.panel>.table-responsive:first-child>.table:first-child>tbody:first-child>tr:first-child th:last-child,.panel>.table-responsive:first-child>.table:first-child>thead:first-child>tr:first-child td:last-child,.panel>.table-responsive:first-child>.table:first-child>thead:first-child>tr:first-child th:last-child,.panel>.table:first-child>tbody:first-child>tr:first-child td:last-child,.panel>.table:first-child>tbody:first-child>tr:first-child th:last-child,.panel>.table:first-child>thead:first-child>tr:first-child td:last-child,.panel>.table:first-child>thead:first-child>tr:first-child th:last-child{border-top-right-radius:1px}.panel>.table-responsive:last-child>.table:last-child,.panel>.table:last-child{border-bottom-right-radius:1px;border-bottom-left-radius:1px}.panel>.table-responsive:last-child>.table:last-child>tbody:last-child>tr:last-child,.panel>.table-responsive:last-child>.table:last-child>tfoot:last-child>tr:last-child,.panel>.table:last-child>tbody:last-child>tr:last-child,.panel>.table:last-child>tfoot:last-child>tr:last-child{border-bottom-left-radius:1px;border-bottom-right-radius:1px}.panel>.table-responsive:last-child>.table:last-child>tbody:last-child>tr:last-child td:first-child,.panel>.table-responsive:last-child>.table:last-child>tbody:last-child>tr:last-child th:first-child,.panel>.table-responsive:last-child>.table:last-child>tfoot:last-child>tr:last-child td:first-child,.panel>.table-responsive:last-child>.table:last-child>tfoot:last-child>tr:last-child th:first-child,.panel>.table:last-child>tbody:last-child>tr:last-child td:first-child,.panel>.table:last-child>tbody:last-child>tr:last-child th:first-child,.panel>.table:last-child>tfoot:last-child>tr:last-child td:first-child,.panel>.table:last-child>tfoot:last-child>tr:last-child th:first-child{border-bottom-left-radius:1px}.panel>.table-responsive:last-child>.table:last-child>tbody:last-child>tr:last-child td:last-child,.panel>.table-responsive:last-child>.table:last-child>tbody:last-child>tr:last-child th:last-child,.panel>.table-responsive:last-child>.table:last-child>tfoot:last-child>tr:last-child td:last-child,.panel>.table-responsive:last-child>.table:last-child>tfoot:last-child>tr:last-child th:last-child,.panel>.table:last-child>tbody:last-child>tr:last-child td:last-child,.panel>.table:last-child>tbody:last-child>tr:last-child th:last-child,.panel>.table:last-child>tfoot:last-child>tr:last-child td:last-child,.panel>.table:last-child>tfoot:last-child>tr:last-child th:last-child{border-bottom-right-radius:1px}.panel>.panel-body+.table,.panel>.panel-body+.table-responsive,.panel>.table+.panel-body,.panel>.table-responsive+.panel-body{border-top:1px solid #ddd}.panel>.table>tbody:first-child>tr:first-child td,.panel>.table>tbody:first-child>tr:first-child th{border-top:0}.panel>.table-bordered,.panel>.table-responsive>.table-bordered{border:0}.panel>.table-bordered>tbody>tr>td:first-child,.panel>.table-bordered>tbody>tr>th:first-child,.panel>.table-bordered>tfoot>tr>td:first-child,.panel>.table-bordered>tfoot>tr>th:first-child,.panel>.table-bordered>thead>tr>td:first-child,.panel>.table-bordered>thead>tr>th:first-child,.panel>.table-responsive>.table-bordered>tbody>tr>td:first-child,.panel>.table-responsive>.table-bordered>tbody>tr>th:first-child,.panel>.table-responsive>.table-bordered>tfoot>tr>td:first-child,.panel>.table-responsive>.table-bordered>tfoot>tr>th:first-child,.panel>.table-responsive>.table-bordered>thead>tr>td:first-child,.panel>.table-responsive>.table-bordered>thead>tr>th:first-child{border-left:0}.panel>.table-bordered>tbody>tr>td:last-child,.panel>.table-bordered>tbody>tr>th:last-child,.panel>.table-bordered>tfoot>tr>td:last-child,.panel>.table-bordered>tfoot>tr>th:last-child,.panel>.table-bordered>thead>tr>td:last-child,.panel>.table-bordered>thead>tr>th:last-child,.panel>.table-responsive>.table-bordered>tbody>tr>td:last-child,.panel>.table-responsive>.table-bordered>tbody>tr>th:last-child,.panel>.table-responsive>.table-bordered>tfoot>tr>td:last-child,.panel>.table-responsive>.table-bordered>tfoot>tr>th:last-child,.panel>.table-responsive>.table-bordered>thead>tr>td:last-child,.panel>.table-responsive>.table-bordered>thead>tr>th:last-child{border-right:0}.panel>.table-bordered>tbody>tr:first-child>td,.panel>.table-bordered>tbody>tr:first-child>th,.panel>.table-bordered>tbody>tr:last-child>td,.panel>.table-bordered>tbody>tr:last-child>th,.panel>.table-bordered>tfoot>tr:last-child>td,.panel>.table-bordered>tfoot>tr:last-child>th,.panel>.table-bordered>thead>tr:first-child>td,.panel>.table-bordered>thead>tr:first-child>th,.panel>.table-responsive>.table-bordered>tbody>tr:first-child>td,.panel>.table-responsive>.table-bordered>tbody>tr:first-child>th,.panel>.table-responsive>.table-bordered>tbody>tr:last-child>td,.panel>.table-responsive>.table-bordered>tbody>tr:last-child>th,.panel>.table-responsive>.table-bordered>tfoot>tr:last-child>td,.panel>.table-responsive>.table-bordered>tfoot>tr:last-child>th,.panel>.table-responsive>.table-bordered>thead>tr:first-child>td,.panel>.table-responsive>.table-bordered>thead>tr:first-child>th{border-bottom:0}.panel>.table-responsive{border:0;margin-bottom:0}.panel-group{margin-bottom:18px}.panel-group .panel{margin-bottom:0;border-radius:2px}.panel-group .panel+.panel{margin-top:5px}.panel-group .panel-heading{border-bottom:0}.panel-group .panel-heading+.panel-collapse>.list-group,.panel-group .panel-heading+.panel-collapse>.panel-body{border-top:1px solid #ddd}.panel-group .panel-footer{border-top:0}.panel-group .panel-footer+.panel-collapse .panel-body{border-bottom:1px solid #ddd}.panel-default{border-color:#ddd}.panel-default>.panel-heading{color:#333;background-color:#f5f5f5;border-color:#ddd}.panel-default>.panel-heading+.panel-collapse>.panel-body{border-top-color:#ddd}.panel-default>.panel-heading .badge{color:#f5f5f5;background-color:#333}.panel-default>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#ddd}.panel-primary{border-color:#337ab7}.panel-primary>.panel-heading{color:#fff;background-color:#337ab7;border-color:#337ab7}.panel-primary>.panel-heading+.panel-collapse>.panel-body{border-top-color:#337ab7}.panel-primary>.panel-heading .badge{color:#337ab7;background-color:#fff}.panel-primary>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#337ab7}.panel-success{border-color:#d6e9c6}.panel-success>.panel-heading{color:#3c763d;background-color:#dff0d8;border-color:#d6e9c6}.panel-success>.panel-heading+.panel-collapse>.panel-body{border-top-color:#d6e9c6}.panel-success>.panel-heading .badge{color:#dff0d8;background-color:#3c763d}.panel-success>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#d6e9c6}.panel-info{border-color:#bce8f1}.panel-info>.panel-heading{color:#31708f;background-color:#d9edf7;border-color:#bce8f1}.panel-info>.panel-heading+.panel-collapse>.panel-body{border-top-color:#bce8f1}.panel-info>.panel-heading .badge{color:#d9edf7;background-color:#31708f}.panel-info>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#bce8f1}.panel-warning{border-color:#faebcc}.panel-warning>.panel-heading{color:#8a6d3b;background-color:#fcf8e3;border-color:#faebcc}.panel-warning>.panel-heading+.panel-collapse>.panel-body{border-top-color:#faebcc}.panel-warning>.panel-heading .badge{color:#fcf8e3;background-color:#8a6d3b}.panel-warning>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#faebcc}.panel-danger{border-color:#ebccd1}.panel-danger>.panel-heading{color:#a94442;background-color:#f2dede;border-color:#ebccd1}.panel-danger>.panel-heading+.panel-collapse>.panel-body{border-top-color:#ebccd1}.panel-danger>.panel-heading .badge{color:#f2dede;background-color:#a94442}.panel-danger>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#ebccd1}.embed-responsive{position:relative;display:block;height:0;padding:0;overflow:hidden}.embed-responsive .embed-responsive-item,.embed-responsive embed,.embed-responsive iframe,.embed-responsive object,.embed-responsive video{position:absolute;top:0;left:0;bottom:0;height:100%;width:100%;border:0}.embed-responsive-16by9{padding-bottom:56.25%}.embed-responsive-4by3{padding-bottom:75%}.well{min-height:20px;padding:19px;margin-bottom:20px;background-color:#f5f5f5;border:1px solid #e3e3e3;border-radius:2px;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.05);box-shadow:inset 0 1px 1px rgba(0,0,0,.05)}.well blockquote{border-color:#ddd;border-color:rgba(0,0,0,.15)}.well-lg{padding:24px;border-radius:3px}.well-sm{padding:9px;border-radius:1px}.close{float:right;font-size:19.5px;font-weight:700;line-height:1;color:#000;text-shadow:0 1px 0 #fff;opacity:.2;filter:alpha(opacity=20)}.close:focus,.close:hover{color:#000;text-decoration:none;cursor:pointer;opacity:.5;filter:alpha(opacity=50)}button.close{padding:0;cursor:pointer;background:0 0;border:0;-webkit-appearance:none}.modal-open{overflow:hidden}.modal{display:none;overflow:hidden;position:fixed;top:0;right:0;bottom:0;left:0;z-index:1050;-webkit-overflow-scrolling:touch;outline:0}.modal.fade .modal-dialog{-webkit-transition:-webkit-transform .3s ease-out;-moz-transition:-moz-transform .3s ease-out;-o-transition:-o-transform .3s ease-out;transition:transform .3s ease-out}.modal.in .modal-dialog{-webkit-transform:translate(0,0);-ms-transform:translate(0,0);-o-transform:translate(0,0);transform:translate(0,0)}.modal-open .modal{overflow-x:hidden;overflow-y:auto}.modal-dialog{position:relative;width:auto;margin:10px}.modal-content{position:relative;background-color:#fff;border:1px solid #999;border:1px solid rgba(0,0,0,.2);border-radius:3px;-webkit-box-shadow:0 3px 9px rgba(0,0,0,.5);box-shadow:0 3px 9px rgba(0,0,0,.5);background-clip:padding-box;outline:0}.modal-backdrop{position:fixed;top:0;right:0;bottom:0;left:0;z-index:1040;background-color:#000}.modal-backdrop.fade{opacity:0;filter:alpha(opacity=0)}.modal-backdrop.in{opacity:.5;filter:alpha(opacity=50)}.modal-header{padding:15px;border-bottom:1px solid #e5e5e5;min-height:16.43px}.modal-header .close{margin-top:-2px}.modal-title{margin:0;line-height:1.42857143}.modal-body{position:relative;padding:15px}.modal-footer{padding:15px;text-align:right;border-top:1px solid #e5e5e5}.modal-footer .btn+.btn{margin-left:5px;margin-bottom:0}.modal-footer .btn-group .btn+.btn{margin-left:-1px}.modal-footer .btn-block+.btn-block{margin-left:0}.modal-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}@media (min-width:768px){.modal-dialog{width:600px;margin:30px auto}.modal-content{-webkit-box-shadow:0 5px 15px rgba(0,0,0,.5);box-shadow:0 5px 15px rgba(0,0,0,.5)}.modal-sm{width:300px}}@media (min-width:992px){.modal-lg{width:900px}}.tooltip{position:absolute;z-index:1070;display:block;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-size:12px;font-weight:400;line-height:1.4;opacity:0;filter:alpha(opacity=0)}.tooltip.in{opacity:.9;filter:alpha(opacity=90)}.tooltip.top{margin-top:-3px;padding:5px 0}.tooltip.right{margin-left:3px;padding:0 5px}.tooltip.bottom{margin-top:3px;padding:5px 0}.tooltip.left{margin-left:-3px;padding:0 5px}.tooltip-inner{max-width:200px;padding:3px 8px;color:#fff;text-align:center;text-decoration:none;background-color:#000;border-radius:2px}.tooltip-arrow{position:absolute;width:0;height:0;border-color:transparent;border-style:solid}.tooltip.top .tooltip-arrow{bottom:0;left:50%;margin-left:-5px;border-width:5px 5px 0;border-top-color:#000}.tooltip.top-left .tooltip-arrow{bottom:0;right:5px;margin-bottom:-5px;border-width:5px 5px 0;border-top-color:#000}.tooltip.top-right .tooltip-arrow{bottom:0;left:5px;margin-bottom:-5px;border-width:5px 5px 0;border-top-color:#000}.tooltip.right .tooltip-arrow{top:50%;left:0;margin-top:-5px;border-width:5px 5px 5px 0;border-right-color:#000}.tooltip.left .tooltip-arrow{top:50%;right:0;margin-top:-5px;border-width:5px 0 5px 5px;border-left-color:#000}.tooltip.bottom .tooltip-arrow{top:0;left:50%;margin-left:-5px;border-width:0 5px 5px;border-bottom-color:#000}.tooltip.bottom-left .tooltip-arrow{top:0;right:5px;margin-top:-5px;border-width:0 5px 5px;border-bottom-color:#000}.tooltip.bottom-right .tooltip-arrow{top:0;left:5px;margin-top:-5px;border-width:0 5px 5px;border-bottom-color:#000}.popover{position:absolute;top:0;left:0;z-index:1060;display:none;max-width:276px;padding:1px;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-size:13px;font-weight:400;line-height:1.42857143;text-align:left;background-color:#fff;background-clip:padding-box;border:1px solid #ccc;border:1px solid rgba(0,0,0,.2);border-radius:3px;-webkit-box-shadow:0 5px 10px rgba(0,0,0,.2);box-shadow:0 5px 10px rgba(0,0,0,.2);white-space:normal}.popover.top{margin-top:-10px}.popover.right{margin-left:10px}.popover.bottom{margin-top:10px}.popover.left{margin-left:-10px}.popover-title{margin:0;padding:8px 14px;font-size:13px;background-color:#f7f7f7;border-bottom:1px solid #ebebeb;border-radius:2px 2px 0 0}.popover-content{padding:9px 14px}.popover>.arrow,.popover>.arrow:after{position:absolute;display:block;width:0;height:0;border-color:transparent;border-style:solid}.popover>.arrow{border-width:11px}.popover>.arrow:after{border-width:10px;content:""}.popover.top>.arrow{left:50%;margin-left:-11px;border-bottom-width:0;border-top-color:#999;border-top-color:rgba(0,0,0,.25);bottom:-11px}.popover.top>.arrow:after{content:" ";bottom:1px;margin-left:-10px;border-bottom-width:0;border-top-color:#fff}.popover.right>.arrow{top:50%;left:-11px;margin-top:-11px;border-left-width:0;border-right-color:#999;border-right-color:rgba(0,0,0,.25)}.popover.right>.arrow:after{content:" ";left:1px;bottom:-10px;border-left-width:0;border-right-color:#fff}.popover.bottom>.arrow{left:50%;margin-left:-11px;border-top-width:0;border-bottom-color:#999;border-bottom-color:rgba(0,0,0,.25);top:-11px}.popover.bottom>.arrow:after{content:" ";top:1px;margin-left:-10px;border-top-width:0;border-bottom-color:#fff}.popover.left>.arrow{top:50%;right:-11px;margin-top:-11px;border-right-width:0;border-left-color:#999;border-left-color:rgba(0,0,0,.25)}.popover.left>.arrow:after{content:" ";right:1px;border-right-width:0;border-left-color:#fff;bottom:-10px}.carousel{position:relative}.carousel-inner{position:relative;overflow:hidden;width:100%}.carousel-inner>.item{display:none;position:relative;-webkit-transition:.6s ease-in-out left;-o-transition:.6s ease-in-out left;transition:.6s ease-in-out left}.carousel-inner>.item>a>img,.carousel-inner>.item>img{line-height:1}@media all and (transform-3d),(-webkit-transform-3d){.carousel-inner>.item{-webkit-transition:-webkit-transform .6s ease-in-out;-moz-transition:-moz-transform .6s ease-in-out;-o-transition:-o-transform .6s ease-in-out;transition:transform .6s ease-in-out;-webkit-backface-visibility:hidden;-moz-backface-visibility:hidden;backface-visibility:hidden;-webkit-perspective:1000;-moz-perspective:1000;perspective:1000}.carousel-inner>.item.active.right,.carousel-inner>.item.next{-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0);left:0}.carousel-inner>.item.active.left,.carousel-inner>.item.prev{-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0);left:0}.carousel-inner>.item.active,.carousel-inner>.item.next.left,.carousel-inner>.item.prev.right{-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0);left:0}}.carousel-inner>.active,.carousel-inner>.next,.carousel-inner>.prev{display:block}.carousel-inner>.active{left:0}.carousel-inner>.next,.carousel-inner>.prev{position:absolute;top:0;width:100%}.carousel-inner>.next{left:100%}.carousel-inner>.prev{left:-100%}.carousel-inner>.next.left,.carousel-inner>.prev.right{left:0}.carousel-inner>.active.left{left:-100%}.carousel-inner>.active.right{left:100%}.carousel-control{position:absolute;top:0;left:0;bottom:0;width:15%;opacity:.5;filter:alpha(opacity=50);font-size:20px;color:#fff;text-align:center;text-shadow:0 1px 2px rgba(0,0,0,.6)}.carousel-control.left{background-image:-webkit-linear-gradient(left,rgba(0,0,0,.5) 0,rgba(0,0,0,.0001) 100%);background-image:-o-linear-gradient(left,rgba(0,0,0,.5) 0,rgba(0,0,0,.0001) 100%);background-image:linear-gradient(to right,rgba(0,0,0,.5) 0,rgba(0,0,0,.0001) 100%);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#80000000', endColorstr='#00000000', GradientType=1)}.carousel-control.right{left:auto;right:0;background-image:-webkit-linear-gradient(left,rgba(0,0,0,.0001) 0,rgba(0,0,0,.5) 100%);background-image:-o-linear-gradient(left,rgba(0,0,0,.0001) 0,rgba(0,0,0,.5) 100%);background-image:linear-gradient(to right,rgba(0,0,0,.0001) 0,rgba(0,0,0,.5) 100%);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#00000000', endColorstr='#80000000', GradientType=1)}.carousel-control:focus,.carousel-control:hover{outline:0;color:#fff;text-decoration:none;opacity:.9;filter:alpha(opacity=90)}.carousel-control .glyphicon-chevron-left,.carousel-control .glyphicon-chevron-right,.carousel-control .icon-next,.carousel-control .icon-prev{position:absolute;top:50%;z-index:5;display:inline-block}.carousel-control .glyphicon-chevron-left,.carousel-control .icon-prev{left:50%;margin-left:-10px}.carousel-control .glyphicon-chevron-right,.carousel-control .icon-next{right:50%;margin-right:-10px}.carousel-control .icon-next,.carousel-control .icon-prev{width:20px;height:20px;margin-top:-10px;line-height:1;font-family:serif}.carousel-control .icon-prev:before{content:'\2039'}.carousel-control .icon-next:before{content:'\203a'}.carousel-indicators{position:absolute;bottom:10px;left:50%;z-index:15;width:60%;margin-left:-30%;padding-left:0;list-style:none;text-align:center}.carousel-indicators li{display:inline-block;width:10px;height:10px;margin:1px;text-indent:-999px;border:1px solid #fff;border-radius:10px;cursor:pointer;background-color:transparent}.carousel-indicators .active{margin:0;width:12px;height:12px;background-color:#fff}.carousel-caption{position:absolute;left:15%;right:15%;bottom:20px;z-index:10;padding-top:20px;padding-bottom:20px;color:#fff;text-align:center;text-shadow:0 1px 2px rgba(0,0,0,.6)}.carousel-caption .btn{text-shadow:none}@media screen and (min-width:768px){.carousel-control .glyphicon-chevron-left,.carousel-control .glyphicon-chevron-right,.carousel-control .icon-next,.carousel-control .icon-prev{width:30px;height:30px;margin-top:-15px;font-size:30px}.carousel-control .glyphicon-chevron-left,.carousel-control .icon-prev{margin-left:-15px}.carousel-control .glyphicon-chevron-right,.carousel-control .icon-next{margin-right:-15px}.carousel-caption{left:20%;right:20%;padding-bottom:30px}.carousel-indicators{bottom:20px}}.btn-group-vertical>.btn-group:after,.btn-group-vertical>.btn-group:before,.btn-toolbar:after,.btn-toolbar:before,.clearfix:after,.clearfix:before,.container-fluid:after,.container-fluid:before,.container:after,.container:before,.dl-horizontal dd:after,.dl-horizontal dd:before,.form-horizontal .form-group:after,.form-horizontal .form-group:before,.item_buttons:after,.item_buttons:before,.modal-footer:after,.modal-footer:before,.nav:after,.nav:before,.navbar-collapse:after,.navbar-collapse:before,.navbar-header:after,.navbar-header:before,.navbar:after,.navbar:before,.pager:after,.pager:before,.panel-body:after,.panel-body:before,.row:after,.row:before{content:" ";display:table}.btn-group-vertical>.btn-group:after,.btn-toolbar:after,.clearfix:after,.container-fluid:after,.container:after,.dl-horizontal dd:after,.form-horizontal .form-group:after,.item_buttons:after,.modal-footer:after,.nav:after,.navbar-collapse:after,.navbar-header:after,.navbar:after,.pager:after,.panel-body:after,.row:after{clear:both}.center-block{display:block;margin-left:auto;margin-right:auto}.pull-right{float:right!important}.pull-left{float:left!important}.hide{display:none!important}.show{display:block!important}.invisible{visibility:hidden}.text-hide{font:0/0 a;color:transparent;text-shadow:none;background-color:transparent;border:0}.hidden{display:none!important}.affix{position:fixed}@-ms-viewport{width:device-width}.visible-lg,.visible-lg-block,.visible-lg-inline,.visible-lg-inline-block,.visible-md,.visible-md-block,.visible-md-inline,.visible-md-inline-block,.visible-sm,.visible-sm-block,.visible-sm-inline,.visible-sm-inline-block,.visible-xs,.visible-xs-block,.visible-xs-inline,.visible-xs-inline-block{display:none!important}@media (max-width:767px){.visible-xs{display:block!important}table.visible-xs{display:table}tr.visible-xs{display:table-row!important}td.visible-xs,th.visible-xs{display:table-cell!important}.visible-xs-block{display:block!important}.visible-xs-inline{display:inline!important}.visible-xs-inline-block{display:inline-block!important}}@media (min-width:768px)and (max-width:991px){.visible-sm{display:block!important}table.visible-sm{display:table}tr.visible-sm{display:table-row!important}td.visible-sm,th.visible-sm{display:table-cell!important}.visible-sm-block{display:block!important}.visible-sm-inline{display:inline!important}.visible-sm-inline-block{display:inline-block!important}}@media (min-width:992px)and (max-width:1199px){.visible-md{display:block!important}table.visible-md{display:table}tr.visible-md{display:table-row!important}td.visible-md,th.visible-md{display:table-cell!important}.visible-md-block{display:block!important}.visible-md-inline{display:inline!important}.visible-md-inline-block{display:inline-block!important}}@media (min-width:1200px){.visible-lg{display:block!important}table.visible-lg{display:table}tr.visible-lg{display:table-row!important}td.visible-lg,th.visible-lg{display:table-cell!important}.visible-lg-block{display:block!important}.visible-lg-inline{display:inline!important}.visible-lg-inline-block{display:inline-block!important}}@media (max-width:767px){.hidden-xs{display:none!important}}@media (min-width:768px)and (max-width:991px){.hidden-sm{display:none!important}}@media (min-width:992px)and (max-width:1199px){.hidden-md{display:none!important}}@media (min-width:1200px){.hidden-lg{display:none!important}}.visible-print{display:none!important}@media print{.visible-print{display:block!important}table.visible-print{display:table}tr.visible-print{display:table-row!important}td.visible-print,th.visible-print{display:table-cell!important}}.visible-print-block{display:none!important}@media print{.visible-print-block{display:block!important}}.visible-print-inline{display:none!important}@media print{.visible-print-inline{display:inline!important}}.visible-print-inline-block{display:none!important}@media print{.visible-print-inline-block{display:inline-block!important}.hidden-print{display:none!important}}/*!
*
* Font Awesome
*
*//*!
 *  Font Awesome 4.2.0 by @davegandy - http://fontawesome.io - @fontawesome
 *  License - http://fontawesome.io/license (Font: SIL OFL 1.1, CSS: MIT License)
 */@font-face{font-family:'FontAwesome';src:url(../components/font-awesome/fonts/fontawesome-webfont.eot?v=4.2.0);src:url(../components/font-awesome/fonts/fontawesome-webfont.eot?#iefix&v=4.2.0)format('embedded-opentype'),url(../components/font-awesome/fonts/fontawesome-webfont.woff?v=4.2.0)format('woff'),url(../components/font-awesome/fonts/fontawesome-webfont.ttf?v=4.2.0)format('truetype'),url(../components/font-awesome/fonts/fontawesome-webfont.svg?v=4.2.0#fontawesomeregular)format('svg');font-weight:400;font-style:normal}.fa{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.fa-lg{font-size:1.33333333em;line-height:.75em;vertical-align:-15%}.fa-2x{font-size:2em}.fa-3x{font-size:3em}.fa-4x{font-size:4em}.fa-5x{font-size:5em}.fa-fw{width:1.28571429em;text-align:center}.fa-ul{padding-left:0;margin-left:2.14285714em;list-style-type:none}.fa-ul>li{position:relative}.fa-li{position:absolute;left:-2.14285714em;width:2.14285714em;top:.14285714em;text-align:center}.fa-li.fa-lg{left:-1.85714286em}.fa-border{padding:.2em .25em .15em;border:.08em solid #eee;border-radius:.1em}.fa.pull-left{margin-right:.3em}.fa.pull-right{margin-left:.3em}.fa-spin{-webkit-animation:fa-spin 2s infinite linear;animation:fa-spin 2s infinite linear}@-webkit-keyframes fa-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@keyframes fa-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}.fa-rotate-90{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=1);-webkit-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg)}.fa-rotate-180{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=2);-webkit-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg)}.fa-rotate-270{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=3);-webkit-transform:rotate(270deg);-ms-transform:rotate(270deg);transform:rotate(270deg)}.fa-flip-horizontal{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1);-webkit-transform:scale(-1,1);-ms-transform:scale(-1,1);transform:scale(-1,1)}.fa-flip-vertical{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1);-webkit-transform:scale(1,-1);-ms-transform:scale(1,-1);transform:scale(1,-1)}:root .fa-flip-horizontal,:root .fa-flip-vertical,:root .fa-rotate-180,:root .fa-rotate-270,:root .fa-rotate-90{filter:none}.fa-stack{position:relative;display:inline-block;width:2em;height:2em;line-height:2em;vertical-align:middle}.fa-stack-1x,.fa-stack-2x{position:absolute;left:0;width:100%;text-align:center}.fa-stack-1x{line-height:inherit}.fa-stack-2x{font-size:2em}.fa-inverse{color:#fff}.fa-glass:before{content:"\f000"}.fa-music:before{content:"\f001"}.fa-search:before{content:"\f002"}.fa-envelope-o:before{content:"\f003"}.fa-heart:before{content:"\f004"}.fa-star:before{content:"\f005"}.fa-star-o:before{content:"\f006"}.fa-user:before{content:"\f007"}.fa-film:before{content:"\f008"}.fa-th-large:before{content:"\f009"}.fa-th:before{content:"\f00a"}.fa-th-list:before{content:"\f00b"}.fa-check:before{content:"\f00c"}.fa-close:before,.fa-remove:before,.fa-times:before{content:"\f00d"}.fa-search-plus:before{content:"\f00e"}.fa-search-minus:before{content:"\f010"}.fa-power-off:before{content:"\f011"}.fa-signal:before{content:"\f012"}.fa-cog:before,.fa-gear:before{content:"\f013"}.fa-trash-o:before{content:"\f014"}.fa-home:before{content:"\f015"}.fa-file-o:before{content:"\f016"}.fa-clock-o:before{content:"\f017"}.fa-road:before{content:"\f018"}.fa-download:before{content:"\f019"}.fa-arrow-circle-o-down:before{content:"\f01a"}.fa-arrow-circle-o-up:before{content:"\f01b"}.fa-inbox:before{content:"\f01c"}.fa-play-circle-o:before{content:"\f01d"}.fa-repeat:before,.fa-rotate-right:before{content:"\f01e"}.fa-refresh:before{content:"\f021"}.fa-list-alt:before{content:"\f022"}.fa-lock:before{content:"\f023"}.fa-flag:before{content:"\f024"}.fa-headphones:before{content:"\f025"}.fa-volume-off:before{content:"\f026"}.fa-volume-down:before{content:"\f027"}.fa-volume-up:before{content:"\f028"}.fa-qrcode:before{content:"\f029"}.fa-barcode:before{content:"\f02a"}.fa-tag:before{content:"\f02b"}.fa-tags:before{content:"\f02c"}.fa-book:before{content:"\f02d"}.fa-bookmark:before{content:"\f02e"}.fa-print:before{content:"\f02f"}.fa-camera:before{content:"\f030"}.fa-font:before{content:"\f031"}.fa-bold:before{content:"\f032"}.fa-italic:before{content:"\f033"}.fa-text-height:before{content:"\f034"}.fa-text-width:before{content:"\f035"}.fa-align-left:before{content:"\f036"}.fa-align-center:before{content:"\f037"}.fa-align-right:before{content:"\f038"}.fa-align-justify:before{content:"\f039"}.fa-list:before{content:"\f03a"}.fa-dedent:before,.fa-outdent:before{content:"\f03b"}.fa-indent:before{content:"\f03c"}.fa-video-camera:before{content:"\f03d"}.fa-image:before,.fa-photo:before,.fa-picture-o:before{content:"\f03e"}.fa-pencil:before{content:"\f040"}.fa-map-marker:before{content:"\f041"}.fa-adjust:before{content:"\f042"}.fa-tint:before{content:"\f043"}.fa-edit:before,.fa-pencil-square-o:before{content:"\f044"}.fa-share-square-o:before{content:"\f045"}.fa-check-square-o:before{content:"\f046"}.fa-arrows:before{content:"\f047"}.fa-step-backward:before{content:"\f048"}.fa-fast-backward:before{content:"\f049"}.fa-backward:before{content:"\f04a"}.fa-play:before{content:"\f04b"}.fa-pause:before{content:"\f04c"}.fa-stop:before{content:"\f04d"}.fa-forward:before{content:"\f04e"}.fa-fast-forward:before{content:"\f050"}.fa-step-forward:before{content:"\f051"}.fa-eject:before{content:"\f052"}.fa-chevron-left:before{content:"\f053"}.fa-chevron-right:before{content:"\f054"}.fa-plus-circle:before{content:"\f055"}.fa-minus-circle:before{content:"\f056"}.fa-times-circle:before{content:"\f057"}.fa-check-circle:before{content:"\f058"}.fa-question-circle:before{content:"\f059"}.fa-info-circle:before{content:"\f05a"}.fa-crosshairs:before{content:"\f05b"}.fa-times-circle-o:before{content:"\f05c"}.fa-check-circle-o:before{content:"\f05d"}.fa-ban:before{content:"\f05e"}.fa-arrow-left:before{content:"\f060"}.fa-arrow-right:before{content:"\f061"}.fa-arrow-up:before{content:"\f062"}.fa-arrow-down:before{content:"\f063"}.fa-mail-forward:before,.fa-share:before{content:"\f064"}.fa-expand:before{content:"\f065"}.fa-compress:before{content:"\f066"}.fa-plus:before{content:"\f067"}.fa-minus:before{content:"\f068"}.fa-asterisk:before{content:"\f069"}.fa-exclamation-circle:before{content:"\f06a"}.fa-gift:before{content:"\f06b"}.fa-leaf:before{content:"\f06c"}.fa-fire:before{content:"\f06d"}.fa-eye:before{content:"\f06e"}.fa-eye-slash:before{content:"\f070"}.fa-exclamation-triangle:before,.fa-warning:before{content:"\f071"}.fa-plane:before{content:"\f072"}.fa-calendar:before{content:"\f073"}.fa-random:before{content:"\f074"}.fa-comment:before{content:"\f075"}.fa-magnet:before{content:"\f076"}.fa-chevron-up:before{content:"\f077"}.fa-chevron-down:before{content:"\f078"}.fa-retweet:before{content:"\f079"}.fa-shopping-cart:before{content:"\f07a"}.fa-folder:before{content:"\f07b"}.fa-folder-open:before{content:"\f07c"}.fa-arrows-v:before{content:"\f07d"}.fa-arrows-h:before{content:"\f07e"}.fa-bar-chart-o:before,.fa-bar-chart:before{content:"\f080"}.fa-twitter-square:before{content:"\f081"}.fa-facebook-square:before{content:"\f082"}.fa-camera-retro:before{content:"\f083"}.fa-key:before{content:"\f084"}.fa-cogs:before,.fa-gears:before{content:"\f085"}.fa-comments:before{content:"\f086"}.fa-thumbs-o-up:before{content:"\f087"}.fa-thumbs-o-down:before{content:"\f088"}.fa-star-half:before{content:"\f089"}.fa-heart-o:before{content:"\f08a"}.fa-sign-out:before{content:"\f08b"}.fa-linkedin-square:before{content:"\f08c"}.fa-thumb-tack:before{content:"\f08d"}.fa-external-link:before{content:"\f08e"}.fa-sign-in:before{content:"\f090"}.fa-trophy:before{content:"\f091"}.fa-github-square:before{content:"\f092"}.fa-upload:before{content:"\f093"}.fa-lemon-o:before{content:"\f094"}.fa-phone:before{content:"\f095"}.fa-square-o:before{content:"\f096"}.fa-bookmark-o:before{content:"\f097"}.fa-phone-square:before{content:"\f098"}.fa-twitter:before{content:"\f099"}.fa-facebook:before{content:"\f09a"}.fa-github:before{content:"\f09b"}.fa-unlock:before{content:"\f09c"}.fa-credit-card:before{content:"\f09d"}.fa-rss:before{content:"\f09e"}.fa-hdd-o:before{content:"\f0a0"}.fa-bullhorn:before{content:"\f0a1"}.fa-bell:before{content:"\f0f3"}.fa-certificate:before{content:"\f0a3"}.fa-hand-o-right:before{content:"\f0a4"}.fa-hand-o-left:before{content:"\f0a5"}.fa-hand-o-up:before{content:"\f0a6"}.fa-hand-o-down:before{content:"\f0a7"}.fa-arrow-circle-left:before{content:"\f0a8"}.fa-arrow-circle-right:before{content:"\f0a9"}.fa-arrow-circle-up:before{content:"\f0aa"}.fa-arrow-circle-down:before{content:"\f0ab"}.fa-globe:before{content:"\f0ac"}.fa-wrench:before{content:"\f0ad"}.fa-tasks:before{content:"\f0ae"}.fa-filter:before{content:"\f0b0"}.fa-briefcase:before{content:"\f0b1"}.fa-arrows-alt:before{content:"\f0b2"}.fa-group:before,.fa-users:before{content:"\f0c0"}.fa-chain:before,.fa-link:before{content:"\f0c1"}.fa-cloud:before{content:"\f0c2"}.fa-flask:before{content:"\f0c3"}.fa-cut:before,.fa-scissors:before{content:"\f0c4"}.fa-copy:before,.fa-files-o:before{content:"\f0c5"}.fa-paperclip:before{content:"\f0c6"}.fa-floppy-o:before,.fa-save:before{content:"\f0c7"}.fa-square:before{content:"\f0c8"}.fa-bars:before,.fa-navicon:before,.fa-reorder:before{content:"\f0c9"}.fa-list-ul:before{content:"\f0ca"}.fa-list-ol:before{content:"\f0cb"}.fa-strikethrough:before{content:"\f0cc"}.fa-underline:before{content:"\f0cd"}.fa-table:before{content:"\f0ce"}.fa-magic:before{content:"\f0d0"}.fa-truck:before{content:"\f0d1"}.fa-pinterest:before{content:"\f0d2"}.fa-pinterest-square:before{content:"\f0d3"}.fa-google-plus-square:before{content:"\f0d4"}.fa-google-plus:before{content:"\f0d5"}.fa-money:before{content:"\f0d6"}.fa-caret-down:before{content:"\f0d7"}.fa-caret-up:before{content:"\f0d8"}.fa-caret-left:before{content:"\f0d9"}.fa-caret-right:before{content:"\f0da"}.fa-columns:before{content:"\f0db"}.fa-sort:before,.fa-unsorted:before{content:"\f0dc"}.fa-sort-desc:before,.fa-sort-down:before{content:"\f0dd"}.fa-sort-asc:before,.fa-sort-up:before{content:"\f0de"}.fa-envelope:before{content:"\f0e0"}.fa-linkedin:before{content:"\f0e1"}.fa-rotate-left:before,.fa-undo:before{content:"\f0e2"}.fa-gavel:before,.fa-legal:before{content:"\f0e3"}.fa-dashboard:before,.fa-tachometer:before{content:"\f0e4"}.fa-comment-o:before{content:"\f0e5"}.fa-comments-o:before{content:"\f0e6"}.fa-bolt:before,.fa-flash:before{content:"\f0e7"}.fa-sitemap:before{content:"\f0e8"}.fa-umbrella:before{content:"\f0e9"}.fa-clipboard:before,.fa-paste:before{content:"\f0ea"}.fa-lightbulb-o:before{content:"\f0eb"}.fa-exchange:before{content:"\f0ec"}.fa-cloud-download:before{content:"\f0ed"}.fa-cloud-upload:before{content:"\f0ee"}.fa-user-md:before{content:"\f0f0"}.fa-stethoscope:before{content:"\f0f1"}.fa-suitcase:before{content:"\f0f2"}.fa-bell-o:before{content:"\f0a2"}.fa-coffee:before{content:"\f0f4"}.fa-cutlery:before{content:"\f0f5"}.fa-file-text-o:before{content:"\f0f6"}.fa-building-o:before{content:"\f0f7"}.fa-hospital-o:before{content:"\f0f8"}.fa-ambulance:before{content:"\f0f9"}.fa-medkit:before{content:"\f0fa"}.fa-fighter-jet:before{content:"\f0fb"}.fa-beer:before{content:"\f0fc"}.fa-h-square:before{content:"\f0fd"}.fa-plus-square:before{content:"\f0fe"}.fa-angle-double-left:before{content:"\f100"}.fa-angle-double-right:before{content:"\f101"}.fa-angle-double-up:before{content:"\f102"}.fa-angle-double-down:before{content:"\f103"}.fa-angle-left:before{content:"\f104"}.fa-angle-right:before{content:"\f105"}.fa-angle-up:before{content:"\f106"}.fa-angle-down:before{content:"\f107"}.fa-desktop:before{content:"\f108"}.fa-laptop:before{content:"\f109"}.fa-tablet:before{content:"\f10a"}.fa-mobile-phone:before,.fa-mobile:before{content:"\f10b"}.fa-circle-o:before{content:"\f10c"}.fa-quote-left:before{content:"\f10d"}.fa-quote-right:before{content:"\f10e"}.fa-spinner:before{content:"\f110"}.fa-circle:before{content:"\f111"}.fa-mail-reply:before,.fa-reply:before{content:"\f112"}.fa-github-alt:before{content:"\f113"}.fa-folder-o:before{content:"\f114"}.fa-folder-open-o:before{content:"\f115"}.fa-smile-o:before{content:"\f118"}.fa-frown-o:before{content:"\f119"}.fa-meh-o:before{content:"\f11a"}.fa-gamepad:before{content:"\f11b"}.fa-keyboard-o:before{content:"\f11c"}.fa-flag-o:before{content:"\f11d"}.fa-flag-checkered:before{content:"\f11e"}.fa-terminal:before{content:"\f120"}.fa-code:before{content:"\f121"}.fa-mail-reply-all:before,.fa-reply-all:before{content:"\f122"}.fa-star-half-empty:before,.fa-star-half-full:before,.fa-star-half-o:before{content:"\f123"}.fa-location-arrow:before{content:"\f124"}.fa-crop:before{content:"\f125"}.fa-code-fork:before{content:"\f126"}.fa-chain-broken:before,.fa-unlink:before{content:"\f127"}.fa-question:before{content:"\f128"}.fa-info:before{content:"\f129"}.fa-exclamation:before{content:"\f12a"}.fa-superscript:before{content:"\f12b"}.fa-subscript:before{content:"\f12c"}.fa-eraser:before{content:"\f12d"}.fa-puzzle-piece:before{content:"\f12e"}.fa-microphone:before{content:"\f130"}.fa-microphone-slash:before{content:"\f131"}.fa-shield:before{content:"\f132"}.fa-calendar-o:before{content:"\f133"}.fa-fire-extinguisher:before{content:"\f134"}.fa-rocket:before{content:"\f135"}.fa-maxcdn:before{content:"\f136"}.fa-chevron-circle-left:before{content:"\f137"}.fa-chevron-circle-right:before{content:"\f138"}.fa-chevron-circle-up:before{content:"\f139"}.fa-chevron-circle-down:before{content:"\f13a"}.fa-html5:before{content:"\f13b"}.fa-css3:before{content:"\f13c"}.fa-anchor:before{content:"\f13d"}.fa-unlock-alt:before{content:"\f13e"}.fa-bullseye:before{content:"\f140"}.fa-ellipsis-h:before{content:"\f141"}.fa-ellipsis-v:before{content:"\f142"}.fa-rss-square:before{content:"\f143"}.fa-play-circle:before{content:"\f144"}.fa-ticket:before{content:"\f145"}.fa-minus-square:before{content:"\f146"}.fa-minus-square-o:before{content:"\f147"}.fa-level-up:before{content:"\f148"}.fa-level-down:before{content:"\f149"}.fa-check-square:before{content:"\f14a"}.fa-pencil-square:before{content:"\f14b"}.fa-external-link-square:before{content:"\f14c"}.fa-share-square:before{content:"\f14d"}.fa-compass:before{content:"\f14e"}.fa-caret-square-o-down:before,.fa-toggle-down:before{content:"\f150"}.fa-caret-square-o-up:before,.fa-toggle-up:before{content:"\f151"}.fa-caret-square-o-right:before,.fa-toggle-right:before{content:"\f152"}.fa-eur:before,.fa-euro:before{content:"\f153"}.fa-gbp:before{content:"\f154"}.fa-dollar:before,.fa-usd:before{content:"\f155"}.fa-inr:before,.fa-rupee:before{content:"\f156"}.fa-cny:before,.fa-jpy:before,.fa-rmb:before,.fa-yen:before{content:"\f157"}.fa-rouble:before,.fa-rub:before,.fa-ruble:before{content:"\f158"}.fa-krw:before,.fa-won:before{content:"\f159"}.fa-bitcoin:before,.fa-btc:before{content:"\f15a"}.fa-file:before{content:"\f15b"}.fa-file-text:before{content:"\f15c"}.fa-sort-alpha-asc:before{content:"\f15d"}.fa-sort-alpha-desc:before{content:"\f15e"}.fa-sort-amount-asc:before{content:"\f160"}.fa-sort-amount-desc:before{content:"\f161"}.fa-sort-numeric-asc:before{content:"\f162"}.fa-sort-numeric-desc:before{content:"\f163"}.fa-thumbs-up:before{content:"\f164"}.fa-thumbs-down:before{content:"\f165"}.fa-youtube-square:before{content:"\f166"}.fa-youtube:before{content:"\f167"}.fa-xing:before{content:"\f168"}.fa-xing-square:before{content:"\f169"}.fa-youtube-play:before{content:"\f16a"}.fa-dropbox:before{content:"\f16b"}.fa-stack-overflow:before{content:"\f16c"}.fa-instagram:before{content:"\f16d"}.fa-flickr:before{content:"\f16e"}.fa-adn:before{content:"\f170"}.fa-bitbucket:before{content:"\f171"}.fa-bitbucket-square:before{content:"\f172"}.fa-tumblr:before{content:"\f173"}.fa-tumblr-square:before{content:"\f174"}.fa-long-arrow-down:before{content:"\f175"}.fa-long-arrow-up:before{content:"\f176"}.fa-long-arrow-left:before{content:"\f177"}.fa-long-arrow-right:before{content:"\f178"}.fa-apple:before{content:"\f179"}.fa-windows:before{content:"\f17a"}.fa-android:before{content:"\f17b"}.fa-linux:before{content:"\f17c"}.fa-dribbble:before{content:"\f17d"}.fa-skype:before{content:"\f17e"}.fa-foursquare:before{content:"\f180"}.fa-trello:before{content:"\f181"}.fa-female:before{content:"\f182"}.fa-male:before{content:"\f183"}.fa-gittip:before{content:"\f184"}.fa-sun-o:before{content:"\f185"}.fa-moon-o:before{content:"\f186"}.fa-archive:before{content:"\f187"}.fa-bug:before{content:"\f188"}.fa-vk:before{content:"\f189"}.fa-weibo:before{content:"\f18a"}.fa-renren:before{content:"\f18b"}.fa-pagelines:before{content:"\f18c"}.fa-stack-exchange:before{content:"\f18d"}.fa-arrow-circle-o-right:before{content:"\f18e"}.fa-arrow-circle-o-left:before{content:"\f190"}.fa-caret-square-o-left:before,.fa-toggle-left:before{content:"\f191"}.fa-dot-circle-o:before{content:"\f192"}.fa-wheelchair:before{content:"\f193"}.fa-vimeo-square:before{content:"\f194"}.fa-try:before,.fa-turkish-lira:before{content:"\f195"}.fa-plus-square-o:before{content:"\f196"}.fa-space-shuttle:before{content:"\f197"}.fa-slack:before{content:"\f198"}.fa-envelope-square:before{content:"\f199"}.fa-wordpress:before{content:"\f19a"}.fa-openid:before{content:"\f19b"}.fa-bank:before,.fa-institution:before,.fa-university:before{content:"\f19c"}.fa-graduation-cap:before,.fa-mortar-board:before{content:"\f19d"}.fa-yahoo:before{content:"\f19e"}.fa-google:before{content:"\f1a0"}.fa-reddit:before{content:"\f1a1"}.fa-reddit-square:before{content:"\f1a2"}.fa-stumbleupon-circle:before{content:"\f1a3"}.fa-stumbleupon:before{content:"\f1a4"}.fa-delicious:before{content:"\f1a5"}.fa-digg:before{content:"\f1a6"}.fa-pied-piper:before{content:"\f1a7"}.fa-pied-piper-alt:before{content:"\f1a8"}.fa-drupal:before{content:"\f1a9"}.fa-joomla:before{content:"\f1aa"}.fa-language:before{content:"\f1ab"}.fa-fax:before{content:"\f1ac"}.fa-building:before{content:"\f1ad"}.fa-child:before{content:"\f1ae"}.fa-paw:before{content:"\f1b0"}.fa-spoon:before{content:"\f1b1"}.fa-cube:before{content:"\f1b2"}.fa-cubes:before{content:"\f1b3"}.fa-behance:before{content:"\f1b4"}.fa-behance-square:before{content:"\f1b5"}.fa-steam:before{content:"\f1b6"}.fa-steam-square:before{content:"\f1b7"}.fa-recycle:before{content:"\f1b8"}.fa-automobile:before,.fa-car:before{content:"\f1b9"}.fa-cab:before,.fa-taxi:before{content:"\f1ba"}.fa-tree:before{content:"\f1bb"}.fa-spotify:before{content:"\f1bc"}.fa-deviantart:before{content:"\f1bd"}.fa-soundcloud:before{content:"\f1be"}.fa-database:before{content:"\f1c0"}.fa-file-pdf-o:before{content:"\f1c1"}.fa-file-word-o:before{content:"\f1c2"}.fa-file-excel-o:before{content:"\f1c3"}.fa-file-powerpoint-o:before{content:"\f1c4"}.fa-file-image-o:before,.fa-file-photo-o:before,.fa-file-picture-o:before{content:"\f1c5"}.fa-file-archive-o:before,.fa-file-zip-o:before{content:"\f1c6"}.fa-file-audio-o:before,.fa-file-sound-o:before{content:"\f1c7"}.fa-file-movie-o:before,.fa-file-video-o:before{content:"\f1c8"}.fa-file-code-o:before{content:"\f1c9"}.fa-vine:before{content:"\f1ca"}.fa-codepen:before{content:"\f1cb"}.fa-jsfiddle:before{content:"\f1cc"}.fa-life-bouy:before,.fa-life-buoy:before,.fa-life-ring:before,.fa-life-saver:before,.fa-support:before{content:"\f1cd"}.fa-circle-o-notch:before{content:"\f1ce"}.fa-ra:before,.fa-rebel:before{content:"\f1d0"}.fa-empire:before,.fa-ge:before{content:"\f1d1"}.fa-git-square:before{content:"\f1d2"}.fa-git:before{content:"\f1d3"}.fa-hacker-news:before{content:"\f1d4"}.fa-tencent-weibo:before{content:"\f1d5"}.fa-qq:before{content:"\f1d6"}.fa-wechat:before,.fa-weixin:before{content:"\f1d7"}.fa-paper-plane:before,.fa-send:before{content:"\f1d8"}.fa-paper-plane-o:before,.fa-send-o:before{content:"\f1d9"}.fa-history:before{content:"\f1da"}.fa-circle-thin:before{content:"\f1db"}.fa-header:before{content:"\f1dc"}.fa-paragraph:before{content:"\f1dd"}.fa-sliders:before{content:"\f1de"}.fa-share-alt:before{content:"\f1e0"}.fa-share-alt-square:before{content:"\f1e1"}.fa-bomb:before{content:"\f1e2"}.fa-futbol-o:before,.fa-soccer-ball-o:before{content:"\f1e3"}.fa-tty:before{content:"\f1e4"}.fa-binoculars:before{content:"\f1e5"}.fa-plug:before{content:"\f1e6"}.fa-slideshare:before{content:"\f1e7"}.fa-twitch:before{content:"\f1e8"}.fa-yelp:before{content:"\f1e9"}.fa-newspaper-o:before{content:"\f1ea"}.fa-wifi:before{content:"\f1eb"}.fa-calculator:before{content:"\f1ec"}.fa-paypal:before{content:"\f1ed"}.fa-google-wallet:before{content:"\f1ee"}.fa-cc-visa:before{content:"\f1f0"}.fa-cc-mastercard:before{content:"\f1f1"}.fa-cc-discover:before{content:"\f1f2"}.fa-cc-amex:before{content:"\f1f3"}.fa-cc-paypal:before{content:"\f1f4"}.fa-cc-stripe:before{content:"\f1f5"}.fa-bell-slash:before{content:"\f1f6"}.fa-bell-slash-o:before{content:"\f1f7"}.fa-trash:before{content:"\f1f8"}.fa-copyright:before{content:"\f1f9"}.fa-at:before{content:"\f1fa"}.fa-eyedropper:before{content:"\f1fb"}.fa-paint-brush:before{content:"\f1fc"}.fa-birthday-cake:before{content:"\f1fd"}.fa-area-chart:before{content:"\f1fe"}.fa-pie-chart:before{content:"\f200"}.fa-line-chart:before{content:"\f201"}.fa-lastfm:before{content:"\f202"}.fa-lastfm-square:before{content:"\f203"}.fa-toggle-off:before{content:"\f204"}.fa-toggle-on:before{content:"\f205"}.fa-bicycle:before{content:"\f206"}.fa-bus:before{content:"\f207"}.fa-ioxhost:before{content:"\f208"}.fa-angellist:before{content:"\f209"}.fa-cc:before{content:"\f20a"}.fa-ils:before,.fa-shekel:before,.fa-sheqel:before{content:"\f20b"}.fa-meanpath:before{content:"\f20c"}/*!
*
* IPython base
*
*/.modal.fade .modal-dialog{-webkit-transform:translate(0,0);-ms-transform:translate(0,0);-o-transform:translate(0,0);transform:translate(0,0)}code{color:#000}pre{font-size:inherit;line-height:inherit}label{font-weight:400}.border-box-sizing{box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}.corner-all{border-radius:2px}.no-padding{padding:0}.hbox{display:-webkit-box;-webkit-box-orient:horizontal;display:-moz-box;-moz-box-orient:horizontal;display:box;box-orient:horizontal;box-align:stretch;display:flex;flex-direction:row;align-items:stretch}.hbox>*{-webkit-box-flex:0;-moz-box-flex:0;box-flex:0;flex:none}.vbox{display:-webkit-box;-webkit-box-orient:vertical;display:-moz-box;-moz-box-orient:vertical;display:box;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch}.vbox>*{-webkit-box-flex:0;-moz-box-flex:0;box-flex:0;flex:none}.hbox.reverse,.reverse,.vbox.reverse{-webkit-box-direction:reverse;-moz-box-direction:reverse;box-direction:reverse;flex-direction:row-reverse}.box-flex0,.hbox.box-flex0,.vbox.box-flex0{-webkit-box-flex:0;-moz-box-flex:0;box-flex:0;flex:none;width:auto}.box-flex1,.hbox.box-flex1,.vbox.box-flex1{-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;flex:1}.box-flex,.hbox.box-flex,.vbox.box-flex{-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;flex:1}.box-flex2,.hbox.box-flex2,.vbox.box-flex2{-webkit-box-flex:2;-moz-box-flex:2;box-flex:2;flex:2}.box-group1{-webkit-box-flex-group:1;-moz-box-flex-group:1;box-flex-group:1}.box-group2{-webkit-box-flex-group:2;-moz-box-flex-group:2;box-flex-group:2}.hbox.start,.start,.vbox.start{-webkit-box-pack:start;-moz-box-pack:start;box-pack:start;justify-content:flex-start}.end,.hbox.end,.vbox.end{-webkit-box-pack:end;-moz-box-pack:end;box-pack:end;justify-content:flex-end}.center,.hbox.center,.vbox.center{-webkit-box-pack:center;-moz-box-pack:center;box-pack:center;justify-content:center}.baseline,.hbox.baseline,.vbox.baseline{-webkit-box-pack:baseline;-moz-box-pack:baseline;box-pack:baseline;justify-content:baseline}.hbox.stretch,.stretch,.vbox.stretch{-webkit-box-pack:stretch;-moz-box-pack:stretch;box-pack:stretch;justify-content:stretch}.align-start,.hbox.align-start,.vbox.align-start{-webkit-box-align:start;-moz-box-align:start;box-align:start;align-items:flex-start}.align-end,.hbox.align-end,.vbox.align-end{-webkit-box-align:end;-moz-box-align:end;box-align:end;align-items:flex-end}.align-center,.hbox.align-center,.vbox.align-center{-webkit-box-align:center;-moz-box-align:center;box-align:center;align-items:center}.align-baseline,.hbox.align-baseline,.vbox.align-baseline{-webkit-box-align:baseline;-moz-box-align:baseline;box-align:baseline;align-items:baseline}.align-stretch,.hbox.align-stretch,.vbox.align-stretch{-webkit-box-align:stretch;-moz-box-align:stretch;box-align:stretch;align-items:stretch}div.error{margin:2em;text-align:center}div.error>h1{font-size:500%;line-height:normal}div.error>p{font-size:200%;line-height:normal}div.traceback-wrapper{text-align:left;max-width:800px;margin:auto}body{position:absolute;left:0;right:0;top:0;bottom:0;overflow:visible}#header{display:none;background-color:#fff;position:relative;z-index:100}#header #header-container{padding-bottom:5px;padding-top:5px;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}#header .header-bar{width:100%;height:1px;background:#e7e7e7;margin-bottom:-1px}#header-spacer{width:100%;visibility:hidden}@media print{#header{display:none!important}#header-spacer{display:none}}#ipython_notebook{padding-left:0;padding-top:1px;padding-bottom:1px}@media (max-width:991px){#ipython_notebook{margin-left:10px}}#noscript{width:auto;padding-top:16px;padding-bottom:16px;text-align:center;font-size:22px;color:red;font-weight:700}#ipython_notebook img{height:28px}#site{width:100%;display:none;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;overflow:auto}@media print{#site{height:auto!important}}.ui-button .ui-button-text{padding:.2em .8em;font-size:77%}input.ui-button{padding:.3em .9em}span#login_widget{float:right}#logout,span#login_widget>.button{color:#333;background-color:#fff;border-color:#ccc}#logout.active,#logout.focus,#logout:active,#logout:focus,#logout:hover,.open>.dropdown-toggle#logout,.open>.dropdown-togglespan#login_widget>.button,span#login_widget>.button.active,span#login_widget>.button.focus,span#login_widget>.button:active,span#login_widget>.button:focus,span#login_widget>.button:hover{color:#333;background-color:#e6e6e6;border-color:#adadad}#logout.active,#logout:active,.open>.dropdown-toggle#logout,.open>.dropdown-togglespan#login_widget>.button,span#login_widget>.button.active,span#login_widget>.button:active{background-image:none}#logout.disabled,#logout.disabled.active,#logout.disabled.focus,#logout.disabled:active,#logout.disabled:focus,#logout.disabled:hover,#logout[disabled],#logout[disabled].active,#logout[disabled].focus,#logout[disabled]:active,#logout[disabled]:focus,#logout[disabled]:hover,fieldset[disabled] #logout,fieldset[disabled] #logout.active,fieldset[disabled] #logout.focus,fieldset[disabled] #logout:active,fieldset[disabled] #logout:focus,fieldset[disabled] #logout:hover,fieldset[disabled] span#login_widget>.button,fieldset[disabled] span#login_widget>.button.active,fieldset[disabled] span#login_widget>.button.focus,fieldset[disabled] span#login_widget>.button:active,fieldset[disabled] span#login_widget>.button:focus,fieldset[disabled] span#login_widget>.button:hover,span#login_widget>.button.disabled,span#login_widget>.button.disabled.active,span#login_widget>.button.disabled.focus,span#login_widget>.button.disabled:active,span#login_widget>.button.disabled:focus,span#login_widget>.button.disabled:hover,span#login_widget>.button[disabled],span#login_widget>.button[disabled].active,span#login_widget>.button[disabled].focus,span#login_widget>.button[disabled]:active,span#login_widget>.button[disabled]:focus,span#login_widget>.button[disabled]:hover{background-color:#fff;border-color:#ccc}#logout .badge,span#login_widget>.button .badge{color:#fff;background-color:#333}.nav-header{text-transform:none}#header>span{margin-top:10px}.modal_stretch .modal-dialog{display:-webkit-box;-webkit-box-orient:vertical;display:-moz-box;-moz-box-orient:vertical;display:box;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch;min-height:80vh}.modal_stretch .modal-dialog .modal-body{max-height:calc(100vh - 200px);overflow:auto;flex:1}@media (min-width:768px){.modal .modal-dialog{width:700px}select.form-control{margin-left:12px;margin-right:12px}}/*!
*
* IPython auth
*
*/.center-nav{display:inline-block;margin-bottom:-4px}/*!
*
* IPython tree view
*
*/.alternate_upload{background-color:none;display:inline}.alternate_upload.form{padding:0;margin:0}.alternate_upload input.fileinput{text-align:center;vertical-align:middle;display:inline;opacity:0;z-index:2;width:12ex;margin-right:-12ex}.alternate_upload .btn-upload{height:22px}ul#tabs{margin-bottom:4px}ul#tabs a{padding-top:6px;padding-bottom:4px}ul.breadcrumb a:focus,ul.breadcrumb a:hover{text-decoration:none}ul.breadcrumb i.icon-home{font-size:16px;margin-right:4px}ul.breadcrumb span{color:#5e5e5e}.list_toolbar{padding:4px 0;vertical-align:middle}.list_toolbar .tree-buttons{padding-top:1px}.dynamic-buttons{padding-top:3px;display:inline-block}.list_toolbar [class*=span]{min-height:24px}.list_header{font-weight:700;background-color:#eee}.list_placeholder{font-weight:700;padding:4px 7px}.list_container{margin-top:4px;margin-bottom:20px;border:1px solid #ddd;border-radius:2px}.list_container>div{border-bottom:1px solid #ddd}.list_container>div:hover .list-item{background-color:red}.list_container>div:last-child{border:none}.list_item:hover .list_item{background-color:#ddd}.list_item a{text-decoration:none}.list_item:hover{background-color:#fafafa}.action_col{text-align:right}.list_header>div,.list_item>div{line-height:22px;padding:4px 7px}.list_header>div input,.list_item>div input{margin-right:7px;margin-left:14px;vertical-align:baseline;line-height:22px;position:relative;top:-1px}.list_header>div .item_link,.list_item>div .item_link{margin-left:-1px;vertical-align:baseline;line-height:22px}.new-file input[type=checkbox]{visibility:hidden}.item_name{line-height:22px;height:24px}.item_icon{font-size:14px;color:#5e5e5e;margin-right:7px;margin-left:7px;line-height:22px;vertical-align:baseline}.item_buttons{line-height:1em;margin-left:-5px}.item_buttons .btn-group,.item_buttons .input-group{float:left}.item_buttons>.btn,.item_buttons>.btn-group,.item_buttons>.input-group{margin-left:5px}.item_buttons .btn{min-width:13ex}.item_buttons .running-indicator{padding-top:4px;color:#5cb85c}.toolbar_info{height:24px;line-height:24px}input.engine_num_input,input.nbname_input{padding-top:3px;padding-bottom:3px;height:22px;line-height:14px;margin:0}input.engine_num_input{width:60px}.highlight_text{color:#00f}#project_name{display:inline-block;padding-left:7px;margin-left:-2px}#project_name>.breadcrumb{padding:0;margin-bottom:0;background-color:transparent;font-weight:700}#tree-selector{padding-right:0}#button-select-all{min-width:50px}#select-all{margin-left:7px;margin-right:2px}.menu_icon{margin-right:2px}.tab-content .row{margin-left:0;margin-right:0}.folder_icon:before{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:"\f114"}.folder_icon:before.pull-left{margin-right:.3em}.folder_icon:before.pull-right{margin-left:.3em}.notebook_icon:before{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:"\f02d";position:relative;top:-1px}.notebook_icon:before.pull-left{margin-right:.3em}.notebook_icon:before.pull-right{margin-left:.3em}.running_notebook_icon:before{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:"\f02d";position:relative;top:-1px;color:#5cb85c}.running_notebook_icon:before.pull-left{margin-right:.3em}.running_notebook_icon:before.pull-right{margin-left:.3em}.file_icon:before{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:"\f016";position:relative;top:-2px}.file_icon:before.pull-left{margin-right:.3em}.file_icon:before.pull-right{margin-left:.3em}#notebook_toolbar .pull-right{padding-top:0;margin-right:-1px}ul#new-menu{left:auto;right:0}.kernel-menu-icon{padding-right:12px;width:24px;content:"\f096"}.kernel-menu-icon:before{content:"\f096"}.kernel-menu-icon-current:before{content:"\f00c"}#tab_content{padding-top:20px}#running .panel-group .panel{margin-top:3px;margin-bottom:1em}#running .panel-group .panel .panel-heading{background-color:#eee;line-height:22px;padding:4px 7px}#running .panel-group .panel .panel-heading a:focus,#running .panel-group .panel .panel-heading a:hover{text-decoration:none}#running .panel-group .panel .panel-body{padding:0}#running .panel-group .panel .panel-body .list_container{margin-top:0;margin-bottom:0;border:0;border-radius:0}#running .panel-group .panel .panel-body .list_container .list_item{border-bottom:1px solid #ddd}#running .panel-group .panel .panel-body .list_container .list_item:last-child{border-bottom:0}.delete-button,.duplicate-button,.rename-button,.shutdown-button{display:none}.dynamic-instructions{display:inline-block;padding-top:4px}/*!
*
* IPython text editor webapp
*
*/.selected-keymap i.fa{padding:0 5px}.selected-keymap i.fa:before{content:"\f00c"}#mode-menu{overflow:auto;max-height:20em}.edit_app #header{-webkit-box-shadow:0 0 12px 1px rgba(87,87,87,.2);box-shadow:0 0 12px 1px rgba(87,87,87,.2)}.edit_app #menubar .navbar{margin-bottom:-1px}.dirty-indicator{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;width:20px}.dirty-indicator.pull-left{margin-right:.3em}.dirty-indicator.pull-right{margin-left:.3em}.dirty-indicator-dirty{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;width:20px}.dirty-indicator-dirty.pull-left{margin-right:.3em}.dirty-indicator-dirty.pull-right{margin-left:.3em}.dirty-indicator-clean{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;width:20px}.dirty-indicator-clean.pull-left{margin-right:.3em}.dirty-indicator-clean.pull-right{margin-left:.3em}.dirty-indicator-clean:before{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:"\f00c"}.dirty-indicator-clean:before.pull-left{margin-right:.3em}.dirty-indicator-clean:before.pull-right{margin-left:.3em}#filename{font-size:16pt;display:table;padding:0 5px}#current-mode{padding-left:5px;padding-right:5px}#texteditor-backdrop{padding-top:20px;padding-bottom:20px}@media not print{#texteditor-backdrop{background-color:#eee}}@media print{#texteditor-backdrop #texteditor-container .CodeMirror-gutter,#texteditor-backdrop #texteditor-container .CodeMirror-gutters{background-color:#fff}}@media not print{#texteditor-backdrop #texteditor-container .CodeMirror-gutter,#texteditor-backdrop #texteditor-container .CodeMirror-gutters{background-color:#fff}#texteditor-backdrop #texteditor-container{padding:0;background-color:#fff;-webkit-box-shadow:0 0 12px 1px rgba(87,87,87,.2);box-shadow:0 0 12px 1px rgba(87,87,87,.2)}}/*!
*
* IPython notebook
*
*/.ansibold{font-weight:700}.ansiblack{color:#000}.ansired{color:#8b0000}.ansigreen{color:#006400}.ansiyellow{color:#c4a000}.ansiblue{color:#00008b}.ansipurple{color:#9400d3}.ansicyan{color:#4682b4}.ansigray{color:gray}.ansibgblack{background-color:#000}.ansibgred{background-color:red}.ansibggreen{background-color:green}.ansibgyellow{background-color:#ff0}.ansibgblue{background-color:#00f}.ansibgpurple{background-color:#ff00ff}.ansibgcyan{background-color:#0ff}.ansibggray{background-color:gray}div.cell{border:1px solid transparent;display:-webkit-box;-webkit-box-orient:vertical;display:-moz-box;-moz-box-orient:vertical;display:box;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch;border-radius:2px;box-sizing:border-box;-moz-box-sizing:border-box;border-width:thin;border-style:solid;width:100%;padding:5px;margin:0;outline:0}div.cell.selected{border-color:#ababab}@media print{div.cell.selected{border-color:transparent}}.edit_mode div.cell.selected{border-color:green}.prompt{min-width:14ex;padding:.4em;margin:0;font-family:monospace;text-align:right;line-height:1.21429em}div.inner_cell{display:-webkit-box;-webkit-box-orient:vertical;display:-moz-box;-moz-box-orient:vertical;display:box;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch;-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;flex:1}@-moz-document url-prefix(){div.inner_cell{overflow-x:hidden}}div.input_area{border:1px solid #cfcfcf;border-radius:2px;background:#f7f7f7;line-height:1.21429em}div.prompt:empty{padding-top:0;padding-bottom:0}div.unrecognized_cell{padding:5px 5px 5px 0;display:-webkit-box;-webkit-box-orient:horizontal;display:-moz-box;-moz-box-orient:horizontal;display:box;box-orient:horizontal;box-align:stretch;display:flex;flex-direction:row;align-items:stretch}div.unrecognized_cell .inner_cell{border-radius:2px;padding:5px;font-weight:700;color:red;border:1px solid #cfcfcf;background:#eaeaea}div.unrecognized_cell .inner_cell a,div.unrecognized_cell .inner_cell a:hover{color:inherit;text-decoration:none}@media (max-width:540px){.prompt{text-align:left}div.unrecognized_cell>div.prompt{display:none}}div.code_cell{}div.input{page-break-inside:avoid;display:-webkit-box;-webkit-box-orient:horizontal;display:-moz-box;-moz-box-orient:horizontal;display:box;box-orient:horizontal;box-align:stretch;display:flex;flex-direction:row;align-items:stretch}@media (max-width:540px){div.input{-webkit-box-orient:vertical;-moz-box-orient:vertical;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch}}div.input_prompt{color:navy;border-top:1px solid transparent}div.input_area>div.highlight{margin:.4em;border:none;padding:0;background-color:transparent}div.input_area>div.highlight>pre{margin:0;border:none;padding:0;background-color:transparent}.CodeMirror{line-height:1.21429em;font-size:14px;height:auto;background:0 0}.CodeMirror-scroll{overflow-y:hidden;overflow-x:auto}.CodeMirror-lines{padding:.4em}.CodeMirror-linenumber{padding:0 8px 0 4px}.CodeMirror-gutters{border-bottom-left-radius:2px;border-top-left-radius:2px}.CodeMirror pre{padding:0;border:0;border-radius:0}.highlight-base,.highlight-variable{color:#000}.highlight-variable-2{color:#1a1a1a}.highlight-variable-3{color:#333}.highlight-string{color:#BA2121}.highlight-comment{color:#408080;font-style:italic}.highlight-number{color:#080}.highlight-atom{color:#88F}.highlight-keyword{color:green;font-weight:700}.highlight-builtin{color:green}.highlight-error{color:red}.highlight-operator{color:#A2F;font-weight:700}.highlight-meta{color:#A2F}.highlight-def{color:#00f}.highlight-string-2{color:#f50}.highlight-qualifier{color:#555}.highlight-bracket{color:#997}.highlight-tag{color:#170}.highlight-attribute{color:#00c}.highlight-header{color:#00f}.highlight-quote{color:#090}.highlight-link{color:#00c}.cm-s-ipython span.cm-keyword{color:green;font-weight:700}.cm-s-ipython span.cm-atom{color:#88F}.cm-s-ipython span.cm-number{color:#080}.cm-s-ipython span.cm-def{color:#00f}.cm-s-ipython span.cm-variable{color:#000}.cm-s-ipython span.cm-operator{color:#A2F;font-weight:700}.cm-s-ipython span.cm-variable-2{color:#1a1a1a}.cm-s-ipython span.cm-variable-3{color:#333}.cm-s-ipython span.cm-comment{color:#408080;font-style:italic}.cm-s-ipython span.cm-string{color:#BA2121}.cm-s-ipython span.cm-string-2{color:#f50}.cm-s-ipython span.cm-meta{color:#A2F}.cm-s-ipython span.cm-qualifier{color:#555}.cm-s-ipython span.cm-builtin{color:green}.cm-s-ipython span.cm-bracket{color:#997}.cm-s-ipython span.cm-tag{color:#170}.cm-s-ipython span.cm-attribute{color:#00c}.cm-s-ipython span.cm-header{color:#00f}.cm-s-ipython span.cm-quote{color:#090}.cm-s-ipython span.cm-link{color:#00c}.cm-s-ipython span.cm-error{color:red}.cm-s-ipython span.cm-tab{background:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=')right no-repeat}div.output_wrapper{display:-webkit-box;-webkit-box-align:stretch;display:-moz-box;-moz-box-align:stretch;display:box;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch;z-index:1}div.output_scroll{height:24em;width:100%;overflow:auto;border-radius:2px;-webkit-box-shadow:inset 0 2px 8px rgba(0,0,0,.8);box-shadow:inset 0 2px 8px rgba(0,0,0,.8);display:block}div.output_collapsed{margin:0;padding:0;display:-webkit-box;-webkit-box-orient:vertical;display:-moz-box;-moz-box-orient:vertical;display:box;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch}div.out_prompt_overlay{height:100%;padding:0 .4em;position:absolute;border-radius:2px}div.out_prompt_overlay:hover{-webkit-box-shadow:inset 0 0 1px #000;box-shadow:inset 0 0 1px #000;background:rgba(240,240,240,.5)}div.output_prompt{color:#8b0000}div.output_area{padding:0;page-break-inside:avoid;display:-webkit-box;-webkit-box-orient:horizontal;display:-moz-box;-moz-box-orient:horizontal;display:box;box-orient:horizontal;box-align:stretch;display:flex;flex-direction:row;align-items:stretch}div.output_area .MathJax_Display{text-align:left!important}div.output_area .rendered_html img,div.output_area .rendered_html table{margin-left:0;margin-right:0}div.output_area img,div.output_area svg{max-width:100%;height:auto}div.output_area img.unconfined,div.output_area svg.unconfined{max-width:none}.output{display:-webkit-box;-webkit-box-orient:vertical;display:-moz-box;-moz-box-orient:vertical;display:box;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch}@media (max-width:540px){div.output_area{-webkit-box-orient:vertical;-moz-box-orient:vertical;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch}}div.output_area pre{margin:0;padding:0;border:0;vertical-align:baseline;color:#000;background-color:transparent;border-radius:0}div.output_subarea{overflow-x:auto;padding:.4em;-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;flex:1;max-width:calc(100% - 14ex)}div.output_text{text-align:left;color:#000;line-height:1.21429em}div.output_stderr{background:#fdd}div.output_latex{text-align:left}div.output_javascript:empty{padding:0}.js-error{color:#8b0000}div.raw_input_container{font-family:monospace;padding-top:5px}span.raw_input_prompt{}input.raw_input{font-family:inherit;font-size:inherit;color:inherit;width:auto;vertical-align:baseline;padding:0 .25em;margin:0 .25em}input.raw_input:focus{box-shadow:none}p.p-space{margin-bottom:10px}div.output_unrecognized{padding:5px;font-weight:700;color:red}div.output_unrecognized a,div.output_unrecognized a:hover{color:inherit;text-decoration:none}.rendered_html{color:#000}.rendered_html em{font-style:italic}.rendered_html strong{font-weight:700}.rendered_html :link,.rendered_html :visited,.rendered_html u{text-decoration:underline}.rendered_html h1{font-size:185.7%;margin:1.08em 0 0;font-weight:700;line-height:1}.rendered_html h2{font-size:157.1%;margin:1.27em 0 0;font-weight:700;line-height:1}.rendered_html h3{font-size:128.6%;margin:1.55em 0 0;font-weight:700;line-height:1}.rendered_html h4{font-size:100%;margin:2em 0 0;font-weight:700;line-height:1}.rendered_html h5,.rendered_html h6{font-size:100%;margin:2em 0 0;font-weight:700;line-height:1;font-style:italic}.rendered_html h1:first-child{margin-top:.538em}.rendered_html h2:first-child{margin-top:.636em}.rendered_html h3:first-child{margin-top:.777em}.rendered_html h4:first-child,.rendered_html h5:first-child,.rendered_html h6:first-child{margin-top:1em}.rendered_html ul{list-style:disc;margin:0 2em;padding-left:0}.rendered_html ul ul{list-style:square;margin:0 2em}.rendered_html ul ul ul{list-style:circle;margin:0 2em}.rendered_html ol{list-style:decimal;margin:0 2em;padding-left:0}.rendered_html ol ol{list-style:upper-alpha;margin:0 2em}.rendered_html ol ol ol{list-style:lower-alpha;margin:0 2em}.rendered_html ol ol ol ol{list-style:lower-roman;margin:0 2em}.rendered_html ol ol ol ol ol{list-style:decimal;margin:0 2em}.rendered_html *+ol,.rendered_html *+ul{margin-top:1em}.rendered_html hr{color:#000;background-color:#000}.rendered_html pre{margin:1em 2em}.rendered_html code,.rendered_html pre{border:0;background-color:#fff;color:#000;font-size:100%;padding:0}.rendered_html blockquote{margin:1em 2em}.rendered_html table{margin-left:auto;margin-right:auto;border:1px solid #000;border-collapse:collapse}.rendered_html td,.rendered_html th,.rendered_html tr{border:1px solid #000;border-collapse:collapse;margin:1em 2em}.rendered_html td,.rendered_html th{text-align:left;vertical-align:middle;padding:4px}.rendered_html th{font-weight:700}.rendered_html *+table{margin-top:1em}.rendered_html p{text-align:left}.rendered_html *+p{margin-top:1em}.rendered_html img{display:block;margin-left:auto;margin-right:auto}.rendered_html *+img{margin-top:1em}.rendered_html img,.rendered_html svg{max-width:100%;height:auto}.rendered_html img.unconfined,.rendered_html svg.unconfined{max-width:none}div.text_cell{display:-webkit-box;-webkit-box-orient:horizontal;display:-moz-box;-moz-box-orient:horizontal;display:box;box-orient:horizontal;box-align:stretch;display:flex;flex-direction:row;align-items:stretch}@media (max-width:540px){div.text_cell>div.prompt{display:none}}div.text_cell_render{outline:0;resize:none;width:inherit;border-style:none;padding:.5em .5em .5em .4em;color:#000;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}a.anchor-link:link{text-decoration:none;padding:0 20px;visibility:hidden}h1:hover .anchor-link,h2:hover .anchor-link,h3:hover .anchor-link,h4:hover .anchor-link,h5:hover .anchor-link,h6:hover .anchor-link{visibility:visible}.text_cell.rendered .input_area{display:none}.text_cell.rendered .rendered_html{overflow-x:auto}.text_cell.unrendered .text_cell_render{display:none}.cm-header-1,.cm-header-2,.cm-header-3,.cm-header-4,.cm-header-5,.cm-header-6{font-weight:700;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif}.cm-header-1{font-size:185.7%}.cm-header-2{font-size:157.1%}.cm-header-3{font-size:128.6%}.cm-header-4{font-size:110%}.cm-header-5,.cm-header-6{font-size:100%;font-style:italic}/*!
*
* IPython notebook webapp
*
*/@media (max-width:767px){.notebook_app{padding-left:0;padding-right:0}}#ipython-main-app{box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;height:100%}div#notebook_panel{margin:0;padding:0;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;height:100%}#notebook{font-size:14px;line-height:20px;overflow-y:hidden;overflow-x:auto;width:100%;padding-top:20px;margin:0;outline:0;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;min-height:100%}@media not print{#notebook-container{padding:15px;background-color:#fff;min-height:0;-webkit-box-shadow:0 0 12px 1px rgba(87,87,87,.2);box-shadow:0 0 12px 1px rgba(87,87,87,.2)}}div.ui-widget-content{border:1px solid #ababab;outline:0}pre.dialog{background-color:#f7f7f7;border:1px solid #ddd;border-radius:2px;padding:.4em .4em .4em 2em}p.dialog{padding:.2em}code,kbd,pre,samp{white-space:pre-wrap}#fonttest{font-family:monospace}p{margin-bottom:0}.end_space{min-height:100px;transition:height .2s ease}.notebook_app #header{-webkit-box-shadow:0 0 12px 1px rgba(87,87,87,.2);box-shadow:0 0 12px 1px rgba(87,87,87,.2)}@media not print{.notebook_app{background-color:#eee}}.celltoolbar{border:thin solid #CFCFCF;border-bottom:none;background:#EEE;border-radius:2px 2px 0 0;width:100%;height:29px;padding-right:4px;-webkit-box-orient:horizontal;-moz-box-orient:horizontal;box-orient:horizontal;box-align:stretch;display:flex;flex-direction:row;align-items:stretch;-webkit-box-pack:end;-moz-box-pack:end;box-pack:end;justify-content:flex-end;font-size:87%;padding-top:3px}@media print{.edit_mode div.cell.selected{border-color:transparent}div.code_cell{page-break-inside:avoid}#notebook-container{width:100%}.celltoolbar{display:none}}.ctb_hideshow{display:none;vertical-align:bottom}.ctb_global_show .ctb_show.ctb_hideshow{display:block}.ctb_global_show .ctb_show+.input_area,.ctb_global_show .ctb_show+div.text_cell_input,.ctb_global_show .ctb_show~div.text_cell_render{border-top-right-radius:0;border-top-left-radius:0}.ctb_global_show .ctb_show~div.text_cell_render{border:1px solid #cfcfcf}.celltoolbar select{color:#555;background-color:#fff;background-image:none;border:1px solid #ccc;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075);-webkit-transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s;-o-transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s;transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s;line-height:1.5;border-radius:1px;width:inherit;font-size:inherit;height:22px;padding:0;display:inline-block}.celltoolbar select:focus{border-color:#66afe9;outline:0;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6);box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6)}.celltoolbar select::-moz-placeholder{color:#999;opacity:1}.celltoolbar select:-ms-input-placeholder{color:#999}.celltoolbar select::-webkit-input-placeholder{color:#999}.celltoolbar select[disabled],.celltoolbar select[readonly],fieldset[disabled] .celltoolbar select{background-color:#eee;opacity:1}.celltoolbar select[disabled],fieldset[disabled] .celltoolbar select{cursor:not-allowed}textarea.celltoolbar select{height:auto}select.celltoolbar select{height:30px;line-height:30px}select[multiple].celltoolbar select,textarea.celltoolbar select{height:auto}.celltoolbar label{margin-left:5px;margin-right:5px}.completions{position:absolute;z-index:10;overflow:hidden;border:1px solid #ababab;border-radius:2px;-webkit-box-shadow:0 6px 10px -1px #adadad;box-shadow:0 6px 10px -1px #adadad;line-height:1}.completions select{background:#fff;outline:0;border:none;padding:0;margin:0;overflow:auto;font-family:monospace;font-size:110%;color:#000;width:auto}.completions select option.context{color:#286090}#kernel_logo_widget{float:right!important;float:right}#kernel_logo_widget .current_kernel_logo{display:none;margin-top:-1px;margin-bottom:-1px;width:32px;height:32px}#menubar{box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;margin-top:1px}#menubar .navbar{border-top:1px;border-radius:0 0 2px 2px;margin-bottom:0}#menubar .navbar-toggle{float:left;padding-top:7px;padding-bottom:7px;border:none}#menubar .navbar-collapse{clear:left}.nav-wrapper{border-bottom:1px solid #e7e7e7}i.menu-icon{padding-top:4px}ul#help_menu li a{overflow:hidden;padding-right:2.2em}ul#help_menu li a i{margin-right:-1.2em}.dropdown-submenu{position:relative}.dropdown-submenu>.dropdown-menu{top:0;left:100%;margin-top:-6px;margin-left:-1px}.dropdown-submenu:hover>.dropdown-menu{display:block}.dropdown-submenu>a:after{font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:block;content:"\f0da";float:right;color:#333;margin-top:2px;margin-right:-10px}.dropdown-submenu>a:after.pull-left{margin-right:.3em}.dropdown-submenu>a:after.pull-right{margin-left:.3em}.dropdown-submenu:hover>a:after{color:#262626}.dropdown-submenu.pull-left{float:none}.dropdown-submenu.pull-left>.dropdown-menu{left:-100%;margin-left:10px}#notification_area{float:right!important;float:right;z-index:10}.indicator_area{float:right!important;float:right;color:#777;margin-left:5px;margin-right:5px;z-index:10;text-align:center;width:auto}#kernel_indicator{float:right!important;float:right;color:#777;margin-left:5px;margin-right:5px;z-index:10;text-align:center;width:auto;border-left:1px solid}#kernel_indicator .kernel_indicator_name{padding-left:5px;padding-right:5px}#modal_indicator{float:right!important;float:right;color:#777;margin-left:5px;margin-right:5px;z-index:10;text-align:center;width:auto}#readonly-indicator{float:right!important;float:right;color:#777;z-index:10;text-align:center;width:auto;display:none;margin:2px 0 0}.modal_indicator:before{width:1.28571429em;text-align:center}.edit_mode .modal_indicator:before{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:"\f040"}.edit_mode .modal_indicator:before.pull-left{margin-right:.3em}.edit_mode .modal_indicator:before.pull-right{margin-left:.3em}.command_mode .modal_indicator:before{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:' '}.command_mode .modal_indicator:before.pull-left{margin-right:.3em}.command_mode .modal_indicator:before.pull-right{margin-left:.3em}.kernel_idle_icon:before{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:"\f10c"}.kernel_idle_icon:before.pull-left{margin-right:.3em}.kernel_idle_icon:before.pull-right{margin-left:.3em}.kernel_busy_icon:before{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:"\f111"}.kernel_busy_icon:before.pull-left{margin-right:.3em}.kernel_busy_icon:before.pull-right{margin-left:.3em}.kernel_dead_icon:before{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:"\f1e2"}.kernel_dead_icon:before.pull-left{margin-right:.3em}.kernel_dead_icon:before.pull-right{margin-left:.3em}.kernel_disconnected_icon:before{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:"\f127"}.kernel_disconnected_icon:before.pull-left{margin-right:.3em}.kernel_disconnected_icon:before.pull-right{margin-left:.3em}.notification_widget{z-index:10;background:rgba(240,240,240,.5);margin-right:4px;color:#333;background-color:#fff;border-color:#ccc}.notification_widget.active,.notification_widget.focus,.notification_widget:active,.notification_widget:focus,.notification_widget:hover,.open>.dropdown-toggle.notification_widget{color:#333;background-color:#e6e6e6;border-color:#adadad}.notification_widget.active,.notification_widget:active,.open>.dropdown-toggle.notification_widget{background-image:none}.notification_widget.disabled,.notification_widget.disabled.active,.notification_widget.disabled.focus,.notification_widget.disabled:active,.notification_widget.disabled:focus,.notification_widget.disabled:hover,.notification_widget[disabled],.notification_widget[disabled].active,.notification_widget[disabled].focus,.notification_widget[disabled]:active,.notification_widget[disabled]:focus,.notification_widget[disabled]:hover,fieldset[disabled] .notification_widget,fieldset[disabled] .notification_widget.active,fieldset[disabled] .notification_widget.focus,fieldset[disabled] .notification_widget:active,fieldset[disabled] .notification_widget:focus,fieldset[disabled] .notification_widget:hover{background-color:#fff;border-color:#ccc}.notification_widget .badge{color:#fff;background-color:#333}.notification_widget.warning{color:#fff;background-color:#f0ad4e;border-color:#eea236}.notification_widget.warning.active,.notification_widget.warning.focus,.notification_widget.warning:active,.notification_widget.warning:focus,.notification_widget.warning:hover,.open>.dropdown-toggle.notification_widget.warning{color:#fff;background-color:#ec971f;border-color:#d58512}.notification_widget.warning.active,.notification_widget.warning:active,.open>.dropdown-toggle.notification_widget.warning{background-image:none}.notification_widget.warning.disabled,.notification_widget.warning.disabled.active,.notification_widget.warning.disabled.focus,.notification_widget.warning.disabled:active,.notification_widget.warning.disabled:focus,.notification_widget.warning.disabled:hover,.notification_widget.warning[disabled],.notification_widget.warning[disabled].active,.notification_widget.warning[disabled].focus,.notification_widget.warning[disabled]:active,.notification_widget.warning[disabled]:focus,.notification_widget.warning[disabled]:hover,fieldset[disabled] .notification_widget.warning,fieldset[disabled] .notification_widget.warning.active,fieldset[disabled] .notification_widget.warning.focus,fieldset[disabled] .notification_widget.warning:active,fieldset[disabled] .notification_widget.warning:focus,fieldset[disabled] .notification_widget.warning:hover{background-color:#f0ad4e;border-color:#eea236}.notification_widget.warning .badge{color:#f0ad4e;background-color:#fff}.notification_widget.success{color:#fff;background-color:#5cb85c;border-color:#4cae4c}.notification_widget.success.active,.notification_widget.success.focus,.notification_widget.success:active,.notification_widget.success:focus,.notification_widget.success:hover,.open>.dropdown-toggle.notification_widget.success{color:#fff;background-color:#449d44;border-color:#398439}.notification_widget.success.active,.notification_widget.success:active,.open>.dropdown-toggle.notification_widget.success{background-image:none}.notification_widget.success.disabled,.notification_widget.success.disabled.active,.notification_widget.success.disabled.focus,.notification_widget.success.disabled:active,.notification_widget.success.disabled:focus,.notification_widget.success.disabled:hover,.notification_widget.success[disabled],.notification_widget.success[disabled].active,.notification_widget.success[disabled].focus,.notification_widget.success[disabled]:active,.notification_widget.success[disabled]:focus,.notification_widget.success[disabled]:hover,fieldset[disabled] .notification_widget.success,fieldset[disabled] .notification_widget.success.active,fieldset[disabled] .notification_widget.success.focus,fieldset[disabled] .notification_widget.success:active,fieldset[disabled] .notification_widget.success:focus,fieldset[disabled] .notification_widget.success:hover{background-color:#5cb85c;border-color:#4cae4c}.notification_widget.success .badge{color:#5cb85c;background-color:#fff}.notification_widget.info{color:#fff;background-color:#5bc0de;border-color:#46b8da}.notification_widget.info.active,.notification_widget.info.focus,.notification_widget.info:active,.notification_widget.info:focus,.notification_widget.info:hover,.open>.dropdown-toggle.notification_widget.info{color:#fff;background-color:#31b0d5;border-color:#269abc}.notification_widget.info.active,.notification_widget.info:active,.open>.dropdown-toggle.notification_widget.info{background-image:none}.notification_widget.info.disabled,.notification_widget.info.disabled.active,.notification_widget.info.disabled.focus,.notification_widget.info.disabled:active,.notification_widget.info.disabled:focus,.notification_widget.info.disabled:hover,.notification_widget.info[disabled],.notification_widget.info[disabled].active,.notification_widget.info[disabled].focus,.notification_widget.info[disabled]:active,.notification_widget.info[disabled]:focus,.notification_widget.info[disabled]:hover,fieldset[disabled] .notification_widget.info,fieldset[disabled] .notification_widget.info.active,fieldset[disabled] .notification_widget.info.focus,fieldset[disabled] .notification_widget.info:active,fieldset[disabled] .notification_widget.info:focus,fieldset[disabled] .notification_widget.info:hover{background-color:#5bc0de;border-color:#46b8da}.notification_widget.info .badge{color:#5bc0de;background-color:#fff}.notification_widget.danger{color:#fff;background-color:#d9534f;border-color:#d43f3a}.notification_widget.danger.active,.notification_widget.danger.focus,.notification_widget.danger:active,.notification_widget.danger:focus,.notification_widget.danger:hover,.open>.dropdown-toggle.notification_widget.danger{color:#fff;background-color:#c9302c;border-color:#ac2925}.notification_widget.danger.active,.notification_widget.danger:active,.open>.dropdown-toggle.notification_widget.danger{background-image:none}.notification_widget.danger.disabled,.notification_widget.danger.disabled.active,.notification_widget.danger.disabled.focus,.notification_widget.danger.disabled:active,.notification_widget.danger.disabled:focus,.notification_widget.danger.disabled:hover,.notification_widget.danger[disabled],.notification_widget.danger[disabled].active,.notification_widget.danger[disabled].focus,.notification_widget.danger[disabled]:active,.notification_widget.danger[disabled]:focus,.notification_widget.danger[disabled]:hover,fieldset[disabled] .notification_widget.danger,fieldset[disabled] .notification_widget.danger.active,fieldset[disabled] .notification_widget.danger.focus,fieldset[disabled] .notification_widget.danger:active,fieldset[disabled] .notification_widget.danger:focus,fieldset[disabled] .notification_widget.danger:hover{background-color:#d9534f;border-color:#d43f3a}.notification_widget.danger .badge{color:#d9534f;background-color:#fff}div#pager{background-color:#fff;font-size:14px;line-height:20px;overflow:hidden;display:none;position:fixed;bottom:0;width:100%;max-height:50%;padding-top:8px;-webkit-box-shadow:0 0 12px 1px rgba(87,87,87,.2);box-shadow:0 0 12px 1px rgba(87,87,87,.2);z-index:100;top:auto!important}div#pager pre{line-height:1.21429em;color:#000;background-color:#f7f7f7;padding:.4em}div#pager #pager-button-area{position:absolute;top:8px;right:20px}div#pager #pager-contents{position:relative;overflow:auto;width:100%;height:100%}div#pager #pager-contents #pager-container{position:relative;padding:15px 0;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}div#pager .ui-resizable-handle{top:0;height:8px;background:#f7f7f7;border-top:1px solid #cfcfcf;border-bottom:1px solid #cfcfcf}div#pager .ui-resizable-handle::after{content:'';top:2px;left:50%;height:3px;width:30px;margin-left:-15px;position:absolute;border-top:1px solid #cfcfcf}.quickhelp{display:-webkit-box;-webkit-box-orient:horizontal;display:-moz-box;-moz-box-orient:horizontal;display:box;box-orient:horizontal;box-align:stretch;display:flex;flex-direction:row;align-items:stretch}.shortcut_key{display:inline-block;width:20ex;text-align:right;font-family:monospace}.shortcut_descr{display:inline-block;-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;flex:1}span.save_widget{margin-top:6px}span.save_widget span.filename{height:1em;line-height:1em;padding:3px;margin-left:16px;border:none;font-size:146.5%;border-radius:2px}span.save_widget span.filename:hover{background-color:#e6e6e6}span.autosave_status,span.checkpoint_status{font-size:small}@media (max-width:767px){span.save_widget{font-size:small}span.autosave_status,span.checkpoint_status{display:none}}@media (min-width:768px)and (max-width:991px){span.checkpoint_status{display:none}span.autosave_status{font-size:x-small}}.toolbar{padding:0;margin-left:-5px;margin-top:2px;margin-bottom:5px;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}.toolbar label,.toolbar select{width:auto;vertical-align:middle;margin-bottom:0;display:inline;font-size:92%;margin-left:.3em;margin-right:.3em;padding:3px 0 0}.toolbar .btn{padding:2px 8px}.toolbar .btn-group{margin-top:0;margin-left:5px}#maintoolbar{margin-bottom:-3px;margin-top:-8px;border:0;min-height:27px;margin-left:0;padding-top:11px;padding-bottom:3px}#maintoolbar .navbar-text{float:none;vertical-align:middle;text-align:right;margin-left:5px;margin-right:0;margin-top:0}.select-xs{height:24px}@-moz-keyframes fadeOut{from{opacity:1}to{opacity:0}}@-webkit-keyframes fadeOut{from{opacity:1}to{opacity:0}}@-moz-keyframes fadeIn{from{opacity:0}to{opacity:1}}@-webkit-keyframes fadeIn{from{opacity:0}to{opacity:1}}.bigtooltip{overflow:auto;height:200px;-webkit-transition-property:height;-webkit-transition-duration:500ms;-moz-transition-property:height;-moz-transition-duration:500ms;transition-property:height;transition-duration:500ms}.smalltooltip{-webkit-transition-property:height;-webkit-transition-duration:500ms;-moz-transition-property:height;-moz-transition-duration:500ms;transition-property:height;transition-duration:500ms;text-overflow:ellipsis;overflow:hidden;height:80px}.tooltipbuttons{position:absolute;padding-right:15px;top:0;right:0}.tooltiptext{padding-right:30px}.ipython_tooltip{max-width:700px;animation:fadeOut 400ms;-webkit-animation:fadeIn 400ms;-moz-animation:fadeIn 400ms;animation:fadeIn 400ms;vertical-align:middle;background-color:#f7f7f7;overflow:visible;border:1px solid #ababab;outline:0;padding:3px 3px 3px 7px;padding-left:7px;font-family:monospace;min-height:50px;-moz-box-shadow:0 6px 10px -1px #adadad;-webkit-box-shadow:0 6px 10px -1px #adadad;box-shadow:0 6px 10px -1px #adadad;border-radius:2px;position:absolute;z-index:1000}.ipython_tooltip a{float:right}.ipython_tooltip .tooltiptext pre{border:0;border-radius:0;font-size:100%;background-color:#f7f7f7}.pretooltiparrow{left:0;margin:0;top:-16px;width:40px;height:16px;overflow:hidden;position:absolute}.pretooltiparrow:before{background-color:#f7f7f7;border:1px solid #ababab;z-index:11;content:"";position:absolute;left:15px;top:10px;width:25px;height:25px;-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);-o-transform:rotate(45deg)}.terminal-app{background:#eee}.terminal-app #header{background:#fff;-webkit-box-shadow:0 0 12px 1px rgba(87,87,87,.2);box-shadow:0 0 12px 1px rgba(87,87,87,.2)}.terminal-app .terminal{float:left;font-family:monospace;color:#fff;background:#000;padding:.4em;border-radius:2px;-webkit-box-shadow:0 0 12px 1px rgba(87,87,87,.4);box-shadow:0 0 12px 1px rgba(87,87,87,.4)}.terminal-app .terminal,.terminal-app .terminal dummy-screen{line-height:1em;font-size:14px}.terminal-app .terminal-cursor{color:#000;background:#fff}.terminal-app #terminado-container{margin-top:20px}
/*# sourceMappingURL=style.min.css.map */
    </style>
<style type="text/css">
    .highlight .hll { background-color: #ffffcc }
.highlight  { background: #f8f8f8; }
.highlight .c { color: #408080; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #008000; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #BC7A00 } /* Comment.Preproc */
.highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */
.highlight .cs { color: #408080; font-style: italic } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0044DD } /* Generic.Traceback */
.highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008000 } /* Keyword.Pseudo */
.highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #B00040 } /* Keyword.Type */
.highlight .m { color: #666666 } /* Literal.Number */
.highlight .s { color: #BA2121 } /* Literal.String */
.highlight .na { color: #7D9029 } /* Name.Attribute */
.highlight .nb { color: #008000 } /* Name.Builtin */
.highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.highlight .no { color: #880000 } /* Name.Constant */
.highlight .nd { color: #AA22FF } /* Name.Decorator */
.highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0000FF } /* Name.Function */
.highlight .nl { color: #A0A000 } /* Name.Label */
.highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #19177C } /* Name.Variable */
.highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #666666 } /* Literal.Number.Bin */
.highlight .mf { color: #666666 } /* Literal.Number.Float */
.highlight .mh { color: #666666 } /* Literal.Number.Hex */
.highlight .mi { color: #666666 } /* Literal.Number.Integer */
.highlight .mo { color: #666666 } /* Literal.Number.Oct */
.highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
.highlight .sc { color: #BA2121 } /* Literal.String.Char */
.highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #BA2121 } /* Literal.String.Double */
.highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
.highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.highlight .sx { color: #008000 } /* Literal.String.Other */
.highlight .sr { color: #BB6688 } /* Literal.String.Regex */
.highlight .s1 { color: #BA2121 } /* Literal.String.Single */
.highlight .ss { color: #19177C } /* Literal.String.Symbol */
.highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
.highlight .vc { color: #19177C } /* Name.Variable.Class */
.highlight .vg { color: #19177C } /* Name.Variable.Global */
.highlight .vi { color: #19177C } /* Name.Variable.Instance */
.highlight .il { color: #666666 } /* Literal.Number.Integer.Long */
    </style>


<style type="text/css">
/* Overrides of notebook CSS for static HTML export */
body {
  overflow: visible;
  padding: 8px;
}

div#notebook {
  overflow: visible;
  border-top: none;
}

@media print {
  div.cell {
    display: block;
    page-break-inside: avoid;
  } 
  div.output_wrapper { 
    display: block;
    page-break-inside: avoid; 
  }
  div.output { 
    display: block;
    page-break-inside: avoid; 
  }
}
</style>

<!-- Custom stylesheet, it must be in the same directory as the html file -->
<link rel="stylesheet" href="custom.css">

<!-- Loading mathjax macro -->
<!-- Load mathjax -->
    <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
    <!-- MathJax configuration -->
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
            processEscapes: true,
            processEnvironments: true
        },
        // Center justify equations in code and markdown cells. Elsewhere
        // we use CSS to left justify single line equations in code cells.
        displayAlign: 'center',
        "HTML-CSS": {
            styles: {'.MathJax_Display': {"margin": 0}},
            linebreaks: { automatic: true }
        }
    });
    </script>
    <!-- End of mathjax configuration --></head>
<body>
  <div tabindex="-1" id="notebook" class="border-box-sizing">
    <div class="container" id="notebook-container">

<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div>
<h1>Run the cell below to generate the road map (do not modify it)</h1></div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[18]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="o">%%</span><span class="nx">javascript</span>
<span class="kd">var</span> <span class="nx">kernel</span> <span class="o">=</span> <span class="nx">IPython</span><span class="p">.</span><span class="nx">notebook</span><span class="p">.</span><span class="nx">kernel</span><span class="p">;</span><span class="kd">var</span> <span class="nx">thename</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;notebook_name&quot;</span><span class="p">).</span><span class="nx">innerHTML</span><span class="p">;</span><span class="kd">var</span> <span class="nx">command</span> <span class="o">=</span> <span class="s2">&quot;THE_NOTEBOOK = &quot;</span> <span class="o">+</span> <span class="s2">&quot;&#39;&quot;</span><span class="o">+</span><span class="nx">thename</span><span class="o">+</span><span class="s2">&quot;&#39;&quot;</span><span class="p">;</span><span class="nx">kernel</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="nx">command</span><span class="p">);</span><span class="nx">command</span><span class="o">=</span><span class="s2">&quot;os.environ[&#39;THE_NOTEBOOK&#39;] = THE_NOTEBOOK&quot;</span><span class="p">;</span><span class="nx">kernel</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="nx">command</span><span class="p">);</span><span class="kd">var</span> <span class="nx">cell</span> <span class="o">=</span> <span class="nx">IPython</span><span class="p">.</span><span class="nx">notebook</span><span class="p">.</span><span class="nx">get_cell</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span><span class="nx">cell</span><span class="p">.</span><span class="nx">execute</span><span class="p">();</span><span class="nx">IPython</span><span class="p">.</span><span class="nx">notebook</span><span class="p">.</span><span class="nx">get_cell</span><span class="p">(</span><span class="mi">3</span><span class="p">).</span><span class="nx">focus_cell</span><span class="p">();</span><span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.code_cell&#39;</span><span class="p">);</span><span class="nx">$</span><span class="p">(</span><span class="nx">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]).</span><span class="nx">children</span><span class="p">(</span><span class="s1">&#39;.input&#39;</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>



<div id="e7025b79-d4d9-4217-bfa4-444080f709de"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#e7025b79-d4d9-4217-bfa4-444080f709de');
var kernel = IPython.notebook.kernel;var thename = window.document.getElementById("notebook_name").innerHTML;var command = "THE_NOTEBOOK = " + "'"+thename+"'";kernel.execute(command);command="os.environ['THE_NOTEBOOK'] = THE_NOTEBOOK";kernel.execute(command);var cell = IPython.notebook.get_cell(2);cell.execute();IPython.notebook.get_cell(3).focus_cell();var x = $('.code_cell');$(x[1]).children('.input').hide();
</script>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">outputdir</span> <span class="o">=</span> <span class="s2">&quot;/tmp/tools/&quot;</span>
<span class="o">!</span>mkdir -p $outputdir
<span class="o">!</span>wget <span class="s2">&quot;https://www.dropbox.com/s/4g0pigmro4vo1b4/menutemplate?dl=0&quot;</span> -O /tmp/tools/menutemplate &gt;&gt; /tmp/toollog 2&gt;<span class="p">&amp;</span><span class="m">1</span> 
<span class="o">!</span>wget <span class="s2">&quot;https://www.dropbox.com/s/3flttpzhsja8td7/construct_menu.py?dl=0&quot;</span> -O /tmp/tools/construct_menu.py &gt;&gt; /tmp/toollog 2&gt;<span class="p">&amp;</span><span class="m">1</span> 
<span class="o">!</span>python /tmp/tools/construct_menu.py <span class="s2">&quot;{THE_NOTEBOOK}.ipynb&quot;</span> <span class="o">{</span>outputdir<span class="o">}</span>
<span class="kn">from</span> <span class="nn">IPython.core.display</span> <span class="k">import</span> <span class="n">HTML</span>
<span class="n">output_file_name</span> <span class="o">=</span> <span class="n">outputdir</span> <span class="o">+</span> <span class="n">THE_NOTEBOOK</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;[&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;]&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;.ipynb.html&quot;</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">output_file_name</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
    <span class="n">html</span> <span class="o">=</span> <span class="n">fp</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">HTML</span><span class="p">(</span><span class="n">html</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Building-a-music-recommender-system">Building a music recommender system<a class="anchor-link" href="#Building-a-music-recommender-system">&#182;</a></h1><p>As its name implies, a recommender system is a tool that helps predicting what a user may or may not like among a list of given items. In some sense, you can view this as an alternative to content search, as recommendation engines help users discover products or content that they may not come across otherwise. For example, Facebook suggests friends and pages to users. Youtube recommends videos which users may be interested in. Amazon suggests the products which users may need... Recommendation engines engage users to services, can be seen as a revenue optimization process, and in general help maintaining interest in a service.</p>
<p>In this notebook, we study how to build a simple recommender system: we focus on music recommendations, and we use a simple algorithm to predict which items users might like, that is called ALS, alternating least squares.</p>
<h1 id="Goals">Goals<a class="anchor-link" href="#Goals">&#182;</a></h1><p>In this lecture, we expect students to:</p>
<ul>
<li><p>Revisit (or learn) recommender algorithms</p>
</li>
<li><p>Understand the idea of Matrix Factorization and the ALS algorithm (serial and parallel versions)</p>
</li>
<li><p>Build a simple model for a real usecase : music recommender system</p>
</li>
<li><p>Understand how to validate the results</p>
</li>
</ul>
<h1 id="Steps">Steps<a class="anchor-link" href="#Steps">&#182;</a></h1><p>In particular, we guide students through the following steps, which constitute a good basis for the end-to-end development of a recommender system:</p>
<ul>
<li>Inspect the data using Spark SQL, and build some basic, but very valuable knowledge about the information we have at hand</li>
<li>Formally define what is a sensible algorithm to achieve our goal: given the "history" of user taste for music, recommend new music to discover. Essentialy, we want to build a statistical model of user preferences such that we can use it to "predict" which additional music the user could like</li>
<li>With our formal definition at hand, we will learn different ways to implement such an algorithm. Our goal here is to illustrate what are the difficulties to overcome when implementing a (parallel) algorithm</li>
<li>Finally, we will focus on an existing implementation, available in the Apache Spark MLLib, which we will use out of the box to build a reliable statistical model</li>
</ul>
<p>Now, you may think at this point we will be done!</p>
<p>Well, you'd better think twice: one important topic we will cover in all our Notebooks is <strong>how to validate the results we obtain</strong>, and <strong>how to choose good parameters to train models</strong> especially when using an "opaque" library for doing the job. As a consequence, we will focus on the statistical validation of our recommender system.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="1.-Data">1. Data<a class="anchor-link" href="#1.-Data">&#182;</a></h1><p>Understanding data is one of the most important part when designing any machine learning algorithm. In this notebook, we will use a data set published by Audioscrobbler - a music recommendation system for last.fm. Audioscrobbler is also one of the first internet streaming radio sites, founded in 2002. It provided an open API for scrobbling, or recording listeners plays of artists songs. last.fm used this information to build a powerful music recommender engine.</p>
<h2 id="1.1.-Data-schema">1.1. Data schema<a class="anchor-link" href="#1.1.-Data-schema">&#182;</a></h2><p>Unlike a rating dataset which contains information about users' preference for products (one star, 3 stars, and so on), the datasets from Audioscrobbler only has information about events: specifically, it keeps track of how many times a user played songs of a given artist and the names of artists. That means it carries less information than a rating: in the literature, this is called explicit vs. implicit ratings.</p>
<p>The data we use in this Notebook is available in 3 files:</p>
<ul>
<li><strong><code>user_artist_data.txt</code></strong>: It contains about 141,000 unique users, and 1.6 million unique artists. About 24.2 million users plays of artists are recorded, along with their count. It has 3 columns separated by spaces: </li>
</ul>
<table>
<thead><tr>
<th>UserID</th>
<th>ArtistID</th>
<th>PlayCount</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<ul>
<li><strong><code>artist_data.txt</code></strong> : It prodives the names of each artist by their IDs. It has 2 columns separated by tab characters (<code>\t</code>).</li>
</ul>
<table>
<thead><tr>
<th>ArtistID</th>
<th>Name</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<ul>
<li><strong><code>artist_alias.txt</code></strong>: Note that when plays are scrobbled, the client application submits the name of the artist being played. This name could be misspelled or nonstandard. For example, "The Smiths", "Smiths, The", and "the smiths" may appear as distinct artist IDs in the data set, even though they are plainly the same. <code>artist_alias.txt</code> maps artist IDs that are known misspellings or variants to the canonical ID of that artist. The data in this file has 2 columns separated by tab characters (<code>\t</code>).</li>
</ul>
<p>| MisspelledArtistID | StandardArtistID |
|---|---|</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="1.2.-Understanding-data:-simple-descriptive-statistic">1.2. Understanding data: simple descriptive statistic<a class="anchor-link" href="#1.2.-Understanding-data:-simple-descriptive-statistic">&#182;</a></h2><p>In order to choose or design a suitable algorithm for achieving our goals, given the data we have, we should first understand data characteristics. To start, we import the necessary packages to work with regular expressions, Data Frames, and other nice features of our programming environment.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">random</span>
<span class="kn">from</span> <span class="nn">pyspark</span> <span class="k">import</span> <span class="n">SparkContext</span>
<span class="kn">from</span> <span class="nn">pyspark.sql</span> <span class="k">import</span> <span class="n">SQLContext</span>
<span class="kn">from</span> <span class="nn">pyspark.sql.types</span> <span class="k">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">pyspark.sql</span> <span class="k">import</span> <span class="n">Row</span>
<span class="kn">from</span> <span class="nn">pyspark.sql.functions</span> <span class="k">import</span> <span class="o">*</span>

<span class="o">%</span><span class="k">matplotlib</span> inline
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">time</span> <span class="k">import</span> <span class="n">time</span>

<span class="n">sqlContext</span> <span class="o">=</span> <span class="n">SQLContext</span><span class="p">(</span><span class="n">sc</span><span class="p">)</span>
<span class="n">base</span> <span class="o">=</span> <span class="s2">&quot;/datasets/lastfm/&quot;</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="https://farm2.staticflickr.com/1604/24934700445_833f0a5649_t.jpg" alt=""></p>
<div style='border-radius: 15px; background: rgb(224,239,130);padding:10px;'/>

<h3 id="Question-1">Question 1<a class="anchor-link" href="#Question-1">&#182;</a></h3><h4 id="Question-1.0-(Non-grading)">Question 1.0 (Non-grading)<a class="anchor-link" href="#Question-1.0-(Non-grading)">&#182;</a></h4><p>Using SPARK SQL, load data from <code>/datasets/lastfm/user_artist_data.txt</code> and show the first 20 entries (via function <code>show()</code>).</p>
<p>For this Notebook, from a programming point of view, we are given the schema for the data we use, which is as follows:</p>

<pre><code>userID: long int
artistID: long int
playCount: int</code></pre>
<p>Each line of the dataset contains the above three fields, separated by a "white space".</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">userArtistDataSchema</span> <span class="o">=</span> <span class="n">StructType</span><span class="p">([</span> \
    <span class="n">StructField</span><span class="p">(</span><span class="s2">&quot;userID&quot;</span><span class="p">,</span> <span class="n">LongType</span><span class="p">(),</span> <span class="kc">True</span><span class="p">),</span> \
    <span class="n">StructField</span><span class="p">(</span><span class="s2">&quot;artistID&quot;</span><span class="p">,</span> <span class="n">LongType</span><span class="p">(),</span> <span class="kc">True</span><span class="p">),</span> \
    <span class="n">StructField</span><span class="p">(</span><span class="s2">&quot;playCount&quot;</span><span class="p">,</span> <span class="n">IntegerType</span><span class="p">(),</span> <span class="kc">True</span><span class="p">)])</span>

<span class="n">userArtistDF</span> <span class="o">=</span> <span class="n">sqlContext</span><span class="o">.</span><span class="n">read</span> \
    <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;com.databricks.spark.csv&#39;</span><span class="p">)</span> \
    <span class="o">.</span><span class="n">options</span><span class="p">(</span><span class="n">header</span><span class="o">=</span><span class="s1">&#39;false&#39;</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39; &#39;</span><span class="p">)</span> \
    <span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">base</span> <span class="o">+</span> <span class="s2">&quot;user_artist_data.txt&quot;</span><span class="p">,</span> <span class="n">schema</span> <span class="o">=</span> <span class="n">userArtistDataSchema</span><span class="p">)</span> \
    <span class="o">.</span><span class="n">cache</span><span class="p">()</span>

<span class="c1"># we can cache an Dataframe to avoid computing it from the beginning everytime it is accessed.</span>
<span class="n">userArtistDF</span><span class="o">.</span><span class="n">cache</span><span class="p">()</span>

<span class="n">userArtistDF</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>+-------+--------+---------+
| userID|artistID|playCount|
+-------+--------+---------+
|1000002|       1|       55|
|1000002| 1000006|       33|
|1000002| 1000007|        8|
|1000002| 1000009|      144|
|1000002| 1000010|      314|
|1000002| 1000013|        8|
|1000002| 1000014|       42|
|1000002| 1000017|       69|
|1000002| 1000024|      329|
|1000002| 1000025|        1|
|1000002| 1000028|       17|
|1000002| 1000031|       47|
|1000002| 1000033|       15|
|1000002| 1000042|        1|
|1000002| 1000045|        1|
|1000002| 1000054|        2|
|1000002| 1000055|       25|
|1000002| 1000056|        4|
|1000002| 1000059|        2|
|1000002| 1000062|       71|
+-------+--------+---------+
only showing top 20 rows

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><div style='border-radius: 15px; background: rgb(224,239,130);padding:10px;'/></p>
<h4 id="Question-1.1:">Question 1.1:<a class="anchor-link" href="#Question-1.1:">&#182;</a></h4><p>How many distinct users in data ?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span class="n">uniqueUsers</span> <span class="o">=</span> <span class="n">userArtistDF</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="o">...</span><span class="p">)</span><span class="o">...</span>
<span class="k">print</span><span class="p">(</span><span class="s2">&quot;Total n. of users: &quot;</span><span class="p">,</span> <span class="n">uniqueUsers</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">uniqueUsers</span> <span class="o">=</span> <span class="n">userArtistDF</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">&quot;userID&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">distinct</span><span class="p">()</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Total n. of users: &quot;</span><span class="p">,</span> <span class="n">uniqueUsers</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Total n. of users:  148111
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><div style='border-radius: 15px; background: rgb(224,239,130);padding:10px;'/></p>
<h4 id="Question-1.2">Question 1.2<a class="anchor-link" href="#Question-1.2">&#182;</a></h4><p>How many distinct artists in data ?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span class="n">uniqueArtists</span> <span class="o">=</span> <span class="n">userArtistDF</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="o">...</span><span class="p">)</span><span class="o">...</span>
<span class="k">print</span><span class="p">(</span><span class="s2">&quot;Total n. of artists: &quot;</span><span class="p">,</span> <span class="n">uniqueArtists</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">uniqueArtists</span> <span class="o">=</span> <span class="n">userArtistDF</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">&quot;artistID&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">distinct</span><span class="p">()</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Total n. of artists: &quot;</span><span class="p">,</span> <span class="n">uniqueArtists</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Total n. of artists:  1631028
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><div style='border-radius: 15px; background: rgb(224,239,130);padding:10px;'/></p>
<h4 id="Question-1.3">Question 1.3<a class="anchor-link" href="#Question-1.3">&#182;</a></h4><p>One limitation of Spark MLlib's ALS implementation - which we will use later- is that it requires IDs for users and items to be nonnegative 32-bit integers. This means that IDs larger than Integer.MAX_VALUE, or 2147483647, can't be used. So we need to check whether this data set conforms to the strict requirements of our library.</p>
<p>What are the maximum and minimum values of column <code>userID</code> ?</p>
<p>HINT: Read section 4.3 of Lecture 2 again.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span class="n">userArtistDF</span><span class="o">....</span><span class="n">show</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[26]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">userArtistDF</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>+-------+------------------+------------------+-----------------+
|summary|            userID|          artistID|        playCount|
+-------+------------------+------------------+-----------------+
|  count|          24296858|          24296858|         24296858|
|   mean|1947573.2653533637|1718704.0937568964|15.29576248089362|
| stddev|496000.54498064483| 2539389.040173263|75.22856494275999|
|    min|                90|                 1|                1|
|    max|           2443548|          10794401|           439771|
+-------+------------------+------------------+-----------------+

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Answer:">Answer:<a class="anchor-link" href="#Answer:">&#182;</a></h3><p>We see here that the greatest userID in our dataframe is 2,443,548. And it's not bigger than Integer.MAX_VALUE so we don't need to do any changes to our dataframe before using it with the Spark MLlibs's ALS library.</p>
<h6 id="min|----------------90|">min|                90|<a class="anchor-link" href="#min|----------------90|">&#182;</a></h6><h6 id="max|-----------2443548|">max|           2443548|<a class="anchor-link" href="#max|-----------2443548|">&#182;</a></h6>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><div style='border-radius: 15px; background: rgb(224,239,130);padding:10px;'/></p>
<h4 id="Question-1.4">Question 1.4<a class="anchor-link" href="#Question-1.4">&#182;</a></h4><p>What is the maximum and minimum values of column <code>artistID</code> ?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span class="n">userArtistDF</span><span class="o">...</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[27]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">userArtistDF</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>+-------+------------------+------------------+-----------------+
|summary|            userID|          artistID|        playCount|
+-------+------------------+------------------+-----------------+
|  count|          24296858|          24296858|         24296858|
|   mean|1947573.2653533637|1718704.0937568964|15.29576248089362|
| stddev|496000.54498064483| 2539389.040173263|75.22856494275999|
|    min|                90|                 1|                1|
|    max|           2443548|          10794401|           439771|
+-------+------------------+------------------+-----------------+

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Answer-:">Answer :<a class="anchor-link" href="#Answer-:">&#182;</a></h3><h6 id="min|---------------------1|">min|                     1|<a class="anchor-link" href="#min|---------------------1|">&#182;</a></h6><h6 id="max|------10794401|">max|      10794401|<a class="anchor-link" href="#max|------10794401|">&#182;</a></h6>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We just discovered that we have a total of 148,111 users in our dataset. Similarly, we have a total of 1,631,028 artists in our dataset. The maximum values of <code>userID</code> and <code>artistID</code> are still smaller than the biggest number of integer type.  No additional transformation will be necessary to use these IDs.</p>
<p>One thing we can see here is that SPARK SQL provides us many very concise and powerful tools to do data analytics (comparing to using RDD and their low-level API). You can see more examples <a href="https://databricks.com/blog/2015/06/02/statistical-and-mathematical-functions-with-dataframes-in-spark.html">here</a>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Next, we might want to understand better user activity and artist popularity.</p>
<p>Here is a list of simple descriptive queries that helps us reaching these purposes:</p>
<ul>
<li>How many times each user has played a song? This is a good indicator of who are the most active users of our service. Note that a very active user with many play counts does not necessarily mean that the user is also "curious"! Indeed, she could have played the same song several times.</li>
<li>How many play counts for each artist? This is a good indicator of the artist popularity. Since we do not have time information associated to our data, we can only build a, e.g., top-10 ranking of the most popular artists in the dataset. Later in the notebook, we will learn that our dataset has a very "loose" definition about artists: very often artist IDs point to song titles as well. This means we have to be careful when establishing popular artists. Indeed, artists whose data is "well formed" will have the correct number of play counts associated to them. Instead, artists that appear mixed with song titles may see their play counts "diluted" across their songs.</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="https://farm2.staticflickr.com/1604/24934700445_833f0a5649_t.jpg" alt=""></p>
<p><div style='border-radius: 15px; background: rgb(224,239,130);padding:10px;'/></p>
<h3 id="Question-2">Question 2<a class="anchor-link" href="#Question-2">&#182;</a></h3><h4 id="Question-2.1">Question 2.1<a class="anchor-link" href="#Question-2.1">&#182;</a></h4><p>How many times each user has played a song? Show 5 samples of the result.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span class="c1"># Compute user activity</span>
<span class="c1"># We are interested in how many playcounts each user has scored.</span>
<span class="n">userActivity</span> <span class="o">=</span> <span class="n">userArtistDF</span><span class="o">.</span><span class="n">groupBy</span><span class="p">(</span><span class="o">...</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="o">...</span><span class="p">)</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">userActivity</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">5</span><span class="p">])</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="c1"># Compute user activity</span>
<span class="c1"># We are interested in how many playcounts each user has scored.</span>
<span class="n">userActivity</span> <span class="o">=</span> <span class="n">userArtistDF</span><span class="o">.</span><span class="n">groupBy</span><span class="p">(</span><span class="s2">&quot;userID&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="s2">&quot;playCount&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>
<span class="n">userActivity</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">5</span><span class="p">]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[5]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>[Row(userID=2038831, sum(playCount)=591),
 Row(userID=2039231, sum(playCount)=12124),
 Row(userID=2040031, sum(playCount)=829),
 Row(userID=2040431, sum(playCount)=5526),
 Row(userID=2042431, sum(playCount)=331)]</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><div style='border-radius: 15px; background: rgb(224,239,130);padding:10px;'/></p>
<h4 id="Question-2.2">Question 2.2<a class="anchor-link" href="#Question-2.2">&#182;</a></h4><p>Plot CDF (or ECDF) of number of play counts per User ID.</p>
<p>Explain and comment the figure you just created:</p>
<ul>
<li>for example, look at important percentiles (25%, median, 75%, tails such as &gt;90%) and cross check with what you have found above to figure out if the result is plausible.</li>
<li>discuss about your users, with respect to the application domain we target in the notebook: you will notice that for some users, there is very little interaction with the system, which means that maybe reccommending something to them is going to be more difficult than for other users who interact more with the system.</li>
<li>look at outliers and reason about their impact on your reccommender algorithm</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span class="n">pdf</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">userActivity</span><span class="p">)</span>
<span class="n">Y</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span> <span class="n">pdf</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">)</span>
<span class="n">yvals</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Y</span><span class="p">))</span><span class="o">/</span><span class="nb">float</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Y</span><span class="p">))</span>

<span class="k">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Y</span><span class="p">)))</span>

<span class="n">plt</span><span class="o">....</span><span class="p">(</span> <span class="n">Y</span><span class="p">,</span> <span class="n">yvals</span> <span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Play Counts&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;ECDF&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span><span class="n">which</span><span class="o">=</span><span class="s2">&quot;both&quot;</span><span class="p">,</span><span class="n">ls</span><span class="o">=</span><span class="s2">&quot;-&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;ECDF of number of play counts per User ID&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[29]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">pdf</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">userActivity</span><span class="p">)</span>
<span class="n">Y</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span> <span class="n">pdf</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">)</span>
<span class="n">yvals</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Y</span><span class="p">))</span><span class="o">/</span><span class="nb">float</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Y</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Y</span><span class="p">)))</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span> <span class="n">Y</span><span class="p">,</span> <span class="n">yvals</span> <span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Play Counts&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10000</span><span class="p">)</span>   <span class="c1"># We shrink the window </span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;ECDF&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span><span class="n">which</span><span class="o">=</span><span class="s2">&quot;both&quot;</span><span class="p">,</span><span class="n">ls</span><span class="o">=</span><span class="s2">&quot;-&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;ECDF of number of play counts per User ID&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>[     0      1      2 ..., 148108 148109 148110]
</pre>
</div>
</div>

<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAY0AAAEZCAYAAABrUHmEAAAABHNCSVQICAgIfAhkiAAAAAlwSFlz
AAALEgAACxIB0t1+/AAAIABJREFUeJzt3Xe4VNW5x/HvTwRsFBEroseCNXbFhgGjN2JFE0uMyaNG
jSUavUlsublCqjGJiVHvNZqosWviNZZEMTaIDRUUwS7iERDpCihYgPf+sfZhxslpwJmzz8z8Ps8z
z5ldZu931pnZ76y19l5bEYGZmVlrrJR3AGZmVjmcNMzMrNWcNMzMrNWcNMzMrNWcNMzMrNWcNMzM
rNWcNGqIpC0ljZU0T9KZOccyQtJJOe17VUn3SfpA0h3L8fp6SfuVIzazjs5JYwVlB5AFkuYXPS4v
Wr6+pGslTc0O1q9KGiZptWz5EkkfZq+bJelhSUeX7GOEpIUl+9h9OcI9D3gkIrpHxJUr9s5XWGSP
PBwJrAP0iohjluP1ecbeprLP36Z5x1FK0iBJkxuZ3y4/NrLv9Zey5ydIWlz03Zso6TpJ/codR0fk
pLHiAjgkIroVPb4LIKkX8DTQFdgjIroD/wH0AIq/qNtHRDdgC+DPwJWSLirZx3dK9vHMcsS6MfDK
cryuw1JmGV+2MfBGRCwpR0wVaFnLr213Lq28DKu3acJu5vNTuo8ns+9od2B/YCEwRtK2bRVLpXDS
KK/vAXMj4hsRMQkgIqZExH9GxEulK0fEnIi4GTgduFDSmsu6Q0mHSXpZ0vuSHpO0VTb/UWAQKSHN
k7R5I68dIeknkp7I1nlQ0lrZsn/75Vfya2yYpL9Kuil77ThJ/SRdKGm6pEmS/qNkl5tLekbSXEl3
F79fSXtIeip7H2MlDSyJ82eSngQ+AjZp5L1sna33vqSXJB2azf8x8N/AMdmvxhMbee0wSXdKuj17
L2Mkbd9EefeX9HS2n6mSrpDUOVv2P5J+U7L+vZLOaWJb20p6SNJsSdMkXZjN7yrpMknvZo/fSeqS
LTtB0uMl21lae5D05yyOv2fvZVTRsn9lL3kxK4ujJPXO1n0/i+NfTSXlbD9nSXpL0kxJvypeV9K3
JL0iaY6k4ZI2KnntGZLeBF5vbPstycp+dPb5mSbp0qJlK/T5aWx3AJFMjIjvACOBYcsTe0WLCD9W
4AG8DezXxLJRwNAWXr8E2LRkXmfgM+CAbPox4KRWxLIF8CGwH9AJOBd4E1i5aDvfaub1I7L1NwdW
yda/OFs2CJjcyHv/UvZ8GOnX139k+74BmAhcmE2fDEws2dcUYBtgNeBO4KZsWR9gFjA4m94/m16r
6LX1wNakHz4rN1J+E4ALgJWBfYF5wBbZ8qHAjc2UwzDgU+ArWezfz95Lp0be985A/yyOhprc2dmy
3YB3AWXTvUkHqbUb2Wc34D3gP4EuwBpA/2zZT4Cnstf3Bp4EfpItOwF4vKnPFKnmOgvYNXsvNwO3
NfX5Ay4GrsrW7QTs3cJn9xGgJ9CXdPA/KVs2hPRZ2jIrm/8i/Vovfu2D2Wu7NrLtQZR83ko/w6Ra
/HHZ89WA3dvi89PI//jfyjibfyIwrT2PNx3h4ZrGihNwd/aLpuHR0Obai3QgWCYR8RnpQ96raB+X
F21/dBMvPQb4e0Q8EhGLgd8AqwJ7lcTb5K6B6yNiQkR8DPwF2HEZQv9XRDyU7ftOYG3gl9n0HUCd
pO5F+7oxIl6JiAWkX/9HS1oJ+AZwf0QMz8rjYWA0cHDRa/8cEa9GxJKIWFQSxx7A6hHxy4hYFBGP
AX8Hji0qg5aaZEZHxF1Z7L8lJdE9SleKiOcj4tksjneAa4CB2bLngLmkJA7wNeCxiJjZyP4OAaZG
xO8i4tOI+DAins2WfZ2UJGZFxCzgx8A3W4h/aYjAXRExOnsvt9D8//RTYH2gLiIWR8STLWz/koj4
ICImA5dRKOPTSD84Xo/UDHgxsKOkvkWvvTh77SetfC+NxdpPUu+IWBCFJtsV/fy01nsUvqM1w0lj
xQUwJCLWLHpcmy2bDWywrBvMmjfWBuYU7eOsou3v2sRL1wcmLQ0s/RyaTPrlVRxvc6YVPV9I+sXb
WjNKXjsri6FhmpLtFTd3TSLVEHqTfrEfVZyIgb2B9Zp4bakNGln+Dp8vh5ZMaXiSvYcpNPK/lLRF
1pzznqS5wM+BtYpWuYF0ECP7e1MT++tLqs00ZoMs/gaTGoulGdOLnrf0P/01qZb2z6zZ6fwWtl36
P2yIa2Pg90X/v9nZ/D5NvLbUItLnoVRDLRzgJFLt+lVJz0pqSAor+vlprT4UvqM1w0mjvB4Gjmiq
TbgZQ0hfmmdbWrHEVNIXBkidfKSD0bvLuJ3GfERqAmjYdidSYlsRG5U8/wyYSTr43FSSiLtFxK+K
1m8u+U0F+paU+8YUJYJWWPqLOKv9bJhtt9RVpCapzSOiB6kZpvh7dQswRNIOwFbA3U3sbxKfPzmi
2FSgrmh6o6JYSv8vxQfGZZbVcH4QEZsBhwHfU9Zv1YTS/2HDZ20S8O2S/+HqETGqeHfNbHcS0FvS
6g0zsv/nxmQJNKsRfz0i1gYuAe5UOitxRT8/rXUE8K8W16oyThpto6mk8FvS2RY3NHQCSuoj6VJJ
Xyh9vaReko4DriQ167zfin0U+wtwsKQvZbWV7wMfk9rDW7udppa/Aawi6aBs2z8inRW2vAR8Q6nD
ejVSu/1fs1/1NwOHSvqypE6SVlHqiO9T8vqmjAIWAOdJ6ixpEKn55/ZliG8XSUcondlzDqkcRzWy
3hrAfGCB0kkHpxcvjIgpwHPAjcCdzTTF/B1YX9LZWcd3N0n9s2W3AT/KOql7AxdRqLG8CGwraQdJ
q/DvHbMt/b+nA5stXVk6WNLm2QF6HrA4ezTlB5J6Zs1O3yU1QwL8AfihpG2y7faQdFQLsSwV6cSR
Z4BLJK0uqSupj+5Tsv+DpG9IavjhMpeUCBaz4p+fJmXb20TSFcAXSU2FNcVJo23cp89fQ/F/ANlB
fy/SL+hnJM0j1T4+IDUBNHhR0nxSx+G3gHMiYljJPlr8ZRQRb5CaQK4g/WI/GDi0pM22pe1EyfPI
tj0XOAP4E+kX+4d8vorf2KmQzU0H6UD6Z1LbcBfSQafhQDsE+CGpyWsSKQGqiW19fiepT+hQ4EBS
OVwJfDMrn6ZiLY3zHlIf0RzgOOArWZ9AqR+Q+hzmkfozbm9k2zcA29F00xQR8SHpJIJDSeXxBqkz
GOBnpDb5cdljdDav4X/+E9Ln6nXgcZr4H5bMazCM9KPm/eyg3g94iJQInwL+JyJGNhU3qZzGAC+Q
Et91WVx3k3793541240HDmgihqYcQ7qeZgLpM7cvcHBEfJotPwB4Kfvu/A74WkR8sqKfn0YEsGe2
n7mkzvg1gN0i4uVl2E5VaDirozwbl64jHbhmRMR2TaxzOenLvQA4ISJeKFtAZq0gaSipuam1nc0t
be+LpOaSjVtcuYJIWkIqp6b6YqwKlbumcT0wuKmFkg4ifej6Ad8mtQ+b5a3NLnbLmvLOBv7YVts0
y1NZk0ZEPA6838wqh5Gq7mSny/WUtG45YzJrhTa56ljS1qTP/7qk01GrTVUMpWLLZlku3y+HPny+
XXwK6SyV6Y2vblZ+EdEmnZsR8SrLdspyRYmITnnHYO2vI3SElzYF+NeLmVkHlXdN412Kzocn1TL+
7ZoCSU4kZmbLISLadEDKvJPGvcCZpNPy9gA+iIhGm6bKeZZXJRk0aBAjRozIO4wOwWVR4LIocFkU
LPt1xS0ra9KQdBtpHJ7eSiOkDiUbGiAiro6I+7OLxSaQrmz9txFHzcys4yhr0oiIY1uxTq53kDMz
s9brCB3htgzq6uryDqHDcFkUuCwKXBbl5aRRYfyFKHBZFLgsClwW5eWkYWZmreakYWZmreakYWZm
reakYWZmrZb3xX1mZrYcIuDDD+H999Njzpz094MPYP58mDevPPt10jAzy8nixTB3buExZw7Mnp0e
c+YUHg3JoOExb156dO0Ka66ZHr16pb89ekD37tCtW3lidtIwM2sDn32WDvazZsHMmYW/M2cW5s+a
VUgCc+akBACw0UbpYL/WWunRq1f6u+66sNVWabpnz8KjITF07tx8TL/4Rdu/TycNM7MSCxbAjBmF
g/7MmYVaQPGBv+ExezZ89FHhYL/OOtC7N6y9dnpsvjnsvnshITTUCnr2hE4VNsC8k4aZVb2FC2Hq
1PSYNg2mT08H/4YkUFwTmJzd4adv388f/BtqAdtv//kDf0PTUM+esFINnFrkpGFmFWnx4lQbmD49
Pd57LyWF+++Hl18uJIgZM+DTT2GDDdJjvfVSs8/aa0O/frDHHikZrL12ShC9e8Nqq0EZBoitCk4a
ZtbhzJ2bfvFPmZIeDbWEhulp01LtYM01UxJYZ52UENZfP/3qP+qoNH/99dOy7t2dBNqKk4aZtasF
C6C+Pj0akkDpY8mS1DzUty9suCH06QPbbQeDB6dO4/XXTzWDlRs5gg0bBkcf3c5vqoY4aZhZm1my
JNUC3nmnUFN4+22YNCk1H02enDqON94Y6uoKSWGvvQrJYcMNU/+AawYdk5OGmbXaxx+nGsLEiYWk
MGlSev7uuylZ9OyZagMbbZQSwGabwb77poSwwQbpby10GFcrJw0zWyoi9R1MmABvvZVqCQ1/J05M
fQ19+8Kmm6ak0KcPDBxYeL7xxqkT2aqXk4ZZjYlIZxRNmJASwZtvwmuvpeQwYQKsumq6rmCzzVJy
GDw4/d1009S57FpCbXPSMKtSH3+cEsLLL8Prr6ek8Npr6XmXLoVEsPnmcPjhhUSx1lp5R24dmZOG
WQVbsiT1K0ycCFdckRLCG2+kx7RpsMkmsM02sPXWMGgQnHZaYVgKs+XhpGFWASJSTWHcuJQQXn4Z
XnopPe/RI9UcVl8dttwSDjoIttgi9S+0NDaR2bJy0jDrYObPT0lh/HgYOxZefDEliO7dYYcdUk1h
333hrLNSDaJbt3RtwrBheUdutcBJwywnDWcqPf98IUGMHZtOXd1qq3Qx2w47wJFHpue9e+cdsZmT
hlm7WLQoNSW98EKqOYwfD6NHpwvYdtopDYJ32GFw0UUpYTR2pbNZR+CPplkZvPcePPMMPP44jByZ
mps23DAliB12gNNPh112Sdc2mFUSJw2zFTRrVmpiGjMm/X3mmXRvhf79YcAAuOwy2HlnX/Rm1cFJ
w2wZLFqUmpdGjYKnn4annkpJY+edYddd4Ygj4OKL0/UOHjvJqpGThlkzFi6E556DJ56Axx5LiaKu
DvbcM1338F//lU5z9VXSViucNMyKLFiQ+iEeeigliBdfTBfHDRgAZ54Jf/1rGpDPrFY5aVhNW7gw
JYfHH4d//jOd8rrTTnDAAfDTn8Juu6XrIMwscdKwmrJ4cTrt9eGHU23i2WfhC1+AL34Rhg5NNQp3
WJs1zUnDqt7UqSlJPPAAPPhguuvb/vvDOeekZNGjR94RmlUOJw2rOgsXwqOPwj33pM7rOXNSp/Xg
wXDppelGQGa2fJw0rCpMmwb33gv/+AeMGJEuoBsyJHVef+ELPrvJrK04aVjF+uADuPxyuPPONCzH
4MFw9NFw3XW+J4RZuThpWMVYvDhdbT18eKpRvPZaShLnnZf6KFZZJe8IzapfWSvtkgZLek3Sm5LO
b2R5D0n3SRor6SVJJ5QzHqs8EelspwsuSPeHOO00+OST1Dfx/e/D9dfDIYc4YZi1l7LVNCR1Aq4E
9gfeBZ6TdG9EvFq02neAlyLiUEm9gdcl3RwRi8oVl3V8EalGcdddqelJSsODP/ggbLttYb0RI3IL
0axmlbN5qj8wISLqASTdDgwBipPGEqB79rw7MNsJozZFpKHCb7oJ7r47XStx5JEpceywg8dxMuso
ypk0+gCTi6anALuXrHMlcJ+kqUA34OgyxmMd0FtvpdrErbfChx/CCSfA/fenM57MrONRRJRnw9JX
gcERcUo2/Q1g94g4q2idI4E9I+L7kjYDHgJ2iIj5JduKgQMHLp2uq6ujrq6uLHF3dCNGjGDQoEF5
h7FCPv0UXnkl9VXMmpVuWbrttmkgwGWpUVRDWbQVl0VBLZdFfX099fX1S6dHjhxJRLRtPT0iyvIA
9gCGF01fCJxfss7fgb2Lph8Bdm1kW2HJ0KFD8w5huT3/fMTJJ0f06BFxyCERd94Z8ckny7+9Si6L
tuayKHBZFGTHzjY9tpezeWo00E9SHTAVOAY4tmSdSaSO8iclrQtsCUwsY0zWzubNgzvugD/+EaZP
h5NPhtdfh3XXzTsyM1seZUsaEbFI0pnAg0An4NqIeFXSqdnyq4GfAn+WNA4QcF5EzClXTNY+IuDJ
J+Gaa+C++2DffdO9rw88EDp1yjs6M1sRZb24LyIeAB4omXd10fP3gAPKGYO1nzlz4JZb4OqrU7/F
aafBb34D66yTd2Rm1lZ8RbitsBdeSInijjvSfSiuuCINEOjTZM2qj5OGLZfFi9P1FL//PdTXw0kn
pWE93FdhVt2cNGyZLFgAN96YhvHo1Qu+9z34ylegc+e8IzOz9uCkYa0yeTJcdhnccAPstVcaSXbA
ADdBmdUa32XAmvXee+meFDvumKZHj073rdhnHycMs1rkpGGNevddOPts2GYb6NIlXcF96aXpqm0z
q11OGvY59fVw+umw3XbpmorXXoPf/tYd3GaWOGkYkO6Cd+65sMsusOaaThZm1jgnjRr3ySfplqlb
bgnvv59um/qLX/iCPDNrnM+eqlFLlqSL8S68MPVbPPKIhyM3s5Y5adSgcePg1FNh0aJ0u9R99807
IjOrFG6eqiGzZ8MZZ8D++8Pxx6dbqjphmNmycNKoAUuWwLXXpmaolVZKndynnZaem5ktCzdPVbmn
n061iy5dYPhw2GmnvCMys0rmpFGl5sxJp9A+8EAanvzYY30Ft5mtODdQVJkIuO22dHHeaqulpqiv
f90Jw8zahmsaVWTSpNRXMXVqOp12wIC8IzKzauOaRhVYsiRdoLfzzrDnnvDss04YZlYermlUuDff
hBNPTInjySfTld1mZuXimkYFu+22dG+LY46BJ55wwjCz8nNNowLNn59Oo33uOXjwwdQsZWbWHlzT
qDBTpsD220PXrjBmjBOGmbUv1zQqRES63uK22+CWW+Dww/OOyMxqkZNGBZg9O3V2z5gBp5zihGFm
+XHzVAc3cmRqgurXD/71L+jZM++IzKyWuabRQUXA734Hv/pVGmzw4IPzjsjMzEmjQ1qwAL71rXQN
xqhRUFeXd0RmZombpzqY+nrYZx/o1CldrOeEYWYdiZNGBzJqVBoG5Otfh5tvhlVWyTsiM7PPc/NU
B3HvvXDSSen2q4ccknc0ZmaNc9LoAP73f+FnP4N//AP69887GjOzpjlp5GjJErjoIrj99jR21Kab
5h2RmVnznDRysmABHHcczJqVOrzXXTfviMzMWuaO8BzMn5/6LVZZBR55xAnDzCqHk0Y7a0gYdXXp
DKkuXfKOyMys9cqaNCQNlvSapDclnd/EOoMkvSDpJUkjyhlP3mbNgv32S/e9+OMf07UYZmaVpGx9
GpI6AVcC+wPvAs9JujciXi1apyfwP8ABETFFUu9yxZO3qVPhwAPhy19OQ4NIeUdkZrbsylnT6A9M
iIj6iPgMuB0YUrLO14H/i4gpABExq4zx5GbyZBg4EI46ygnDzCpbOZNGH2By0fSUbF6xfkAvSY9J
Gi3pm2WMJxdvv50Sxre/DT/6kROGmVW2cp5yG61YpzOwM7AfsBrwtKRREfFmGeNqN5MmwaBBcN55
8J3v5B2NmdmKU0Rrju3LsWFpD2BYRAzOpi8ElkTEJUXrnA+sGhHDsuk/AcMj4s6SbcXAgQOXTtfV
1VHXwUfymzcvDQnSv38aT6qtjBgxgkGDBrXdBiuYy6LAZVFQy2VRX19PfX390umRI0cSEW3bvhER
ZXmQajFvAXVAF2AssHXJOlsBDwOdSDWN8cA2jWwrKsncuRHbbhvxq1+1/baHDh3a9hutUC6LApdF
gcuiIDt2tumxvWzNUxGxSNKZwINZUrg2Il6VdGq2/OqIeE3ScGAcsAT4Y0S8Uq6Y2sOnn8KRR8KA
AXDuuXlHY2bWtso6jEhEPAA8UDLv6pLp3wC/KWcc7SUidXh36QJXXpl3NGZmbc9jT7Whn/0Mxo9P
9/Je2SVrZlXIh7Y2ctttcN118NRTsPrqeUdjZlYeThpt4IUX4Kyz0uCD66+fdzRmZuXjAQtX0PTp
MGQIXHUV7LBD3tGYmZWXk8YKWLgQvvpVOP74NESImVm1c9JYTkuWpJso9e0LP/5x3tGYmbWPJvs0
JHWONNCgNeLii2HmTHjoIVjJqdfMakRzh7tnGp5IuqIdYqkYjzwCl18Ot96a7r5nZlYrmksaxeOV
DCh3IJVi8uTULHX77alpysyslrhhZRl89hl87Wtw9tmw7755R2Nm1v6au05jK0njs+ebFT2HNAjW
9mWMq0O64AJYc004v9Eb15qZVb/mksbW7RZFBbjnHvjrX9OFfO74NrNa1WTSiIh6WHof737Z7Dci
Ym47xNWhzJwJp52WksZaa+UdjZlZfpo75bYrcDVwOPA2qWO8TtLfgFMj4tP2CTFfESlhHHdcGu7c
zKyWNdfQ8iPS7Vj7RsROEbEj0JeUaP67PYLrCG64Ad54I41ga2ZW65pLGl8Bvh0R8xtmZM9Pz5ZV
vXfeSTdSuvlmX49hZgbNJ43FEfFR6cyI+JB0l72qd8YZ8N3veiBCM7MGzQ6NLqlXY7OBKE84Hcdf
/gJvvw1/+1vekZiZdRzNJY3uwJj2CqQj+eADOOecdLZUly55R2Nm1nE0d8ptXTvG0aFccAEceijs
vXfekZiZdSzNnXI7GOgWEX8tmX8kMDciHip3cHkYMwbuvhtefTXvSMzMOp7mOsIvAkY2Mn8k8NPy
hJOvxYvhzDPh5z9Pw4WYmdnnNZc0ukbEjNKZETETWL18IeXnuuvSECEnnph3JGZmHVNzHeHdGrsR
k6TOQNVdtTB3Llx0Edx7r8eWMjNrSnOHx7uAaySt0TBDUjfS0CJ3lTuw9jZ0KBx4IOy2W96RmJl1
XM3VNP6b1HdRL2lSNm8j4FrSECNV45VX4JZb0l8zM2tac6fcfgZcIOknwObZ7AkRsaBdImtH552X
TrNde+28IzEz69iabJ6SdB5AliS2jIhxDQlD0i/aKb6ye/TRVMM488y8IzEz6/ia69M4tuj5D0uW
HViGWNrdokXpyu9LLoGuXfOOxsys46vp84RuvRV69IAjj8w7EjOzytDsgIXV7JNP0hlT118PUt7R
mJlVhuaSxvaSGu6lsWrRc4BVyxhTu7jmGthmGxg0KO9IzMwqR3NnT3Vqz0Da04cfpjvxDR+edyRm
ZpWlJvs0/vAHGDgQdtop70jMzCpLzfVpfPwx/Pa38MADeUdiZlZ5aq6m8ec/w847+xauZmbLo6xJ
Q9JgSa9JelPS+c2st5ukRZK+Us54Fi2CSy+Fc88t517MzKpX2ZKGpE7AlcBgYBvgWElbN7HeJcBw
0v3Hy+buu6F3b/jiF8u5FzOz6lXOmkZ/0lhV9dk4VrcDQxpZ7yzgTmBmGWMhAn79a/jBD3xdhpnZ
8ipn0ugDTC6anpLNW0pSH1IiuSqbFeUK5vHH4YMP4PDDy7UHM7PqV86k0ZoEcBlwQUQEqWmqbHWA
3/8+DUrYqWqvPjEzKz+l43UZNiztAQyLiMHZ9IXAkoi4pGidiRQSRW9gAXBKRNxbsq0YOHDg0um6
ujrq6upaHcu8eXDVVWlwwkofmHDEiBEM8mXsgMuimMuioJbLor6+nvr6+qXTI0eOJCLa9sd4RJTl
QboG5C2gDugCjAW2bmb964GvNLEsVsQPfxhxxhkrtIkOY+jQoXmH0GG4LApcFgUui4Ls2Nmmx/ay
XdwXEYsknQk8CHQCro2IVyWdmi2/ulz7LrZwIVx9NTzzTHvszcysupX1ivCIeAB4oGReo8kiIk4s
Rwx/+1saLmSzzcqxdTOz2lL1V4Rfcw2cckreUZiZVYeqThqvvAKvv+7TbM3M2kpVJ40//QlOOAG6
dMk7EjOz6lC1o9wuWgS33JIu6jMzs7ZRtTWN4cNhk01giy3yjsTMrHpUbdK48UY4/vi8ozAzqy5V
mTTmz081jaOPzjsSM7PqUpVJ4557YMAAWGutvCMxM6suVZk0broJvvnNvKMwM6s+VZc0ZsyAUaPg
sMPyjsTMrPpUXdK48044+GBYffW8IzEzqz5VmTSOPDLvKMzMqlNVJY0ZM2DMGBg8OO9IzMyqU1Ul
jbvuSk1Tq62WdyRmZtWpqpLG3XfDkCF5R2FmVr2qJmnMmwdPPQUHHph3JGZm1atqksY//gF77w3d
u+cdiZlZ9aqapHHPPXDEEXlHYWZW3aoiaSxaBP/8Z+oENzOz8qmKpDFqFGy0EfTpk3ckZmbVrSqS
xgMPwEEH5R2FmVn1q4qkMXw4HHBA3lGYmVW/ik8aM2bAW2/BXnvlHYmZWfWr+KQxYgTssw907px3
JGZm1a/ik8bDD8N+++UdhZlZbaiKpLH//nlHYWZWGyo6adTXw0cfwbbb5h2JmVltqOikMWIEDBoE
Ut6RmJnVhopOGiNHpqRhZmbto6KTxhNPwIABeUdhZlY7KjZpvPcezJ7t/gwzs/ZUsUnjiSfSUOgr
Vew7MDOrPBV7yH36aV8FbmbW3io2aTzzDOy+e95RmJnVlopMGp99BmPHwm675R2JmVltqcikMX48
1NVBt255R2JmVlvKnjQkDZb0mqQ3JZ3fyPLjJL0oaZykJyVt39I23TRlZpaPsiYNSZ2AK4HBwDbA
sZK2LlltIvDFiNge+ClwTUvbHTMGdt21raM1M7OWlLum0R+YEBH1EfEZcDswpHiFiHg6IuZmk88A
G7a00dGjYZdd2jxWMzNrQbmTRh9gctH0lGxeU04C7m9ugx9/DG+8ATvs0AbRmZnZMlm5zNuP1q4o
aV/gW8DejS0flA0yNW8edO1axy9/WdcG4VWeESNGMGzYsLzD6BBcFgUui4JaLov6+nrq6+vLu5OI
KNsD2AM20TUJAAAJtUlEQVQYXjR9IXB+I+ttD0wANm9iO9Hg6qsjjj8+atbQoUPzDqHDcFkUuCwK
XBYF2bGzTY/r5W6eGg30k1QnqQtwDHBv8QqSNgLuAr4RERNa2uDYsbDjjmWJ1czMWlDWpBERi4Az
gQeBV4A7IuJVSadKOjVb7SJgTeAqSS9Iera5bY4fD9u3eFKumZmVQ7n7NIiIB4AHSuZdXfT8ZODk
1m0Lxo1z0jAzy0tFXRE+eTKsthr07p13JGZmtamiksa4cbDddnlHYWZWuyouafj6DDOz/FRU0nj5
Zd+pz8wsTxWVNF55xUnDzCxPFZM0lixJw4dsuWXekZiZ1a6KSRrvvgvdu6eHmZnlo2KSxptvQr9+
eUdhZlbbKiZpvP02bLpp3lGYmdW2ikkaEyc6aZiZ5a1iksbbb8Mmm+QdhZlZbauYpFFfDxtvnHcU
Zma1rWKSxqRJsNFGeUdhZlbbKiZpTJ8OG7Z493AzMyunikka66wDK5d9IHczM2tOxSQN1zLMzPJX
MUljgw3yjsDMzComaay3Xt4RmJlZxSQN1zTMzPJXMUlj3XXzjsDMzComafi+4GZm+auYpLHOOnlH
YGZmFZM0evXKOwIzM6uYpLH22nlHYGZmFZM0fMc+M7P8VUzS6No17wjMzKxikoaZmeXPScPMzFrN
ScPMzFrNScPMzFrNScPMzFrNScPMzFrNScPMzFrNScPMzFrNScPMzFqtrElD0mBJr0l6U9L5Taxz
ebb8RUk7lTMeMzNbMWVLGpI6AVcCg4FtgGMlbV2yzkHA5hHRD/g2cFW54qkW9fX1eYfQYbgsClwW
BS6L8ipnTaM/MCEi6iPiM+B2YEjJOocBNwBExDNAT0m+R18z/IUocFkUuCwKXBblVc6k0QeYXDQ9
JZvX0jobljEmMzNbAeVMGtHK9bScrzMzs3a2chm3/S7Qt2i6L6km0dw6G2bz/o1Umltql8uiwGVR
4LIocFmUTzmTxmign6Q6YCpwDHBsyTr3AmcCt0vaA/ggIqaXbigi/AkwM+sAypY0ImKRpDOBB4FO
wLUR8aqkU7PlV0fE/ZIOkjQB+Ag4sVzxmJnZilOEuxDMzKx1OvQV4a25OLDSSeor6TFJL0t6SdJ3
s/m9JD0k6Q1J/5TUs+g1F2Zl8pqkLxfN30XS+GzZ7/N4P21BUidJL0i6L5uuybKQ1FPSnZJelfSK
pN1ruCz+M/t+jJd0q6SutVIWkq6TNF3S+KJ5bfbes7K8I5s/StLGzQYUER3yQWrSmgDUAZ2BscDW
ecdVhve5HrBj9nwN4HVga+BXwHnZ/POBX2bPt8nKonNWNhMo1BifBfpnz+8HBuf9/pazTL4H3ALc
m03XZFmQrmH6VvZ8ZaBHLZYF6dT8iUDXbPoO4PhaKQtgH2AnYHzRvDZ778AZwP9mz48Bbm8uno5c
02jNxYEVLyKmRcTY7PmHwKukL8nSCx+zv4dnz4cAt0XEZxFRT/pQ7C5pfaBbRDybrXdj0WsqhqQN
gYOAP1E4HbvmykJSD2CfiLgOUh9hRMylBssiszKwmqSVgdVIJ9fURFlExOPA+yWz2/K9F2/r/4D9
mounIyeN1lwcWFWyM812Ap4B1o3CmWTTgYYr5Tfg86cuN5RL6fx3qczy+h1wLrCkaF4tlsUmwExJ
10t6XtIfJa1ODZZFRLwLXApMIiWLDyLiIWqwLIq05XtfeqyNiEXAXEm9mtpxR04aNdVDL2kNUpY/
OyLmFy+LVG+s+vKQdAgwIyJe4N8v+gRqpyxIv6x3JjUb7Ew6u/CC4hVqpSwkrUn6NVxHOvitIekb
xevUSlk0pr3fe0dOGq25OLAqSOpMShg3RcTd2ezpktbLlq8PzMjmN3ZB5JRs/oYl8xu9ULID2ws4
TNLbwG3AlyTdRG2WxRRgSkQ8l03fSUoi02qwLPYH3o6I2dkv4buAPanNsmjQFt+JKUWv2Sjb1spA
j4iY09SOO3LSWHpxoKQupA6ae3OOqc1JEnAt8EpEXFa06F5SZx/Z37uL5n9NUhdJmwD9gGcjYhow
LzvDRsA3i15TESLihxHRNyI2Ab4GPBoR36Q2y2IaMFnSFtms/YGXgfuosbIA3gH2kLRq9h72B16h
NsuiQVt8J+5pZFtHAo80u+e8zwxo4ayBA0lnE00ALsw7njK9xwGk9vuxwAvZYzDQC3gYeAP4J9Cz
6DU/zMrkNeCAovm7AOOzZZfn/d5WsFwGUjh7qibLAtgBeA54kfTrukcNl8Uw0kki40mdtp1rpSxI
te6pwKekvocT2/K9A12BvwBvAqOAuubi8cV9ZmbWah25ecrMzDoYJw0zM2s1Jw0zM2s1Jw0zM2s1
Jw0zM2s1Jw0zM2s1Jw2rKpIWKw2rPl7SXyStms3/sI22v56k2yVNkDRa0j8k9WuLbRftY6CkPdty
m2ZtxUnDqs2CiNgpIrYjXQx1WjZ/hS9Iyq6k/RvpSvXNI2JX4EIKg8W1lX1JQ6qYdThOGlbNngA2
K54haQ1JD0saI2mcpMOy+T+WdHbRej9XdkOsIvsCn0bENQ0zImJcRDyRvebXWQ1nnKSjs3mDlN1M
Kpu+UtLx2fN6ScOKYtkyG+n4VOA/sxrTAElHZdsdK2lkG5aP2TIr2z3CzfKUDbx2IOlmM8UWAkdE
xHxJvYGnSWPvXEcaquP3klYijXW2W8lrvwCMaWJ/XyUN+7E9sDbwnKR/NbJq8YikAcyMiF0knQ78
ICJOkfQHYH5E/Dbb9jjgyxHxnqTurS8Fs7bnmoZVm1UlvUAas6meNBhksZWAiyW9CDwEbCBpnYh4
B5gtaUfgy8DzEVF645vmmrj2Bm6NZAYwkpR0WmoWuyv7+zxp6O8GxUPDPwncIOlk/EPPcuYPoFWb
hRGxUzPLjwN6AztHxOJsGPZVsmV/Ig0Gty6p5lHqZdIooE0pvQdIAIv4/I+zVUvW+ST7u5gmvo8R
cbqk/sDBwBhJu0QzQ1eblZNrGlZrupNu9LRY0r7AxkXL/kYaYXhX4MHSF0bEo0BXSac0zJO0vaQB
wOPAMZJWkrQ28EXSPZknAdtkQ1X3BL7UihjnA92K9rFZRDwbEUOBmXz+vghm7co1Das2TTUHNcy/
Bbgv6ycYTRpuO60Q8ZmkR4H3o+nhn48ALpN0PvAx8DZwTkQ8kZ0m+2K2r3OzZiok/QV4KVv3+Wbi
a9jnfcCdWSf9d0md4v1INZmHI2JcsyVgVkYeGt0sk3WAjwGOjIi38o7HrCNy85QZIGkb0k1oHnbC
MGuaaxpmZtZqrmmYmVmrOWmYmVmrOWmYmVmrOWmYmVmrOWmYmVmrOWmYmVmr/T/SmejjpDgiEgAA
AABJRU5ErkJggg==
"
>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Answer-:">Answer :<a class="anchor-link" href="#Answer-:">&#182;</a></h3><p>Important percentiles : 25% has less than 200 play counts, which is quite low. Half of the users has still less than a thousand play counts. 75% has less than 3000. 10% has more than 7000 play counts. The more a user has play counts the better we can guess his taste and provide relevant recommendations, a user who has a lot of play counts give more hints on his taste that the users that have only some hundreds of play counts or less. The latests are outliers, the recommendations will be less reliable on them. But if we try to make recommandations to users who have a lots of playcounts, will the outliers make our model worst? We haven't figured this out yet.
Even if we consider that an outlier is a user who has less than 4 play counts, there represents only 3 percents of the total dataset.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[34]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="c1"># Additional relevant code</span>
<span class="n">percentiles</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.03</span><span class="p">,</span> <span class="mf">0.10</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.50</span><span class="p">,</span> <span class="mf">0.75</span><span class="p">,</span> <span class="mf">0.90</span><span class="p">]</span>
<span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">percentiles</span><span class="p">:</span>
    <span class="n">i</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">yvals</span><span class="o">&lt;=</span><span class="n">p</span><span class="p">)[</span><span class="mi">0</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>    
    <span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">p</span><span class="o">*</span><span class="mi">100</span><span class="p">),</span><span class="s2">&quot;percent of the users has less than: &quot;</span><span class="p">,</span><span class="n">Y</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="s2">&quot; play counts&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>3.0 percent of the users has less than:  4  play counts
10.0 percent of the users has less than:  34  play counts
25.0 percent of the users has less than:  204  play counts
50.0 percent of the users has less than:  892  play counts
75.0 percent of the users has less than:  2800  play counts
90.0 percent of the users has less than:  6484  play counts
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><div style='border-radius: 15px; background: rgb(224,239,130);padding:10px;'/></p>
<h4 id="Question-2.3">Question 2.3<a class="anchor-link" href="#Question-2.3">&#182;</a></h4><p>How many play counts for each artist? Plot CDF or ECDF of the result.</p>
<p>Similarly to the previous question, you need to comment and interpret your result: what is the figure telling you?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span class="c1"># Compute artist popularity</span>
<span class="c1"># We are interested in how many playcounts per artist</span>
<span class="c1"># ATTENTION! Grouping by artistID may be problematic, as stated above.</span>

<span class="n">artistPopularity</span> <span class="o">=</span> <span class="n">userArtistDF</span><span class="o">.</span> <span class="o">...</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[6]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="c1"># Compute artist popularity</span>
<span class="c1"># We are interested in how many playcounts per artist</span>
<span class="c1"># ATTENTION! Grouping by artistID may be problematic, as stated above.</span>

<span class="n">artistPopularity</span> <span class="o">=</span> <span class="n">userArtistDF</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;artistID&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="s2">&quot;playCount&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span class="n">pdf</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">artistPopularity</span><span class="p">)</span>
<span class="o">...</span>
<span class="o">...</span>
<span class="o">...</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[36]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">pdf</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">artistPopularity</span><span class="p">)</span>
<span class="n">Y</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span> <span class="n">pdf</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">)</span>
<span class="n">yvals</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Y</span><span class="p">))</span><span class="o">/</span><span class="nb">float</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Y</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Y</span><span class="p">)))</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span> <span class="n">Y</span><span class="p">,</span> <span class="n">yvals</span> <span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Play Counts&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;ECDF&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span><span class="n">which</span><span class="o">=</span><span class="s2">&quot;both&quot;</span><span class="p">,</span><span class="n">ls</span><span class="o">=</span><span class="s2">&quot;-&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;ECDF of number of play counts per Artist ID&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>[      0       1       2 ..., 1631025 1631026 1631027]
</pre>
</div>
</div>

<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
g4iIpCg5iIhIipKDiIikKDmIiEiKkoOIiKQoOYiISIqSg4iIpCg5iIhIipKDiIikKDmIiEiKkoOI
iKQoOYiISErmycHMJpjZi2Y228zOa2f6yWb2jJk9a2YPm9meWcckIiLlZZoczKwvcDkwARgDnGhm
o4tmewX4Z3ffE/gP4LdZxiQiIh3L+shhf2COuze7+xpgCnB04Qzu/nd3fycZfBTYIeOYRESkA1kn
hxHAvILh+cm4Ur4M3JFpRCIi0iFz9+xWbnYcMMHdv5oMnwIc4O5ntTPvIcAVwEHuvrRomo8bN44V
K2DWLDjuuCaampoyi7uWTZs2jfHjx1c7jJqgsshTWeTVc1k0NzfT3Ny8fnj69Om4u3VqZe6e2QsY
C9xVMHw+cF478+0JzAFGlliPu7vPmOG+775e1yZOnFjtEGqGyiJPZZGnsshL6s5O1d9ZNys9Dowy
syYz6w+cAEwtnMHMdgJuBk5x9zkZxyMiIhVoyHLl7r7WzM4E7gb6ApPdfaaZnZFMvxK4ANgS+LWZ
Aaxx9/2zjEtERMrLNDkAuPudwJ1F464seP8V4CtZxyEiIpXTFdIiIpKi5CAiIilKDiIikqLkICIi
KUoOIiKSouQgIiIpSg4iIpKi5CAiIilKDiIikqLkICIiKUoOIiKSouQgIiIpSg4iIpKi5CAiIilK
DiIikqLkICIiKUoOIiKSouQgIiIpSg4iIpKi5CAiIilKDiIikqLkICIiKUoOIiKSouQgIiIpSg4i
IpKi5CAiIilKDiIikqLkICIiKUoOIiKSouQgIiIpSg4iIpKi5CAiIilKDiIikqLkICIiKUoOIiKS
kmlyMLMJZvaimc02s/NKzHNpMv0ZM9s7y3hERKQymSUHM+sLXA5MAMYAJ5rZ6KJ5jgBGuvso4HTg
11nF01s0NzdXO4SaobLIU1nkqSy6RpZHDvsDc9y92d3XAFOAo4vmOQq4BsDdHwW2MLNtMoypx9MX
P09lkaeyyFNZdI0sk8MIYF7B8PxkXEfz7JBhTCIiUoEsk4NXOJ91cjkREclIQ4brXgDsWDC8I3Fk
UG6eHZJxKWZW8L5rAuyprN4LoIDKIk9lkaey2HRZJofHgVFm1gQsBE4ATiyaZypwJjDFzMYCy9x9
UfGK3F3/aRGRbpRZcnD3tWZ2JnA30BeY7O4zzeyMZPqV7n6HmR1hZnOAd4EvZhWPiIhUztzVxC8i
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
"
>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Answer-:">Answer :<a class="anchor-link" href="#Answer-:">&#182;</a></h3><p>The vast majority of the artists has less than a hundred play counts.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[37]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="c1"># Additional relevant code</span>
<span class="n">percentiles</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.50</span><span class="p">,</span> <span class="mf">0.75</span><span class="p">,</span> <span class="mf">0.90</span><span class="p">,</span> <span class="mf">0.95</span><span class="p">,</span> <span class="mf">0.99</span><span class="p">]</span>
<span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">percentiles</span><span class="p">:</span>
    <span class="n">i</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">yvals</span><span class="o">&lt;=</span><span class="n">p</span><span class="p">)[</span><span class="mi">0</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>    
    <span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">p</span><span class="o">*</span><span class="mi">100</span><span class="p">),</span><span class="s2">&quot;percent of the artists has less than: &quot;</span><span class="p">,</span><span class="n">Y</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="s2">&quot; play counts&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>25.0 percent of the artists has less than:  1  play counts
50.0 percent of the artists has less than:  3  play counts
75.0 percent of the artists has less than:  11  play counts
90.0 percent of the artists has less than:  45  play counts
95.0 percent of the artists has less than:  126  play counts
99.0 percent of the artists has less than:  1402  play counts
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[28]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="c1"># Additional relevant code</span>
<span class="n">artistPopularityCounts</span> <span class="o">=</span> <span class="n">userArtistDF</span><span class="o">.</span><span class="n">groupBy</span><span class="p">(</span><span class="s2">&quot;artistID&quot;</span><span class="p">)</span><span class="o">.</span>\
                    <span class="nb">sum</span><span class="p">(</span><span class="s2">&quot;playCount&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">orderBy</span><span class="p">(</span><span class="s2">&quot;sum(playCount)&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">r</span><span class="p">:</span><span class="n">r</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">artistPopularityCounts</span><span class="p">)):</span>
    <span class="n">artistPopularityCounts</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+=</span> <span class="n">artistPopularityCounts</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">artistPopularityCountsReversed</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">reversed</span><span class="p">(</span><span class="n">artistPopularityCounts</span><span class="p">))</span>

<span class="n">pdf</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">artistPopularityCountsReversed</span><span class="p">)</span>
<span class="n">Y</span><span class="o">=</span><span class="n">pdf</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">yvals</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Y</span><span class="p">))</span><span class="o">/</span><span class="nb">float</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Y</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">Y</span><span class="p">)))</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">Y</span><span class="p">,</span> <span class="n">yvals</span> <span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Number of aggregated play counts&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;ECDF&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span><span class="n">which</span><span class="o">=</span><span class="s2">&quot;both&quot;</span><span class="p">,</span><span class="n">ls</span><span class="o">=</span><span class="s2">&quot;-&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;ECDF of number of artists per aggregated play counts&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>[      0       1       2 ..., 1631025 1631026 1631027]
</pre>
</div>
</div>

<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
QmCC
"
>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[29]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="c1"># Additional relevant code</span>
<span class="c1"># We keep in mind that many artistID are mispelled</span>
<span class="n">pdf</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">artistPopularityCounts</span><span class="p">)</span>
<span class="n">Y</span><span class="o">=</span><span class="n">pdf</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">playCountsTotal</span> <span class="o">=</span> <span class="n">userArtistDF</span><span class="o">.</span><span class="n">groupBy</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="s2">&quot;playCount&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">collect</span><span class="p">()[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Total n. of play counts: &quot;</span><span class="p">,</span> <span class="s2">&quot;{:,}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">playCountsTotal</span><span class="p">))</span>
      
<span class="n">percentiles</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.50</span><span class="p">,</span> <span class="mf">0.750</span><span class="p">,</span> <span class="mf">0.900</span><span class="p">,</span> <span class="mf">0.950</span><span class="p">,</span> <span class="mf">0.990</span><span class="p">]</span>
<span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">percentiles</span><span class="p">:</span>
    <span class="n">i</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">yvals</span><span class="o">&lt;=</span><span class="n">p</span><span class="p">)[</span><span class="mi">0</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">p</span><span class="o">*</span><span class="mi">100</span><span class="p">),</span><span class="s2">&quot;percent of the artists account for: &quot;</span><span class="p">,</span><span class="s2">&quot;{:,}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">Y</span><span class="p">[</span><span class="n">i</span><span class="p">]),</span><span class="s2">&quot; play counts&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--&gt;The top &quot;</span><span class="p">,</span><span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">((</span><span class="mi">1</span><span class="o">-</span><span class="n">p</span><span class="p">)</span><span class="o">*</span><span class="mi">100</span><span class="p">)),</span><span class="s2">&quot;percent of the artists account for: &quot;</span><span class="p">,</span><span class="s2">&quot;{:,}&quot;</span><span class="o">.</span>\
          <span class="nb">format</span><span class="p">(</span><span class="n">playCountsTotal</span><span class="o">-</span><span class="n">Y</span><span class="p">[</span><span class="n">i</span><span class="p">]),</span><span class="s2">&quot; play counts&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--&gt;The top &quot;</span><span class="p">,</span><span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">((</span><span class="mi">1</span><span class="o">-</span><span class="n">p</span><span class="p">)</span><span class="o">*</span><span class="mi">100</span><span class="p">)),</span><span class="s2">&quot;percent of the artists account for: &quot;</span><span class="p">,</span> \
          <span class="p">(</span><span class="n">playCountsTotal</span><span class="o">-</span><span class="n">Y</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">/</span><span class="n">playCountsTotal</span><span class="o">*</span><span class="mi">100</span><span class="p">,</span><span class="s2">&quot; percent of the play counts&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Total n. of play counts:  371,638,969
25.0 percent of the artists account for:  407,758  play counts
--&gt;The top  75 percent of the artists account for:  371,231,211  play counts
--&gt;The top  75 percent of the artists account for:  99.8902811508  percent of the play counts

50.0 percent of the artists account for:  1,166,159  play counts
--&gt;The top  50 percent of the artists account for:  370,472,810  play counts
--&gt;The top  50 percent of the artists account for:  99.6862118622  percent of the play counts

75.0 percent of the artists account for:  3,450,638  play counts
--&gt;The top  25 percent of the artists account for:  368,188,331  play counts
--&gt;The top  25 percent of the artists account for:  99.0715080258  percent of the play counts

90.0 percent of the artists account for:  8,730,792  play counts
--&gt;The top  9 percent of the artists account for:  362,908,177  play counts
--&gt;The top  9 percent of the artists account for:  97.6507329079  percent of the play counts

95.0 percent of the artists account for:  14,778,268  play counts
--&gt;The top  5 percent of the artists account for:  356,860,701  play counts
--&gt;The top  5 percent of the artists account for:  96.0234880535  percent of the play counts

99.0 percent of the artists account for:  40,033,517  play counts
--&gt;The top  1 percent of the artists account for:  331,605,452  play counts
--&gt;The top  1 percent of the artists account for:  89.2278473628  percent of the play counts

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Answer:">Answer:<a class="anchor-link" href="#Answer:">&#182;</a></h3><p>The repartition of play counts is extremely heterogeneous among the artists. 1 percent of them have nearly 90% of all play counts.
This means that a very few artists accounts for a majority of the activity of this radio. In the other hand, we notice that 50 % of all artists have only 3 play counts each. We can guess that those artists are either really not famous and/or their names are not standard.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><div style='border-radius: 15px; background: rgb(224,239,130);padding:10px;'/></p>
<h4 id="Question-2.4">Question 2.4<a class="anchor-link" href="#Question-2.4">&#182;</a></h4><p>Plot a bar chart to show top 5 artists In terms of absolute play counts.</p>
<p>Comment the figure you just obtained:</p>
<ul>
<li>are these reasonable results?</li>
<li>is looking at top-5 artists enough to learn more about your data?</li>
<li>do you see anything strange in the data?</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span class="n">sortedArtist</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">artistPopularity</span><span class="p">,</span> <span class="n">key</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="o">-</span><span class="n">x</span><span class="p">[</span><span class="o">...</span><span class="p">])[:</span> <span class="o">...</span><span class="p">]</span>

<span class="n">artistID</span> <span class="o">=</span> <span class="p">[</span><span class="n">w</span><span class="p">[</span><span class="o">...</span><span class="p">]</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">sortedArtist</span><span class="p">]</span>

<span class="n">y_pos</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">sortedArtist</span><span class="p">))</span>
<span class="n">frequency</span> <span class="o">=</span> <span class="p">[</span><span class="n">w</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">sortedArtist</span><span class="p">]</span>

<span class="n">plt</span><span class="o">.</span><span class="n">barh</span><span class="p">(</span><span class="n">y_pos</span><span class="p">,</span> <span class="n">frequency</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">align</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.4</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">y_pos</span><span class="p">,</span> <span class="n">artistID</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Play Count&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Artist&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Top-10 Artist ID per play counts&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[34]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">sortedArtist</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">artistPopularity</span><span class="p">,</span> <span class="n">key</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="o">-</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">])[:</span> <span class="mi">10</span><span class="p">]</span>

<span class="n">artistID</span> <span class="o">=</span> <span class="p">[</span><span class="n">w</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">sortedArtist</span><span class="p">]</span>

<span class="n">y_pos</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">sortedArtist</span><span class="p">))</span>
<span class="n">frequency</span> <span class="o">=</span> <span class="p">[</span><span class="n">w</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">sortedArtist</span><span class="p">]</span>

<span class="n">plt</span><span class="o">.</span><span class="n">barh</span><span class="p">(</span><span class="n">y_pos</span><span class="p">,</span> <span class="n">frequency</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">align</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.4</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">y_pos</span><span class="p">,</span> <span class="n">artistID</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Play Count&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Artist&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Top-10 Artist ID per play counts&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
AAAASUVORK5CYII=
"
>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Answer-:">Answer :<a class="anchor-link" href="#Answer-:">&#182;</a></h3><p>This is quite reasonable. Looking at the top 5 gives interesting information, we have the artist that has the most play counts and the play counts associated, and we see that the "most listened" artist is not quite an outlier compared to the other of the top 5. As we have seen with the precedent questions, those artists are not representative at all of the whole dataset. We so not see anything strange about this.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[41]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="c1"># Additional relevant code</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Total n. of users: &quot;</span><span class="p">,</span> <span class="n">uniqueUsers</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Total n. of artists: &quot;</span><span class="p">,</span> <span class="n">uniqueArtists</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Total play counts: &quot;</span><span class="p">,</span> <span class="s2">&quot;{:,}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">playCountsTotal</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Mean play counts per user: &quot;</span><span class="p">,</span> <span class="n">playCountsTotal</span><span class="o">/</span><span class="n">uniqueUsers</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Mean play counts per artist: &quot;</span><span class="p">,</span> <span class="n">playCountsTotal</span><span class="o">/</span><span class="n">uniqueArtists</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Total n. of users:  148111
Total n. of artists:  1631028
Total play counts:  371,638,969
Mean play counts per user:  2509.1922206993404
Mean play counts per artist:  227.85566464830768
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>All seems clear right now, but ... wait a second! What about the problems indicated above about artist "disambiguation"? Are these artist ID we are using referring to unique artists? How can we make sure that such "opaque" identifiers point to different bands? Let's try to use some additional dataset to answer this question:  <code>artist_data.txt</code> dataset. This time, the schema of the dataset consists in:</p>

<pre><code>artist ID: long int
name: string</code></pre>
<p>We will try to find whether a single singer has two different IDs.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="https://farm2.staticflickr.com/1604/24934700445_833f0a5649_t.jpg" alt=""></p>
<p><div style='border-radius: 15px; background: rgb(224,239,130);padding:10px;'/></p>
<h3 id="Question-3">Question 3<a class="anchor-link" href="#Question-3">&#182;</a></h3><h4 id="Question-3.1">Question 3.1<a class="anchor-link" href="#Question-3.1">&#182;</a></h4><p>Loading the data from <code>/datasets/lastfm/artist_data.txt</code> by using SparkSQL API and show 5 samples.</p>
<p>HINT: If you encounter some error when parsing lines in data because of invalid entries, parameter <code>mode='DROPMALFORMED'</code> will help you to eliminate these entries. The suggested syntax is: <code>&lt;df&gt;.options(header='false', delimiter='\t', mode='DROPMALFORMED')</code>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span class="n">customSchemaArtist</span> <span class="o">=</span> <span class="n">StructType</span><span class="p">([</span> \
    <span class="n">StructField</span><span class="p">(</span><span class="s2">&quot;artistID&quot;</span><span class="p">,</span> <span class="n">LongType</span><span class="p">(),</span> <span class="bp">True</span><span class="p">),</span> \
    <span class="n">StructField</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="n">StringType</span><span class="p">(),</span> <span class="bp">True</span><span class="p">)])</span>

<span class="n">artistDF</span> <span class="o">=</span> <span class="n">sqlContext</span><span class="o">.</span><span class="n">read</span> \
    <span class="o">...</span>
    <span class="o">...</span>
    <span class="o">...</span>

<span class="n">artistDF</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[11]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">customSchemaArtist</span> <span class="o">=</span> <span class="n">StructType</span><span class="p">([</span> \
    <span class="n">StructField</span><span class="p">(</span><span class="s2">&quot;artistID&quot;</span><span class="p">,</span> <span class="n">LongType</span><span class="p">(),</span> <span class="kc">True</span><span class="p">),</span> \
    <span class="n">StructField</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="n">StringType</span><span class="p">(),</span> <span class="kc">True</span><span class="p">)])</span>

<span class="n">artistDF</span> <span class="o">=</span> <span class="n">sqlContext</span><span class="o">.</span><span class="n">read</span> \
    <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;com.databricks.spark.csv&#39;</span><span class="p">)</span> \
    <span class="o">.</span><span class="n">options</span><span class="p">(</span><span class="n">header</span><span class="o">=</span><span class="s1">&#39;false&#39;</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;DROPMALFORMED&#39;</span><span class="p">)</span> \
    <span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">base</span> <span class="o">+</span> <span class="s2">&quot;artist_data.txt&quot;</span><span class="p">,</span> <span class="n">schema</span> <span class="o">=</span> <span class="n">customSchemaArtist</span><span class="p">)</span> \
    <span class="o">.</span><span class="n">cache</span><span class="p">()</span>
    
<span class="n">artistDF</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>+--------+--------------------+
|artistID|                name|
+--------+--------------------+
| 1134999|        06Crazy Life|
| 6821360|        Pang Nakarin|
|10113088|Terfel, Bartoli- ...|
|10151459| The Flaming Sidebur|
| 6826647|   Bodenstandig 3000|
+--------+--------------------+
only showing top 5 rows

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><div style='border-radius: 15px; background: rgb(224,239,130);padding:10px;'/></p>
<h4 id="Question-3.2">Question 3.2<a class="anchor-link" href="#Question-3.2">&#182;</a></h4><p>Find 20 artists whose name contains "Aerosmith" inside. Take a look on artists that have ID equal to <code>1000010</code> and <code>2082323</code>. In your opinion, are they the same ?</p>
<p>HINT: Function <code>locate(sub_string, string)</code> can be useful in this case.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span class="c1"># get artists whose name contains &quot;Aerosmith&quot;</span>
<span class="n">artistDF</span><span class="p">[</span><span class="n">locate</span><span class="p">(</span><span class="s2">&quot;Aerosmith&quot;</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>

<span class="c1"># show two examples</span>
<span class="n">artistDF</span><span class="p">[</span><span class="n">artistDF</span><span class="o">.</span><span class="n">artistID</span><span class="o">==</span><span class="mi">1000010</span><span class="p">]</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">artistDF</span><span class="p">[</span><span class="n">artistDF</span><span class="o">.</span><span class="n">artistID</span><span class="o">==</span><span class="mi">2082323</span><span class="p">]</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[44]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="c1"># get artists whose name contains &quot;Aerosmith&quot;</span>
<span class="n">artistDF</span><span class="p">[</span><span class="n">locate</span><span class="p">(</span><span class="s2">&quot;Aerosmith&quot;</span><span class="p">,</span> <span class="n">artistDF</span><span class="o">.</span><span class="n">name</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># show two examples</span>
<span class="n">artistDF</span><span class="p">[</span><span class="n">artistDF</span><span class="o">.</span><span class="n">artistID</span><span class="o">==</span><span class="mi">1000010</span><span class="p">]</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">artistDF</span><span class="p">[</span><span class="n">artistDF</span><span class="o">.</span><span class="n">artistID</span><span class="o">==</span><span class="mi">2082323</span><span class="p">]</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>+--------+----------------------------------------------+
|artistID|name                                          |
+--------+----------------------------------------------+
|10586006|Dusty Springfield/Aerosmith                   |
|6946007 |Aerosmith/RunDMC                              |
|10475683|Aerosmith: Just Push Play                     |
|1083031 |Aerosmith/ G n R                              |
|6872848 |Britney, Nsync, Nelly, Aerosmith,Mary J Blige.|
|10586963|Green Day - Oasis - Eminem - Aerosmith        |
|10028830|The Aerosmith Antology2                       |
|10300357|Run-DMC + Aerosmith                           |
|2027746 |Aerosmith by MusicInter.com                   |
|1140418 |[rap]Run DMC and Aerosmith                    |
|10237208|Aerosmith + Run DMC                           |
|10588537|Aerosmith, Kid Rock, &amp; Run DMC                |
|9934757 |Aerosmith - Big Ones                          |
|10437510|Green Day ft. Oasis &amp; Aerosmith               |
|6936680 |RUN DNC &amp; Aerosmith                           |
|10479781|Aerosmith Hits                                |
|10114147|Charlies Angels - Aerosmith                   |
|1262439 |Kid Rock, Run DMC &amp; Aerosmith                 |
|7032554 |Aerosmith &amp; Run-D.M.C.                        |
|10033592|Aerosmith?                                    |
+--------+----------------------------------------------+
only showing top 20 rows

+--------+---------+
|artistID|     name|
+--------+---------+
| 1000010|Aerosmith|
+--------+---------+

+--------+------------+
|artistID|        name|
+--------+------------+
| 2082323|01 Aerosmith|
+--------+------------+

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Answer:">Answer:<a class="anchor-link" href="#Answer:">&#182;</a></h3><p>Artists 100010 and 2082323 are obviously the same. Id 2082323 should point to the Id 1000010 which seem the most correct way to designate this artist.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[45]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="c1"># Additional infos, see who are the top-10 artist names</span>
<span class="n">artistNames</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">artistID</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">([</span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">sortedArtist</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">]]):</span>
    <span class="n">artistNames</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">artistDF</span><span class="p">[</span><span class="n">artistDF</span><span class="o">.</span><span class="n">artistID</span><span class="o">==</span><span class="n">artistID</span><span class="p">]</span><span class="o">.</span><span class="n">collect</span><span class="p">()[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Artist rank &quot;</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot; :&quot;</span><span class="p">,</span> <span class="n">artistNames</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
<span class="n">sortedArtist</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">artistPopularity</span><span class="p">,</span> <span class="n">key</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="o">-</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">])[:</span> <span class="mi">10</span><span class="p">]</span>

<span class="n">artistID</span> <span class="o">=</span> <span class="p">[</span><span class="n">w</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">sortedArtist</span><span class="p">]</span>

<span class="n">y_pos</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">sortedArtist</span><span class="p">))</span>
<span class="n">frequency</span> <span class="o">=</span> <span class="p">[</span><span class="n">w</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">sortedArtist</span><span class="p">]</span>

<span class="n">plt</span><span class="o">.</span><span class="n">barh</span><span class="p">(</span><span class="n">y_pos</span><span class="p">,</span> <span class="n">frequency</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">align</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.4</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">y_pos</span><span class="p">,</span> <span class="n">artistNames</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Play Count&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Artist&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Top-10 Artist ID per play counts&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Artist rank  1  : Radiohead
Artist rank  2  : The Beatles
Artist rank  3  : Green Day
Artist rank  4  : Metallica
Artist rank  5  : System of a Down
Artist rank  6  : Pink Floyd
Artist rank  7  : Nine Inch Nails
Artist rank  8  : Modest Mouse
Artist rank  9  : Bright Eyes
Artist rank  10  : Nirvana
</pre>
</div>
</div>

<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>To answer this question correctly, we need to use an additional dataset <code>artist_alias.txt</code> which contains the ids of mispelled artists and standard artists. The schema of the dataset consists in:</p>

<pre><code>mispelledID ID: long int
standard ID: long int</code></pre>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><div style='border-radius: 15px; background: rgb(224,239,130);padding:10px;'/></p>
<h4 id="Question-3.3">Question 3.3<a class="anchor-link" href="#Question-3.3">&#182;</a></h4><p>Using SparkSQL API, load the dataset from <code>/datasets/lastfm/artist_alias.txt</code> then show 5 samples.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span class="n">customSchemaArtistAlias</span> <span class="o">=</span> <span class="n">StructType</span><span class="p">([</span> \
    <span class="n">StructField</span><span class="p">(</span> <span class="o">...</span> <span class="p">),</span> \
    <span class="n">StructField</span><span class="p">(</span> <span class="o">...</span> <span class="p">)])</span>

<span class="n">artistAliasDF</span> <span class="o">=</span> <span class="n">sqlContext</span><span class="o">.</span><span class="n">read</span> \
    <span class="o">...</span>
    <span class="o">...</span>
    <span class="o">...</span>

<span class="n">artistAliasDF</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[8]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">customSchemaArtistAlias</span> <span class="o">=</span> <span class="n">StructType</span><span class="p">([</span> \
    <span class="n">StructField</span><span class="p">(</span><span class="s2">&quot;mispelledID&quot;</span><span class="p">,</span> <span class="n">LongType</span><span class="p">(),</span> <span class="kc">True</span><span class="p">),</span> \
    <span class="n">StructField</span><span class="p">(</span><span class="s2">&quot;standardID&quot;</span><span class="p">,</span><span class="n">LongType</span><span class="p">(),</span> <span class="kc">True</span><span class="p">)])</span>

<span class="n">artistAliasDF</span> <span class="o">=</span> <span class="n">sqlContext</span><span class="o">.</span><span class="n">read</span> \
    <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;com.databricks.spark.csv&#39;</span><span class="p">)</span> \
    <span class="o">.</span><span class="n">options</span><span class="p">(</span><span class="n">header</span><span class="o">=</span><span class="s1">&#39;false&#39;</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;DROPMALFORMED&#39;</span><span class="p">)</span> \
    <span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">base</span> <span class="o">+</span> <span class="s2">&quot;artist_alias.txt&quot;</span><span class="p">,</span> <span class="n">schema</span> <span class="o">=</span> <span class="n">customSchemaArtistAlias</span><span class="p">)</span> \
    <span class="o">.</span><span class="n">cache</span><span class="p">()</span>

<span class="n">artistAliasDF</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>+-----------+----------+
|mispelledID|standardID|
+-----------+----------+
|    1092764|   1000311|
|    1095122|   1000557|
|    6708070|   1007267|
|   10088054|   1042317|
|    1195917|   1042317|
+-----------+----------+
only showing top 5 rows

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><div style='border-radius: 15px; background: rgb(224,239,130);padding:10px;'/></p>
<h4 id="Question-3.4">Question 3.4<a class="anchor-link" href="#Question-3.4">&#182;</a></h4><p>Verify the answer of question 3.2 ("Are artists that have ID equal to <code>1000010</code> and <code>2082323</code> the same ?") by finding the standard ids corresponding to the mispelled ids <code>1000010</code> and <code>2082323</code> respectively.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span class="n">artistAliasDF</span><span class="p">[</span> <span class="o">...</span> <span class="p">]</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">artistAliasDF</span><span class="p">[</span> <span class="o">...</span> <span class="p">]</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># 1000010 is a standard id, so it haven&#39;t been considered as mispelled id in the dataset</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[48]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">artistAliasDF</span><span class="p">[</span><span class="n">artistAliasDF</span><span class="o">.</span><span class="n">mispelledID</span><span class="o">==</span><span class="mi">1000010</span><span class="p">]</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">artistAliasDF</span><span class="p">[</span><span class="n">artistAliasDF</span><span class="o">.</span><span class="n">mispelledID</span><span class="o">==</span><span class="mi">2082323</span><span class="p">]</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># 1000010 is a standard id, so it haven&#39;t been considered as mispelled id in the dataset</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>+-----------+----------+
|mispelledID|standardID|
+-----------+----------+
+-----------+----------+

+-----------+----------+
|mispelledID|standardID|
+-----------+----------+
|    2082323|   1000010|
+-----------+----------+

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Answer-:">Answer :<a class="anchor-link" href="#Answer-:">&#182;</a></h3><p>Indeed it is the same, name "01 Aerosmith" points to name "Aerosmith".</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[12]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="k">def</span> <span class="nf">is_standard</span><span class="p">(</span><span class="n">id1</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return True is the ID is not in the mispelledID column of artistAliasDF&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">artistAliasDF</span><span class="p">[</span><span class="n">artistAliasDF</span><span class="o">.</span><span class="n">mispelledID</span><span class="o">==</span><span class="n">id1</span><span class="p">]</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span><span class="o">==</span><span class="p">[]:</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[13]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">name1</span> <span class="o">=</span> <span class="s2">&quot;Green Day - Oasis - Eminem - Aerosmith&quot;</span>
<span class="n">id1</span> <span class="o">=</span> <span class="n">artistDF</span><span class="p">[</span><span class="n">artistDF</span><span class="o">.</span><span class="n">name</span><span class="o">==</span><span class="n">name1</span><span class="p">]</span><span class="o">.</span><span class="n">first</span><span class="p">()</span><span class="o">.</span><span class="n">artistID</span>
<span class="n">is_standard</span><span class="p">(</span><span class="n">id1</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[13]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>True</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Here we see that the artist "Green Day - Oasis - Eminem - Aerosmith" is considered as a standard ID, this will not provide any play count to Aerosmith or the others even if they made the song.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[14]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="nb">print</span><span class="p">(</span><span class="n">userArtistDF</span><span class="p">[</span><span class="n">userArtistDF</span><span class="o">.</span><span class="n">artistID</span><span class="o">==</span><span class="n">id1</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">(),</span> <span class="s2">&quot; user(s) listen to &quot;</span><span class="p">,</span> <span class="n">name1</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>1  user(s) listen to  Green Day - Oasis - Eminem - Aerosmith
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[15]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">userArtistDF</span><span class="p">[</span><span class="n">userArtistDF</span><span class="o">.</span><span class="n">artistID</span><span class="o">==</span><span class="n">id1</span><span class="p">]</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>
<span class="n">strangeUserID</span><span class="o">=</span><span class="n">userArtistDF</span><span class="p">[</span><span class="n">userArtistDF</span><span class="o">.</span><span class="n">artistID</span><span class="o">==</span><span class="n">id1</span><span class="p">]</span><span class="o">.</span><span class="n">first</span><span class="p">()</span><span class="o">.</span><span class="n">userID</span>
<span class="n">strangeUserActivity</span> <span class="o">=</span> <span class="n">userArtistDF</span><span class="p">[</span><span class="n">userArtistDF</span><span class="o">.</span><span class="n">userID</span><span class="o">==</span><span class="n">strangeUserID</span><span class="p">]</span>
<span class="n">strangeUserActivityWithNames</span> <span class="o">=</span> <span class="n">strangeUserActivity</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">artistDF</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s2">&quot;artistID&quot;</span><span class="p">)</span>
<span class="n">strangeUserActivityWithNames</span><span class="p">[</span><span class="n">locate</span><span class="p">(</span><span class="s2">&quot;Aerosmith&quot;</span><span class="p">,</span> <span class="n">strangeUserActivityWithNames</span><span class="o">.</span><span class="n">name</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">truncate</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">strangeUserActivityWithNames</span><span class="p">[</span><span class="n">locate</span><span class="p">(</span><span class="s2">&quot;Green Day&quot;</span><span class="p">,</span> <span class="n">strangeUserActivityWithNames</span><span class="o">.</span><span class="n">name</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">truncate</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">strangeUserActivityWithNames</span><span class="p">[</span><span class="n">locate</span><span class="p">(</span><span class="s2">&quot;Oasis&quot;</span><span class="p">,</span> <span class="n">strangeUserActivityWithNames</span><span class="o">.</span><span class="n">name</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">truncate</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">strangeUserActivityWithNames</span><span class="p">[</span><span class="n">locate</span><span class="p">(</span><span class="s2">&quot;Eminem&quot;</span><span class="p">,</span> <span class="n">strangeUserActivityWithNames</span><span class="o">.</span><span class="n">name</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">truncate</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>+-------+--------+---------+--------------------------------------+
|userID |artistID|playCount|name                                  |
+-------+--------+---------+--------------------------------------+
|2359019|10586963|2        |Green Day - Oasis - Eminem - Aerosmith|
|2359019|1000010 |1        |Aerosmith                             |
+-------+--------+---------+--------------------------------------+

+-------+--------+---------+--------------------------------------+
|userID |artistID|playCount|name                                  |
+-------+--------+---------+--------------------------------------+
|2359019|4267    |49       |Green Day                             |
|2359019|10586963|2        |Green Day - Oasis - Eminem - Aerosmith|
+-------+--------+---------+--------------------------------------+

+-------+--------+---------+--------------------------------------+
|userID |artistID|playCount|name                                  |
+-------+--------+---------+--------------------------------------+
|2359019|1259    |3        |Oasis                                 |
|2359019|10586963|2        |Green Day - Oasis - Eminem - Aerosmith|
+-------+--------+---------+--------------------------------------+

+-------+--------+---------+--------------------------------------+
|userID |artistID|playCount|name                                  |
+-------+--------+---------+--------------------------------------+
|2359019|10586963|2        |Green Day - Oasis - Eminem - Aerosmith|
+-------+--------+---------+--------------------------------------+

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Comment:">Comment:<a class="anchor-link" href="#Comment:">&#182;</a></h3><p>We can see that "Green Day - Oasis - Eminem - Aerosmith" account for a standard artist name. And so the playcounts for this "artist" don't add to the playcounts of the artists who really composed it. But this is not an issue for our recommender system since for instance, the same user listen a lot to what we could guess is the lead artist in this song. So in definitive people who listen a lot of Green Day's music will be recommended this song, which is really the purpose of our recommendation engine.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="https://farm2.staticflickr.com/1604/24934700445_833f0a5649_t.jpg" alt=""></p>
<p><div style='border-radius: 15px; background: rgb(224,239,130);padding:10px;'/></p>
<h3 id="Question-4">Question 4<a class="anchor-link" href="#Question-4">&#182;</a></h3><p>The mispelled or nonstandard information about artist make our results in the previous queries a bit "sloppy". To overcome this problem, we can replace all mispelled artist ids by the corresponding standard ids and to re-compute the basic descriptive statistics on the "amended" data.
First, we construct a "dictionary" that map a non-standard ids to a standard ids. Then this "dictionary" will be used to replace the mispelled artists.</p>
<h4 id="Question-4.1">Question 4.1<a class="anchor-link" href="#Question-4.1">&#182;</a></h4><p>From data in the dataframe loaded from <code>/datasets/lastfm/artist_alias.txt</code>, construct a dictionary that maps each non-standard id to its standard id.</p>
<p>HINT: Instead of using function <code>collect</code>, we can use <code>collectAsMap</code> to convert the collected data to a dictionary inline.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span class="n">artistAlias</span> <span class="o">=</span> <span class="n">artistAliasDF</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">row</span><span class="p">:</span> <span class="p">(</span> <span class="o">...</span> <span class="p">,</span> <span class="o">...</span><span class="p">))</span><span class="o">.</span> <span class="o">...</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[16]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">artistAlias</span> <span class="o">=</span> <span class="n">artistAliasDF</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">row</span><span class="p">:</span> <span class="p">(</span><span class="n">row</span><span class="o">.</span><span class="n">mispelledID</span><span class="p">,</span> <span class="n">row</span><span class="o">.</span><span class="n">standardID</span><span class="p">))</span><span class="o">.</span><span class="n">collectAsMap</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><div style='border-radius: 15px; background: rgb(224,239,130);padding:10px;'/></p>
<h4 id="Question-4.2">Question 4.2<a class="anchor-link" href="#Question-4.2">&#182;</a></h4><p>Using the constructed dictionary in question 4.1, replace the non-standard artist ids in the dataframe that was loaded from <code>/datasets/lastfm/user_artist_data.txt</code> by the corresponding standard ids then show 5 samples.</p>
<p><strong>NOTE 1</strong>: If an id doesn't exist in the dictionary as a mispelled id, it is really a standard id.</p>
<p>Using funtion <code>map</code> on Spark Dataframe will give us an RDD. We can convert this RDD back to Dataframe by using <code>sqlContext.createDataFrame(rdd_name, sql_schema)</code></p>
<p><strong>NOTE 2</strong>: be careful! you need to be able to verify that you indeed solved the problem of having bad artist IDs. In principle, for the new data to be correct, we should to have duplicate pairs (user, artist), potentially with different play counts, right? In answering the question, please <strong>show</strong> that you indeed fixed the problem.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span class="kn">from</span> <span class="nn">time</span> <span class="kn">import</span> <span class="n">time</span>

<span class="k">def</span> <span class="nf">replaceMispelledIDs</span><span class="p">(</span><span class="n">fields</span><span class="p">):</span>
    <span class="n">finalID</span> <span class="o">=</span> <span class="n">artistAlias</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">fields</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">fields</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">fields</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">finalID</span><span class="p">,</span> <span class="n">fields</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

<span class="n">t0</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>

<span class="n">newUserArtistDF</span> <span class="o">=</span> <span class="n">sqlContext</span><span class="o">.</span><span class="n">createDataFrame</span><span class="p">(</span>
    <span class="n">userArtistDF</span><span class="o">.</span><span class="n">rdd</span><span class="o">.</span><span class="n">map</span><span class="p">(</span> <span class="o">...</span> <span class="p">),</span> 
    <span class="n">userArtistDataSchema</span>
<span class="p">)</span>
<span class="n">newUserArtistDF</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>

<span class="n">t1</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="s1">&#39;The script takes </span><span class="si">%f</span><span class="s1"> seconds&#39;</span> <span class="o">%</span><span class="p">(</span><span class="n">t1</span><span class="o">-</span><span class="n">t0</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[17]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="kn">from</span> <span class="nn">time</span> <span class="k">import</span> <span class="n">time</span>

<span class="k">def</span> <span class="nf">replaceMispelledIDs</span><span class="p">(</span><span class="n">fields</span><span class="p">):</span>
    <span class="n">finalID</span> <span class="o">=</span> <span class="n">artistAlias</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">fields</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">fields</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">fields</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">finalID</span><span class="p">,</span> <span class="n">fields</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

<span class="n">t0</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>

<span class="n">newUserArtistDF</span> <span class="o">=</span> <span class="n">sqlContext</span><span class="o">.</span><span class="n">createDataFrame</span><span class="p">(</span>
    <span class="n">userArtistDF</span><span class="o">.</span><span class="n">rdd</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">replaceMispelledIDs</span><span class="p">),</span> 
    <span class="n">userArtistDataSchema</span>
<span class="p">)</span>
<span class="n">newUserArtistDF</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>

<span class="n">t1</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The script takes </span><span class="si">%f</span><span class="s1"> seconds&#39;</span> <span class="o">%</span><span class="p">(</span><span class="n">t1</span><span class="o">-</span><span class="n">t0</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>+-------+--------+---------+
| userID|artistID|playCount|
+-------+--------+---------+
|1000002|       1|       55|
|1000002| 1000006|       33|
|1000002| 1000007|        8|
|1000002| 1000009|      144|
|1000002| 1000010|      314|
+-------+--------+---------+
only showing top 5 rows

The script takes 2.327055 seconds
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[18]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="c1"># Additional code</span>
<span class="k">def</span> <span class="nf">scan_artist</span><span class="p">(</span><span class="n">artistID</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Print some information about the artist given </span>
<span class="sd">    It shows that several entries (user,artist,) exist in newUserArtistDF</span>
<span class="sd">    Example: scan_artist(1000010)&quot;&quot;&quot;</span>
    <span class="n">artistNameDF</span> <span class="o">=</span> <span class="n">newUserArtistDF</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">newUserArtistDF</span><span class="o">.</span><span class="n">artistID</span><span class="o">==</span><span class="n">artistID</span><span class="p">)</span><span class="o">.</span><span class="n">cache</span><span class="p">()</span>
    <span class="n">artist</span> <span class="o">=</span> <span class="n">artistDF</span><span class="p">[</span><span class="n">artistDF</span><span class="o">.</span><span class="n">artistID</span><span class="o">==</span><span class="n">artistID</span><span class="p">]</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
    <span class="n">mispelled</span> <span class="o">=</span> <span class="n">artistAliasDF</span><span class="p">[</span><span class="n">artistAliasDF</span><span class="o">.</span><span class="n">standardID</span><span class="o">==</span><span class="n">artistID</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
    <span class="n">artistDF</span><span class="p">[</span><span class="n">locate</span><span class="p">(</span><span class="n">artist</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">artistDF</span><span class="o">.</span><span class="n">name</span><span class="p">)</span> <span class="o">&gt;</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">artistNameDF</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">artist</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The ID provided is not valid, please provide a valid ID&quot;</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Id : &quot;</span><span class="p">,</span> <span class="n">artist</span><span class="o">.</span><span class="n">artistID</span><span class="p">,</span> <span class="s2">&quot;Artist name : &quot;</span><span class="p">,</span> <span class="n">artist</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">mispelled</span><span class="p">,</span> <span class="s2">&quot; mispelledIDs are associated to artist &quot;</span><span class="p">,</span> <span class="n">artist</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">artist</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s2">&quot; appears &quot;</span><span class="p">,</span> <span class="n">artistNameDF</span><span class="o">.</span><span class="n">count</span><span class="p">(),</span> <span class="s2">&quot; times in newUserArtistDF&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">artistNameDF</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">&quot;userID&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">distinct</span><span class="p">()</span><span class="o">.</span><span class="n">count</span><span class="p">(),</span> <span class="s2">&quot; distinct users listen to &quot;</span><span class="p">,</span> <span class="n">artist</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">artistNameDF</span><span class="o">.</span><span class="n">groupBy</span><span class="p">(</span><span class="s1">&#39;userID&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">count</span><span class="p">()</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">col</span><span class="p">(</span><span class="s2">&quot;count&quot;</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">count</span><span class="p">(),</span> <span class="s2">&quot;users listen to &quot;</span><span class="p">,</span> \
          <span class="n">artist</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s2">&quot; through a mispelledID&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[19]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">scan_artist</span><span class="p">(</span><span class="mi">1000010</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Id :  1000010 Artist name :  Aerosmith
130  mispelledIDs are associated to artist  Aerosmith

Aerosmith  appears  17988  times in newUserArtistDF
17938  distinct users listen to  Aerosmith
46 users listen to  Aerosmith  through a mispelledID
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Comment:">Comment:<a class="anchor-link" href="#Comment:">&#182;</a></h3><p>We achieved this result by looking at our users who listen to Aerosmith, and check if lines with the same user appears. It shows that the problem of the mispelledID is fixed.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[127]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="nb">print</span><span class="p">(</span><span class="n">artistDF</span><span class="p">[</span><span class="n">locate</span><span class="p">(</span><span class="s2">&quot;Aerosmith&quot;</span><span class="p">,</span> <span class="n">artistDF</span><span class="o">.</span><span class="n">name</span><span class="p">)</span> <span class="o">&gt;</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">(),</span> <span class="s2">&quot;artist names contain Aerosmith&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">artistAliasDF</span><span class="p">[</span><span class="n">artistAliasDF</span><span class="o">.</span><span class="n">standardID</span><span class="o">==</span><span class="mi">1000010</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">(),</span> <span class="s2">&quot;mispelledIDs point to Aerosmith&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>475 artist names contain Aerosmith
130 mispelledIDs point to Aerosmith
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Comment-:">Comment :<a class="anchor-link" href="#Comment-:">&#182;</a></h3><p>It shows that there are a lot of featurings that are considered as a single artist.
That, or artist_alias.txt is missing entries.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><div style='border-radius: 15px; background: rgb(224,239,130);padding:10px;'/></p>
<h4 id="Question-4.3">Question 4.3<a class="anchor-link" href="#Question-4.3">&#182;</a></h4><p>Spark actions are executed through a set of stages, separated by distributed "shuffle" operations. Spark can be instructed to <strong>automatically and efficiently</strong> broadcast common data needed by tasks within <strong>each stage</strong>. The data broadcasted this way is cached in <strong>serialized form</strong> and deserialized before running each task.</p>
<p>We can thus improve our answer to question 4.2: we can reduce the communication cost by shipping the "dictionary" in a more efficient way by using <code>broadcast variable</code>. Broadcast variables allow the programmer to keep a read-only variable cached on <strong>each machine</strong> rather than shipping a copy of it with tasks. They are cached in deserialized form. They can be used, for example, to give every node a copy of a large input dataset in an efficient manner.</p>
<p>The broadcast of variable <code>v</code> can be created by <code>bV = sc.broadcast(v)</code>. Then value of this broadcast variable can be access via <code>bV.value</code></p>
<p>To question is then: using a broadcast variable, modify the script in question 4.2 to get better performance in terms of running time.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span class="kn">from</span> <span class="nn">time</span> <span class="kn">import</span> <span class="n">time</span>

<span class="n">bArtistAlias</span> <span class="o">=</span> <span class="n">sc</span><span class="o">.</span><span class="n">broadcast</span><span class="p">(</span><span class="n">artistAlias</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">replaceMispelledIDs</span><span class="p">(</span><span class="n">fields</span><span class="p">):</span>
    <span class="n">finalID</span> <span class="o">=</span> <span class="n">bArtistAlias</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="o">...</span> <span class="p">,</span> <span class="o">...</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">(</span><span class="o">...</span> <span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>

<span class="n">t0</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>

<span class="n">newUserArtistDF</span> <span class="o">=</span> <span class="n">sqlContext</span><span class="o">.</span><span class="n">createDataFrame</span><span class="p">(</span>
    <span class="n">userArtistDF</span><span class="o">.</span><span class="n">rdd</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">replaceMispelledIDs</span><span class="p">),</span> 
    <span class="n">userArtistDataSchema</span>
<span class="p">)</span>
<span class="n">newUserArtistDF</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="n">t1</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="s1">&#39;The script takes </span><span class="si">%f</span><span class="s1"> seconds&#39;</span> <span class="o">%</span><span class="p">(</span><span class="n">t1</span><span class="o">-</span><span class="n">t0</span><span class="p">))</span>
<span class="n">newUserArtistDF</span> <span class="o">=</span> <span class="n">newUserArtistDF</span><span class="o">.</span><span class="n">cache</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[20]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="kn">from</span> <span class="nn">time</span> <span class="k">import</span> <span class="n">time</span>

<span class="n">bArtistAlias</span> <span class="o">=</span> <span class="n">sc</span><span class="o">.</span><span class="n">broadcast</span><span class="p">(</span><span class="n">artistAlias</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">replaceMispelledIDs</span><span class="p">(</span><span class="n">fields</span><span class="p">):</span>
    <span class="n">finalID</span> <span class="o">=</span> <span class="n">bArtistAlias</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">fields</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">fields</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">fields</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">finalID</span><span class="p">,</span> <span class="n">fields</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

<span class="n">t0</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>

<span class="n">newUserArtistDF</span> <span class="o">=</span> <span class="n">sqlContext</span><span class="o">.</span><span class="n">createDataFrame</span><span class="p">(</span>
    <span class="n">userArtistDF</span><span class="o">.</span><span class="n">rdd</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">replaceMispelledIDs</span><span class="p">),</span> 
    <span class="n">userArtistDataSchema</span>
<span class="p">)</span>
<span class="n">newUserArtistDF</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="n">t1</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The script takes </span><span class="si">%f</span><span class="s1"> seconds&#39;</span> <span class="o">%</span><span class="p">(</span><span class="n">t1</span><span class="o">-</span><span class="n">t0</span><span class="p">))</span>
<span class="n">newUserArtistDF</span> <span class="o">=</span> <span class="n">newUserArtistDF</span><span class="o">.</span><span class="n">cache</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>+-------+--------+---------+
| userID|artistID|playCount|
+-------+--------+---------+
|1000002|       1|       55|
|1000002| 1000006|       33|
|1000002| 1000007|        8|
|1000002| 1000009|      144|
|1000002| 1000010|      314|
+-------+--------+---------+
only showing top 5 rows

The script takes 0.493077 seconds
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Although having some advantages, explicitly creating broadcast variables is only useful when tasks across multiple stages need the same data or when caching the data in deserialized form is important.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="https://farm2.staticflickr.com/1604/24934700445_833f0a5649_t.jpg" alt=""></p>
<p><div style='border-radius: 15px; background: rgb(224,239,130);padding:10px;'/></p>
<h3 id="Question-5">Question 5<a class="anchor-link" href="#Question-5">&#182;</a></h3><p>Well, our data frame contains clean and "standard" data. We can use it to redo previous statistic queries.</p>
<h4 id="Question-5.1">Question 5.1<a class="anchor-link" href="#Question-5.1">&#182;</a></h4><p>How many unique artists? Compare with the result when using old data.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span class="n">uniqueArtists</span> <span class="o">=</span> <span class="n">newUserArtistDF</span><span class="o">.</span> <span class="o">...</span>

<span class="k">print</span><span class="p">(</span><span class="s2">&quot;Total n. of artists: &quot;</span><span class="p">,</span> <span class="n">uniqueArtists</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[21]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">uniqueArtists</span> <span class="o">=</span> <span class="n">newUserArtistDF</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">&quot;artistID&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">distinct</span><span class="p">()</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Total n. of artists: &quot;</span><span class="p">,</span> <span class="n">uniqueArtists</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Total n. of artists:  1568126
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Answer-:">Answer :<a class="anchor-link" href="#Answer-:">&#182;</a></h3><p>There are slightly less artists</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[30]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="c1"># See which artistID is connected to the most mispelledID</span>
<span class="n">numberOfArtistsMispelled</span> <span class="o">=</span> <span class="n">artistAliasDF</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">&quot;standardID&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">distinct</span><span class="p">()</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="n">numberOfMispelled</span> <span class="o">=</span> <span class="n">artistAliasDF</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>

<span class="n">mispelledDF</span> <span class="o">=</span> <span class="n">artistAliasDF</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">col</span><span class="p">(</span><span class="s2">&quot;mispelledID&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">alias</span><span class="p">(</span><span class="s2">&quot;artistID&quot;</span><span class="p">))</span>
    
<span class="n">playCountsMispelled</span> <span class="o">=</span> <span class="n">newUserArtistDF</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">mispelledDF</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s2">&quot;artistID&quot;</span><span class="p">)</span><span class="o">.</span>\
                        <span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">r</span><span class="p">:</span> <span class="n">r</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="o">.</span><span class="n">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">v1</span><span class="p">,</span><span class="n">v2</span><span class="p">:</span> <span class="n">v1</span><span class="o">+</span><span class="n">v2</span><span class="p">)</span>
    
<span class="nb">print</span><span class="p">(</span><span class="n">numberOfArtistsMispelled</span><span class="p">,</span> <span class="s2">&quot; artists have mispelledIDs associated, </span><span class="se">\</span>
<span class="s2">that is a small portion of the total number of unique artists&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;These &quot;</span><span class="p">,</span> <span class="n">numberOfArtistsMispelled</span><span class="p">,</span> <span class="s2">&quot; account for &quot;</span><span class="p">,</span> <span class="n">numberOfMispelled</span><span class="p">,</span> <span class="s2">&quot; mispelled artists&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;These mispelled artists account for &quot;</span><span class="p">,</span> <span class="s2">&quot;{:,}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">playCountsMispelled</span><span class="p">),</span> <span class="s2">&quot; play counts&quot;</span><span class="p">,</span> <span class="s2">&quot;that is only &quot;</span><span class="p">,</span> \
     <span class="n">playCountsMispelled</span><span class="o">/</span><span class="n">playCountsTotal</span><span class="o">*</span><span class="mi">100</span><span class="p">,</span> <span class="s2">&quot; percent of the total play counts&quot;</span><span class="p">)</span>

<span class="n">mispelledArtists</span> <span class="o">=</span> <span class="n">artistAliasDF</span><span class="o">.</span><span class="n">groupBy</span><span class="p">(</span><span class="s2">&quot;standardID&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">count</span><span class="p">()</span><span class="o">.</span><span class="n">orderBy</span><span class="p">(</span><span class="s2">&quot;count&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The artists that are the most mispelled&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">artist</span> <span class="ow">in</span> <span class="n">mispelledArtists</span><span class="p">[:</span><span class="mi">10</span><span class="p">]:</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">artistDF</span><span class="p">[</span><span class="n">artistDF</span><span class="o">.</span><span class="n">artistID</span><span class="o">==</span><span class="n">artist</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span><span class="o">.</span><span class="n">collect</span><span class="p">()[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Artist : &quot;</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span><span class="s2">&quot; (id: &quot;</span><span class="p">,</span> <span class="n">artist</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s2">&quot;) has &quot;</span><span class="p">,</span> <span class="n">artist</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="s2">&quot; mispelled IDs associated&quot;</span><span class="p">)</span>
    
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>22478  artists have mispelledIDs associated, that is a small portion of the total number of unique artists
These  22478  account for  193027  mispelled artists
These mispelled artists account for  1,712,122  play counts that is only  0.46069496011329214  percent of the total play counts
The artists that are the most mispelled
Artist :  Metallica  (id:  1000024 ) has  1204  mispelled IDs associated
Artist :  [unknown]  (id:  1034635 ) has  955  mispelled IDs associated
Artist :  Pink Floyd  (id:  82 ) has  671  mispelled IDs associated
Artist :  Linkin Park  (id:  1854 ) has  656  mispelled IDs associated
Artist :  South Park  (id:  1003694 ) has  656  mispelled IDs associated
Artist :  The Beatles  (id:  1000113 ) has  629  mispelled IDs associated
Artist :  Eminem  (id:  930 ) has  628  mispelled IDs associated
Artist :  Radiohead  (id:  979 ) has  620  mispelled IDs associated
Artist :  Iron Maiden  (id:  1000107 ) has  537  mispelled IDs associated
Artist :  Nirvana  (id:  976 ) has  536  mispelled IDs associated
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><div style='border-radius: 15px; background: rgb(224,239,130);padding:10px;'/></p>
<h4 id="Question-5.2">Question 5.2<a class="anchor-link" href="#Question-5.2">&#182;</a></h4><p>Who are the top-10 artistis?</p>
<ul>
<li>In terms of absolute play counts</li>
<li>In terms of "audience size", that is, how many users listened to one of their track at least once</li>
</ul>
<p>Plot the results, and explain the figures you obtain.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span class="c1"># calculate top-10 artists in term of play counts</span>
<span class="n">top10ArtistsPC</span> <span class="o">=</span> <span class="n">newUserArtistDF</span><span class="o">.</span><span class="n">groupBy</span><span class="p">(</span> <span class="o">...</span> <span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span> <span class="o">...</span> <span class="p">)</span><span class="o">.</span><span class="n">orderBy</span><span class="p">(</span><span class="s1">&#39;sum(playCount)&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

<span class="n">y_pos</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">top10ArtistsPC</span><span class="p">))</span>
<span class="n">pdf</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">top10ArtistsPC</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">barh</span><span class="p">(</span><span class="n">y_pos</span><span class="p">,</span> <span class="n">pdf</span><span class="p">[</span><span class="mi">1</span><span class="p">][::</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">align</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.4</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">y_pos</span><span class="p">,</span> <span class="n">pdf</span><span class="p">[</span><span class="mi">0</span><span class="p">][::</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Play Count&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Artist&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Top-10 Artist ID per play counts&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[31]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="c1"># calculate top-10 artists in term of play counts</span>
<span class="n">top10ArtistsPC</span> <span class="o">=</span> <span class="n">newUserArtistDF</span><span class="o">.</span><span class="n">groupBy</span><span class="p">(</span><span class="s2">&quot;artistID&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="s2">&quot;playCount&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">orderBy</span><span class="p">(</span><span class="s1">&#39;sum(playCount)&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

<span class="n">y_pos</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">top10ArtistsPC</span><span class="p">))</span>
<span class="n">pdf</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">top10ArtistsPC</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">barh</span><span class="p">(</span><span class="n">y_pos</span><span class="p">,</span> <span class="n">pdf</span><span class="p">[</span><span class="mi">1</span><span class="p">][::</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">align</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.4</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="n">pdf</span><span class="p">[</span><span class="mi">0</span><span class="p">][::</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Play Count&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Artist&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Top-10 Artist ID per play counts&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAbAAAAEZCAYAAAD2XXAMAAAABHNCSVQICAgIfAhkiAAAAAlwSFlz
AAALEgAACxIB0t1+/AAAIABJREFUeJzt3Xm81VW9//HXWxHF63DEFMUBuQWUOWtS3dSjt8wGsUEF
LVMzy7z35s0iB7oJvy5dza5m3pvizTkhzSkxB5yOmqkUIYNKogEi6sEBFadE+fz++K4NXzZ7n3OA
PZzv4f18PPZjf7/rO621v7A/Z63v2mspIjAzMyuadZqdATMzs9XhAGZmZoXkAGZmZoXkAGZmZoXk
AGZmZoXkAGZmZoXkAGa2CiRtL2mxJDU7L80m6TJJP252Pmzt5QBmq0XS6+mLfLGkpZLezK0fUaNr
rCfpWklz0jX2q7DPWZJeTK8zu3DOjVLeb+liHuZKOqC0HhFPR8TG0ckPKCUdI+n+TvZpk3RcWm5N
ZSx9hvMlXS1pr67ks0kivQovfy+sOBzAbLVExEbpi3xjYB7w+dJ6REyo4aXuA74KPE/Zl6WkbwGH
ALuk18EprSNfBt4GPimpX7WdJPVKiwHUq7ZVHgAW5D7TjwKzgPvzAbRecuVd5UNrmpHm6RGBeG3j
AGY1JWl9ST+XtCC9zpXUO21rlfSMpNMkvZBqVkdWO1dELImIX0TEA8B7FXY5GvhZRDwbEc8CPwOO
6SSLRwMXAjPIAmM+73Ml/UDSNOB1SeOB7YGJqVb0fUk7pJrSOumYYyQ9Jek1SX+TdKSkD6ZrfCwd
93IXPrrysi+IiDOAXwFnVdonl5fj02f9rKTv5bZL0qmSnkw11KslbVZ27NclzQPurHD+Lt8vSZtJ
ulnSQkkvS5ooaZu07TBJfy7b/2RJN1Y5V19Jl6YyvSzphty24yXNlvSSpN9J2rqsPOvk9s3XcI+R
9AdJZ6dz/k3SQWnbWGAf4H/S/fpFSj9XUrukVyVNl/ThSvm15nEAs1obBewN7JpeewM/zG3vB2wO
9CcLJhdJGrya19oRmJZbnw5U/ZKRNADYD/g1cBXwtQq7jQA+C2waEUcCT7O8dvmzsvP9A3AecFBE
bAJ8DHgkImYB3wIeTMf1Xc3yAdwA7CGpTwf7tAIfAA4ETpH0zyn9O8AwYF9ga2AR8L9lx+4LfBD4
dJVzV7pfgyrsJ+BisoC/PfAW8D9p203AwBTYS44CLq9yzSuBDcju75bAOQCpJvoT4LBUnnnAb6qc
A1au4e5NVqvdHPhpyi8RMQq4H/iXdL++I+nTZEFtUERsmq75UgfXsiZwALNaOxL4fxHxYkS8CIwh
+7LK+49Uu7oP+D1w+GpeayPg1dz6aymtmqOAaSnA/Ab4sKTdctsD+EWq/fy9i3lYCuwsqU9EtEfE
Yym9Vk1rz6ZztXSwz5iIeCsiZgKXAqVnkCcAP0w11CVk9+LQfC0FGJ2O7ai85fdrePkOEfFyRNwQ
EW9HxOtkgWa/tO3vwNWkGm+qyQwAbi4/T6pRHQScEBGvRsS7EVF6lvgV4OKIeCQi3gFOI6vlbt9B
3vPmRcTF6fnlFcDWkrbMXz63/A6wMfAhSetExF8j4vkuXscaxAHMaq0/2V/GJU+ntJJFEfFWbn0e
0F/SdlreMeS1Ll7rdWCT3PqmKa2arwHjAVKT431ktYq8+V28NhHxBtmX+QnAs6kJbUhXj++ibcgC
6ysd7JPPc/7zHgDcIGmRpEXAY8C7ZLWqSsdWUul+bV2+k6QNJY1LzbCvAvcCm0rLemteTvbHDWR/
SFydgmq57YCXI+LVCttKtS5g2ef/Etln1BXLAlBEvJkW83/wRG77PWQ1yP8F2lPZNu7idaxBHMCs
1p4Fdsitb5/SSjaTtGFufQBZ54X5uY4h+aDUkUeBfA1qV2BmpR0lfZysme00Sc9Jeo6sSenIshpJ
+cP8Dh/uR8SkiDgQ2Iqseer/unLcKvgiMKUsiJTbvmx5QVp+mqx5c7Pca8OIeC5fhE6uX+l+5e9n
6fjvAYOBvVOT235kNRoBRMTDwDuS9iWrIV5Z5Xrzgb6SNq2wbYV/W6kJd/NU3jdScj6vW3VStryV
PoeIOD8i9iJryhwMjFyF81kDOIBZrU0AfijpfZLeB/yIlb+sxijrIr8P8Dngt9VOpqxTyAZpNb8M
WTPQyZL6pw4DJwOXVTnV0cAk4EMsfz63E9CH7JlXNe3A+6vkbUtJh6Qv0iVkX6Lv5Y7bVtJ6HZy7
otT5YhtJZwDHAad3csgPJfVJTXPHkDXXQdaR5CelJjZJW0gatqr5ofr9WhagyGoybwGvSuoLnFHh
PFeQ1WreiYg/VrpQCq63Ar+U1JKuu2/aPAE4VtKuktYna6Z8KP204QWyQHaUpHUlfZ0q962KFe6z
pL0kDU33702ynquVOhJZEzmAWa39J/Bnsg4V09Pyf+a2P0/WmeBZssD2rYh4ooPz/ZXsC6Q/cDvw
RukLOSLGARPJehROByZGxEXlJ0hB7zDg/IhYmHvNTXmo1Jmj5L/IAsQiSSentNJf6+sA3yX74nyJ
7KH/t9O2u8hqiM9LWtjB+fP6S1oMLAYmk3VI2S8iVuohWOZe4EmynoRn5/Y/j6wDxaTULPsgWa2z
pCu1xI7uV76TxM/J/hh4EfgjWRAqP/+VqUy/7uSaR5H9QTCLLLB8ByAi7gL+A7gu5WcgWaebkuPJ
akkvktWaHshtq/Sbtfz6eWTPB1+W9HOypumLgJeBuemcZ3eSb2sweUJLaxRJrcCVEbFds/PSE0ja
Afgb0Csiltbh/K3U8H6lnpTtwO4R8VQtzmlrN9fAzKxRvg1MdvCyWlndX9+brS5X+Wur3p9nTc4v
aW461xdqcT4zcBOimZkVlJsQzcyskNyEWIEkV0vNzFZDRDRsgGfXwKqIiB77OuOMM5qeB5fPZXP5
et6r0RzAzMyskBzAzMyskBzA1kKtra3NzkJd9eTy9eSygctnq8bd6CuQFP5czMxWjSTCnTjMzMw6
5gBmZmaF5ABmZmaF5ABmZmaF5ABmZmaF5KGkqhg1aqV5Ec3M1khLC4wc+c1mZ6PHcACrYsAA/yMz
s9qaN89/GNeSmxDNzKyQCh/AJJ0kaYakmZJOSmlXS5qaXnMkTU3pvSVdKmm6pEck7dfc3JuZ2eoq
dBOipJ2AbwAfAZYAt0m6OSKG5/b5GfBKWj0eWBoRu0jaArhV0kc87IaZWfEUvQb2QeDhiHg7It4D
7gW+VNooScDhwISU9CHgHoCIeIEssO3V0BybmVlNFD2AzQT2kdRX0obA54Btc9v3Adoj4qm0Pg0Y
JmldSQOBPcv2NzOzgih0E2JEzJJ0FjAJeAOYCizN7XIEMD63fglZLezPwDzgj8B7lc49ceLoZcuD
B7cyZEhrDXNuZlZ8bW1ttLW1Ne36PWo0ekk/AZ6OiAsl9QKeAfaIiGer7P8AcFxEzCpLj3Hjes7n
Ymbdw7x5FzF2bM/9iU6jR6MvdA0MQNKWEbFQ0vbAF4GhadMngcfzwUtSH2CdiHhD0qeAJeXBy8zM
iqHwAQy4VtLmZL0QT4yI11L6cJZ33ijpR9ZTcSlZ7eyoxmXTzMxqqfABLCL2rZJ+bIW0uWQ9F83M
rOCK3gvRzMzWUg5gZmZWSA5gZmZWSIV/BlYvHjXazGqtpaXZOehZetTvwGpFkodHNDNbRY3+HZib
EM3MrJDchFiFZ2Q2Wzt4luTicgCrwjMym60d/Ly7uNyEaGZmhVS3ACbpEkntkmbk0vpKukPSE5Im
SWrJbTtN0mxJsyQdmEvfM824PFvSebn0fSX9RdISSV8uu/ZtkhZJmliWfnGaiXmapN9K+of6lN7M
zOqtnjWwS4GDytJOBe6IiMHAXWkdSTuSjV24Yzrml2kySoALyEaMHwQMklQ65zzgaFacLqXkp1Qe
5/DfI2K3iNgVeBr419UtnJmZNVfdAlhE3A8sKkseBlyeli8HvpCWDwEmRMSSNF7hk8BQSVsDG0fE
5LTfFaVjImJeRMxgxfm/Ste+G3i9QvpiWDZT84aVjjUzs2Jo9DOwfhHRnpbbyUaHB+hPNjp8yTPA
NhXSF6T01SbpUuA5YDBw/pqcy8zMmqdpnTjSL4Ub/mvhNEp9f2AWMKLR1zczs9podDf6dklbRcTz
qXlwYUpfAGyX229bsprXgrScT19Q4byVAmHV4BgRSyVdDYwELqu0z8SJo5ctDx7cypAhrdVOZ2a2
Vmpra6Otra1p1290ALuJrOPFWen9xlz6eEnnkDURDgImR0RIek3SUGAyWceMX5SdU+lVbqU0SR+I
iCfTM7BhwOPVMnrwwaNXpVxmZmud1tZWWltbl62PGTOmodevWwCTNAHYD3ifpPnAj4AzgWskHQfM
BQ4HiIjHJF0DPAa8SzazcqkGdSJZLakPcEtE3JbO/xHgemAz4POSRkfEzmnb/cAQYKN07a8DdwKX
SdqELLg9Any7XuU3M7P6qlsAi4gjqmz6ZJX9fwL8pEL6FGDnCul/YsVmx/y2fapc+xNV0s3MrGA8
EoeZmRWSA5iZmRWSA5iZmRWSR6OvwiNUm60dPEtycXlG5go8I7OZ2arzjMxmZmZd4ABmZmaF5Gdg
VYwa5WdgZvXQ0gIjR3rGc1tzDmBVDBjg/2Bm9eAOUlYrbkI0M7NCKlQAk7SupKmSJqb1syU9Lmma
pOslbZrbdxdJD0qaKWm6pN6SNk7Hl14vSDq3eSUyM7PVVagABpxENuBvqY/7JODDEbEr8ARwGoCk
XsCVwDcjYieyQYXfjYjFEbF76QXMA65rdCHMzGzNFSaASdoW+CzwK9JUKRFxR0QsTbs8zPK5ww4E
pkfEjLTfotx+pfMNBraMiD80Iv9mZlZbhQlgwLlkE1AurbL968AtaXkwEJJukzRF0sgK+48AflP7
bJqZWSMUoheipM8DCyNiqqTWCttHAe9ExPiU1Its6pS9gLeAuyRNiYi7c4cNB75a7ZqekdnMrGNr
24zMq+vjwDBJnwU2ADaRdEVEfE3SMWRNi/+c238+cF9EvAwg6RZgD+DutL4r0Csipla7oGdkNjPr
WLNnZC5EE2JEnB4R20XEQLKmv7tT8DqIrFnxkIh4O3fI7cDOkvqkDh37AY/mth8BjMfMzAqrKDWw
PLG8F+L5QG/gDkkAD0bEiRHxiqRzgD+lfX8fEbfmznEY8JkG5tnMzGqscAEsItqAtrQ8qIP9rgKu
qrLt/fXIm5mZNU4hmhDNzMzKOYCZmVkhOYCZmVkhFe4ZWKN4xGyz+mhpaXYOrKdQRHS+11pGUvhz
MTNbNZKICDXqem5CNDOzQnIAMzOzQvIzsCpGjfIzMCuGlhYYOdIziNvaxwGsigED/IVgxeAOR7a2
chOimZkVUt0CmKRLJLVLmpFL6yvpDklPSJokqSW37TRJsyXNknRgLn1PSTPStvNy6etLujqlPyRp
QErfTdIfJc2UNE3S4RXy9gtJi+tVdjMzq7961sAuBQ4qSzsVuCMiBgN3pXUk7Ug2P9eO6ZhfKo3O
C1wAHJfGPRyURqAHOA54KaWfC5yV0t8AjoqIndK5fi5pk1IGJO0FtLB8QGAzMyugugWwiLgfWFSW
PAy4PC1fDnwhLR8CTIiIJRExF3gSGCppa2DjiJic9rsid0z+XNeR5gOLiNkR8VRafg5YCGwBIGld
4KfAD8hGtTczs4Jq9DOwfhHRnpbbgX5puT/wTG6/Z4BtKqQvSOmk9/kAEfEu8KqkvvmLSdob6F0K
aMC/Ar+LiOdrUxwzM2uWpvVCjIiQVLdmvFR7uwL4WlrvDxwKtOaaJ6uaOHH0suXBg1sZMqS1Lvk0
MyuqtrY22tramnb9RgewdklbRcTzKcAsTOkLgO1y+21LVvNakJbL00vHbA88m2Zd3jQiXgZIz7xu
Bk7PNT/uBnyArHkSYENJT6TncSs5+ODRq19KM7O1QGtrK62trcvWx4wZ09DrN7oJ8Sbg6LR8NHBj
Ln2EpN6SBgKDgMmpqe81SUNTreko4HcVznUoWacQJPUGbgCuiIjrSxeOiFsiYuuIGBgRA4E3qwUv
MzPr/upWA5M0AdgPeJ+k+cCPgDOBayQdB8wFDgeIiMckXQM8BrwLnJgbTfdE4DKgD3BLRNyW0i8G
rpQ0G3gJGJHSDwf2AfpKOialHR0R08uy6F6IZmYF5tHoK5AU48b5c7FimDfvIsaO9cgx1nwejd7M
zKwLHMDMzKyQPJhvFR4g1YrCMxzb2srPwCrwjMxmZqvOz8DMzMy6wAHMzMwKyc/AqvCMzNYMnl3Z
rOscwKrwjMzWDO48ZNZ1bkI0M7NCKlQAk7SupKmSJpalf0/S0vx0KpJ2kfRgmpl5ehojEUlHpPVp
km6VtHmjy2FmZmuuUAEMOIlsvMRlfdwlbQd8CpiXS+sFXAl8M83MvB/wbkr/OdAaEbsC08nmCDMz
s4IpTACTtC3wWeBXrDib8jlkMyznHQhMj4gZABGxKCKWpuMEbJRGt9+EbFoWMzMrmMIEMOBcYCSw
tJQg6RDgmQojzQ8CQtJtkqZIGgkQEUvIRrefQRa4PgRc0ojMm5lZbRUigEn6PLAwIqaSal+SNgRO
B87I75re1wM+ARyZ3r8o6QBJ6wEnALtFRH+yQHZaY0phZma1VJRu9B8Hhkn6LLABWdPfFcAOwLSs
NZBtgSmShgLzgftyMzTfAuwBvAYQEXPSeX8LnFLpghMnjl62PHhwK0OGtNa4SGZmxdbW1kZbW1vT
rl+4sRAl7Qd8PyIOLkufA+wZES9LaiGbofkTwBLgVrJnZY8AU4BdIuJFST8GNoiIkWXn8nxg1hSe
28uKrNFjIRalBlauUnRZlhYRr0g6B/hTSv99RNwKIGkMcJ+kJWSzQh9T99yamVnNFS6ARcS9wL0V
0v+xbP0q4KoK+40DxtUtg2Zm1hCF6MRhZmZWzgHMzMwKyQHMzMwKqdNnYJLOiohTOkvraTwquDVD
S0uzc2BWHJ12o5c0NSJ2L0ubERE71zVnTSQpivbzAjOzZus23eglfZts2KX3S5qR27Qx8EC9M2Zm
ZtaRqjUwSZsCmwFnko1WUYqqr5VGuOipXAMzM1t1ja6BdaUJ8QNkA+a+LWl/YGfgioh4pREZbAZJ
cfrp/qmYNUZLC4wc6dE3rPi6TRNizrXAXimQjQN+B4wnm9qkxxowwF8o1hjuMGS2errSjT4i4l3g
S8D5adzAreubLTMzs451JYC9I+lI4GvAzSltvfplqXYkfVfSTEkzJI2XtL6ksyU9LmmapOvTsz4z
MyuYrgSwrwMfA8ZGxBxJ/wj8ur7ZWnOStgH+jWyE+p2BdYERwO3AhyNiV+AJPB+YmVkhdfoMLCIe
JQsEpfW/kfVMLIJewIaS3gM2BBZExJ257Q8DX25KzszMbI109Duw30bEYZJmsvL0JRERu9Q3a2sm
IhZI+m/gaeAt4Pay4AVZ7XJCwzNnZmZrrKMa2Enp/XMs/w1YSbf/kZSkzYBhZLM2vwr8VtJX0jQr
SBoFvBMR4ysd7xmZzcw61u1nZC7qWIiSDgM+HRHfSOtHAR+NiH+RdAxwPPDPEfF2hWM9I7M1jGdh
tp6i0b8D60onjgMrpBXhN2DzgI9K6iNJwCeBxyQdBIwEDqkUvMzMrBh67FiIETFZ0rXAX4B30/v/
AY8CvYE7srjGgxFxYtMyamZmq6WjZ2DjgVuB/wJOZflzsMUR8VK9M1YLETEaGF2WPKjxOTEzs1qr
GsAi4lVJbwB7RMS8BubJzMysUx0+A0tDSM2SNKBB+TEzM+uSrgzm2xd4VNJk4I2UFhExrH7ZMjMz
61hXAth/pPcgew62L9mQTD2aRwi3RmlpaXYOzIqp09+BAUjaAzgCOByYA1wXEefXOW9N4wktzcxW
XbeZD0zSELKgNQJ4CbiaLOC1NiZrZmZm1VWtgUlaCtwPfCMiZqe0ORExsIH5awrPyGz15BmYrafq
NjUwsgksjwDukXQrqQbWkFx1A56R2erFz1fNaqNqN/qIuDEihgMfBNqAfwe2kHSBpErDS5mZmTVM
p2MhRsTrEXFVRHwe2A6YSjYyR7dQZdblH6cZl6dKul3S1mnfvpLukbRYUo/thGJmtjboymC+y0TE
yxFxUUQcUK8MrYoOZl0+KyJ2jYjdgZuBH6VD3gZ+CHy/Gfk1M7PaWaUA1k2VZl3uxfJZl1/Pbd8I
WAoQEW9GxAPA3xufTTMzq6Wu/JC52+po1mVJY4GjyCazbC0/tJH5NDOz2it0Daxs1uX+wEaSvgIQ
EaMiYnvgKrJmRjMz60EKXQMjm6RyTml6F0nXAx8nC1ol44Hfs/K0Kh2aOHH57oMHtzJkSOua5dTM
rIdpa2ujra2tadcvegBbNusyWQeNTwKTJX0gIp5M+xwCPF52XKe/Zzv44NG1zKeZWY/T2tpKa2vr
svUxY8Y09PqFDmAdzLo8Pg2FtRSYC5xQOkbSXLJZpXtLOgQ4MCJmNTjrZma2hgodwKDqrMuHdrD/
DnXMjpmZNUihO3GYmdnaywHMzMwKyQHMzMwKqfDPwOrFI4ZbvXgGZrPa6NKMzGsbz8hsZrbqGj0f
mJsQzcyskBzAzMyskPwMrIpRo/wMzGqjpQVGjvQM32a15gBWxYAB/sKx2nCHILP6cBOimZkVUt0C
mKRLJLVLmpFL6yvpDklPSJokqSW37TRJsyXNknRgLn2spKclLS47/zmSpqbXXyUtSun759KnSnpL
0rC07QBJUyTNkHSZpHXrVX4zM6uvetbALgUOKks7FbgjIgYDd6V1JO0IDAd2TMf8UlKpK+bvgL3L
Tx4RJ0fE7hGxO3A+cF1KvyeXfgDwJjBJ0jrAZcDwiNiZbCT7o2tYXjMza6C6BbCIuB9YVJY8DLg8
LV8OfCEtHwJMiIglETEXeBIYms4zOSKe7+RyRwITKqQfBtwSEW8DmwPv5KZZuRP4ctdLZGZm3Umj
n4H1i4j2tNwO9EvL/YFncvs9A2zTlRNKGkA2I/PdFTaPYHlgexHoJWnPtH4osF2Xc25mZt1K03oh
RkRI6mi4i64OhTEC+G350BmStgZ2Am7PXW8EcK6k9YFJwHvVTuoZmc3MOra2zcjcLmmriHg+BZiF
KX0BK9aGtk1pXTEcOLFC+uHA9RGxLEhFxEPAvgCpo8igaif1jMxmZh1r9ozMjW5CvInlHSeOBm7M
pY+Q1FvSQLLAMrmzk0n6ILBZCkzljqDsuZikLdL7+sAPgAtXpxBmZtZ89exGPwH4IzBE0nxJxwJn
Ap+S9ARZD8EzASLiMeAa4DHgVuDEUpOgpJ9Kmg/0Sef5Ue4yw6nQeUPSDsA2EXFv2aaRkh4DpgE3
RURbrcprZmaN5dHoK5AU48b5c7HamDfvIsaO9cgu1vN5NHozM7MucAAzM7NCcgAzM7NC8mj0VXgE
cauVlpbO9zGzVedOHBVIKv9dtJmZdcKdOMzMzLrAAczMzArJz8CqGDXKz8CsYy0tMHKkf99l1iwO
YFUMGOAvJuuYO/qYNZebEM3MrJDqORbiJZLaJc3IpfWVdIekJyRNktSS23aapNmSZqWR4kvpe0qa
kbadl0vfV9JfJC2R9OVc+gBJUyRNlTRT0rdy2wZKejid6zeS1qtX+c3MrL7qWQO7FDioLO1U4I6I
GAzcldaRtCPZwLw7pmN+KanUFfMC4LiIGAQMklQ65zyyEe3Hl13jWeCjEbE72azOp0raKm07C/jv
dK5FwHE1KamZmTVc3QJYRNxPFiTyhgGXp+XLgS+k5UOACRGxJCLmAk8CQ9OcYRtHRGlqlStKx0TE
vIiYASwtu+6SiFiSVvuQypgC4v7AtRWub2ZmBdPoZ2D9IqI9LbcD/dJyf+CZ3H7PANtUSF+Q0jsk
aVtJ08lqaWdGxPPA5sArEVEKeF06l5mZdU9N64UYESGpLsNdRMQzwC6pBnejpOsoq6l1ZuLE0cuW
Bw9uZciQ1lpm0cys8Nra2mhra2va9RsdwNolbRURz6fgsjClLwC2y+23LVnNa0FazqcvqHDeioEw
Ip6TNBP4BHAD0CJpnVQLq3YuAA4+eHTXSmRmtpZqbW2ltbV12fqYMWMaev1GNyHeRNbxgvR+Yy59
hKTekgYCg4DJqenvNUlD0zOso3LHlCi9shVpG0l90vJmZMHrr2lww3uAwypc38zMCqae3egnAH8E
hkiaL+lY4EzgU5KeAA5I60TEY8A1wGPArcCJudF0TwR+BcwGnoyI29L5PyJpPnAoMC7XXX9H4CFJ
jwBtwNkR8WjadgpwsqTZwGbAxfUqv5mZ1ZdHo69AUowb58/FOjZv3kWMHesRW8xKPBq9mZlZFziA
mZlZIXkw3yo8UKt1xjMtmzWXn4FV4BmZzcxWnZ+BmZmZdYEDmJmZFZKfgVXhGZmtnGdgNuteHMCq
8IzMVs4de8y6FzchmplZIRU+gEk6Kc3YPFPSSSnt6jQj81RJcyRNze2/i6QH0/7TJa3fvNybmdnq
KnQToqSdgG8AHwGWALdJujkihuf2+RnwSlruBVwJfDUiZqTBfpesfGYzM+vuil4D+yDwcES8HRHv
AfcCXyptTCPYHw5MSEkHAtPTTM5ExKLcBJdmZlYgRQ9gM4F9JPWVtCHwOVacP2wfoD0inkrrg4CQ
dJukKZJGNji/ZmZWI4VuQoyIWZLOAiYBbwBTWXHm5SOA8bn19cjmB9sLeAu4S9KUiLi7QVk2M7Ma
KXQAA4iIS4BLACT9BHg6LfcCvgjskdt9PnBfRLyc9rklbV8pgE2cOHrZ8uDBrQwZ0lqX/JuZFVVb
WxttbW1Nu37hx0KUtGVELJS0PXA7MDQiXpN0EHBKROyf27cFuIusFraEbPLMcyLi1rJzej4wW4nn
/zLrWKPHQix8DQy4VtLmZAHpxIh4LaUPZ3nnDQAi4hVJ5wB/AgL4fXnwMjOzYih8AIuIfaukH1sl
/SrgqrpmyszM6q7ovRDNzGwt5QBmZmaF5ABmZmaFVPhnYPXikcetXEtLs3NgZnmF70ZfD5LCn4uZ
2appdDd6NyGamVkhOYCZmVkhOYCZmVkhOYCZmVkhOYCZmVkhOYCZmVkhOYCZmVkhOYCZmVkhOYCZ
mVkhOYB2BnIfAAAHfElEQVSZmVkhOYCZmVkhOYCZmVkhOYCZmVkhOYCZmVkhOYCZmVkhOYCZmVkh
OYCZmVkhOYCZmVkhOYCZmVkhOYCZmVkhOYCZmVkhOYCZmVkhOYCZmVkhOYCZmVkhOYCthdra2pqd
hbrqyeXryWUDl89WjQPYWqin/yfqyeXryWUDl89WjQOYmZkVkgOYmZkVkiKi2XnodiT5QzEzWw0R
oUZdywHMzMwKyU2IZmZWSA5gZmZWSA5gZSQdJGmWpNmSTml2fspJmitpuqSpkiantL6S7pD0hKRJ
klpy+5+WyjJL0oG59D0lzUjbzsulry/p6pT+kKQBuW1Hp2s8IelrNSjLJZLaJc3IpTW1LJIGSno4
HfMbSevVuHyjJT2T7t9USZ8pcPm2k3SPpEclzZT0nZRe+HvYQdl6xP2TtEE6zyOpfKNTerHuXUT4
lV7AusCTwA7AesAjwIeana+yPM4B+pal/RT4QVo+BTgzLe+YyrBeKtOTLH/uORnYOy3fAhyUlk8E
fpmWhwO/Sct9gaeAlvR6CmhZw7LsA+wOzOgGZdk0bbsGODwtXwCcUOPynQGcXGHfIpZvK2C3tLwR
8FfgQz3hHnZQtp50/zZM772Ah4ChRbt3Tf9C7k4v4GPAbbn1U4FTm52vsjzOATYvS5sF9EvLWwGz
0vJpwCm5/W4DPgpsDTyeSx8BXJjbZ2ha7gW8kJaPAC7IHXMhMKIG5dmBFb/gm1YWQMALwDop/aP5
fw81Kt8ZwPcq7FfI8pWV4Ubgkz3tHpaVrcfdP2BDYAqwd9HunZsQV7QNMD+3/kxK604CuFPSnyUd
n9L6RUR7Wm4H+qXl/mRlKCmVpzx9AcvLuewziIh3gVclbd7BuWqtmWXpC7wSEUsrnKuW/k3SNEkX
55poCl0+STuQ1TYfpofdw1zZHkpJPeL+SVpH0iNk92hSREymYPfOAWxF0ewMdME/RcTuwGeAf5G0
T35jZH+6FKEcnWpwWRp1nQuAgcBuwHPAfzfounUrn6SNgOuAkyJi8QoXLfg9TGW7lqxsr9OD7l9E
LI2I3YBtgaGSdirb3u3vnQPYihYA2+XWt2PFvxSaLiKeS+8vADeQVfvbJW0FIGlrYGHavbw825KV
Z0FaLk8vHbN9Olcvsrbplyqcq16fTbPKsgB4GWiRtE7uXAtqU6xMRCyMBPgV2f0r5bVw5UsP2a8D
royIG1Nyj7iHubL9ulS2nnb/UpleBe4BPk3R7t2atp/2pBdZO+1TZM8tetPNOnGQtVVvnJb/AXgA
OJDswespKf1UVn7w2pvsr8anWP7g9WGyh7Zi5QevF8Ty9uz8g9e/kT103ay0XIMy7cDKnTiaVhay
h8jD0/KFrMFD8irl2zq3/F1gfFHLl/JzBXBuWXrh72EHZesR9w94X+6cfYD7gM8W7d41/Uu5u73I
mub+StbL5rRm56csbwPTP6JHgJml/KV/EHcCTwCTyAUW4PRUllnAp3PpewIz0rZf5NLXT/+IZpO1
+e+Q23ZsSp8NHF2D8kwAngXeIWsrP7bZZUmf8cMp/WpgvRqW7+tkX4rTgWlkHQP6Fbh8nwCWpn+P
U9ProJ5wD6uU7TM95f4BOwN/SeWYAfywO3yXrGr5PJSUmZkVkp+BmZlZITmAmZlZITmAmZlZITmA
mZlZITmAmZlZITmAmZlZITmAmdWIpPfSFBszJF0jqU9Kf71G598qTTHxZBoL8/eSBtXi3Llr7Cfp
Y7U8p1m9OICZ1c6bEbF7ROxM9uPlE1L6Gv/YUpLIhg67OyI+EBF7kY0Q3q/jI1fZ/sDHa3xOs7pw
ADOrjz8A788nSNpI0p2SpiiblHRYSh8j6aTcfmOVJlDM2R94JyIuKiVExPSI+EM65uxU85su6fCU
1ippYu68/yPp6LQ8V9nkjKW8DEmjrn8L+G6qSX6ihp+HWc31anYGzHqaNHDpZ8jGhct7C/hiRCyW
9D7gQeAm4BLgeuC8NJDpcOAjZcfuRDZnU6XrfRnYFdgF2AL4k6T7KuyaH108yOZn2lPSt4HvR8Tx
ki4EFkfEOatUaLMmcAAzq50+kqam5fuAi8u2rwP8V5oCZynQX9KWETFP0kuSdiObRPAvEbGo7NiO
miH/iWxQ2QAWSrqXLAC+1kl+r0/vfwG+lEtXJ8eZdQsOYGa181Zkc7VV8xWyUcD3iIj3JM0BNkjb
fkU2wGk/shpZuUeBQzs4d3nQCeBdVnxM0Kdsn7+n9/fwd4EVkJ+BmTXOJsDCFLz2Bwbktt1ANpL7
XsDt5QdGxN3A+rlZuJG0S3pOdT8wPM2wuwWwLzAZeBrYUVLvNHPwAV3I42Jg49Urnllj+a8us9qp
1sxXSr8KmChpOvBn4PFlO0QskXQ3sCiqTxHxReDnkk4B3gbmAP8eEX9IXd+npWuNjIiFAJKuIZt6
Zw5ZU2G1/JWuORG4VtIhwL9GxAOdFdqsWTydilk3kDpvTAEOjYinmp0fsyJwE6JZk0nakWwCvzsd
vMy6zjUwMzMrJNfAzMyskBzAzMyskBzAzMyskBzAzMyskBzAzMyskBzAzMyskP4/U5h8SEjnYj8A
AAAASUVORK5CYII=
"
>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[32]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">pdf</span> <span class="c1"># sortedArtist after fixing the mispelledIDs</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[32]:</div>

<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
      <th>1</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>979</td>
      <td>2502596</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1000113</td>
      <td>2259825</td>
    </tr>
    <tr>
      <th>2</th>
      <td>4267</td>
      <td>1931143</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1000024</td>
      <td>1543430</td>
    </tr>
    <tr>
      <th>4</th>
      <td>4468</td>
      <td>1426254</td>
    </tr>
    <tr>
      <th>5</th>
      <td>82</td>
      <td>1399665</td>
    </tr>
    <tr>
      <th>6</th>
      <td>831</td>
      <td>1361977</td>
    </tr>
    <tr>
      <th>7</th>
      <td>1001779</td>
      <td>1328969</td>
    </tr>
    <tr>
      <th>8</th>
      <td>1000130</td>
      <td>1234773</td>
    </tr>
    <tr>
      <th>9</th>
      <td>976</td>
      <td>1203348</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[35]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">sortedArtist</span> <span class="c1"># sortedArtist before fixing the mispelledIDs</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[35]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>[Row(artistID=979, sum(playCount)=2502130),
 Row(artistID=1000113, sum(playCount)=2259185),
 Row(artistID=4267, sum(playCount)=1930592),
 Row(artistID=1000024, sum(playCount)=1542806),
 Row(artistID=4468, sum(playCount)=1425942),
 Row(artistID=82, sum(playCount)=1399418),
 Row(artistID=831, sum(playCount)=1361392),
 Row(artistID=1001779, sum(playCount)=1328869),
 Row(artistID=1000130, sum(playCount)=1234387),
 Row(artistID=976, sum(playCount)=1203226)]</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Observation-:">Observation :<a class="anchor-link" href="#Observation-:">&#182;</a></h3><p>Each artist has gained play counts, some mispelledID have been connected to each of these top-10 artists, thus these artists have gained the play counts associated.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span class="c1"># calculate top-10 artists in term of audience size</span>
<span class="n">top10ArtistsUC</span> <span class="o">=</span> <span class="p">(</span><span class="n">newUserArtistDF</span><span class="o">.</span><span class="n">dropDuplicates</span><span class="p">([</span><span class="s1">&#39;userID&#39;</span><span class="p">,</span> <span class="s1">&#39;artistID&#39;</span><span class="p">])</span>
                      <span class="o">.</span><span class="n">groupBy</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
                      <span class="o">.</span><span class="n">count</span><span class="p">()</span>
                      <span class="o">.</span><span class="n">orderBy</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span> <span class="o">...</span><span class="p">)</span>
                      <span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
                  <span class="p">)</span>

<span class="n">y_pos</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">top10ArtistsUC</span><span class="p">))</span>
<span class="n">pdf</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">top10ArtistsUC</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">barh</span> <span class="o">...</span>
<span class="o">...</span>
<span class="o">...</span>
<span class="o">...</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[36]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="c1"># calculate top-10 artists in term of audience size</span>
<span class="n">top10ArtistsUC</span> <span class="o">=</span> <span class="p">(</span><span class="n">newUserArtistDF</span><span class="o">.</span><span class="n">dropDuplicates</span><span class="p">([</span><span class="s1">&#39;userID&#39;</span><span class="p">,</span> <span class="s1">&#39;artistID&#39;</span><span class="p">])</span>
                      <span class="o">.</span><span class="n">groupBy</span><span class="p">(</span><span class="s2">&quot;artistID&quot;</span><span class="p">)</span>
                      <span class="o">.</span><span class="n">count</span><span class="p">()</span>
                      <span class="o">.</span><span class="n">orderBy</span><span class="p">(</span><span class="s2">&quot;count&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
                      <span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
                  <span class="p">)</span>

<span class="n">y_pos</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">top10ArtistsUC</span><span class="p">))</span>
<span class="n">pdf</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">top10ArtistsUC</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">barh</span><span class="p">(</span><span class="n">y_pos</span><span class="p">,</span> <span class="n">pdf</span><span class="p">[</span><span class="mi">1</span><span class="p">][::</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">align</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.4</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="n">pdf</span><span class="p">[</span><span class="mi">0</span><span class="p">][::</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;User Count&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Artist&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Top-10 Artist ID per audience size&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
NcWjv0bwBJpmteWsvtZVTTk8vd6c4dfMrPNaeni6mZm1LgcqMzMrNL+jqsIZfs26xxl9rVYcqKpw
hl+z7vGAJKsVP/ozM7NCq1ugknSxpPmSpuXK+kuaIOlRSeNz8/ftlcu6O0XSpyqc7/r8uVLZ4ZIe
Sll/r0hlgyXdn841XdKXc/v/XtITuWvtVK/7NzOz2qhnj+oSYP+yshHAhIjYhmxm8xGpfBqwe0Ts
mo4ZnfJPASDpUGARELmyrdPx74+IHYCT0qZ5wHvTufYGRkjaJG0L4NsRsWv6TK3d7ZqZWT3ULVBF
xJ3AwrLig4BL0/KlwKfSvq+nfFMAa5Iy9QJIWhv4Btncffnx+SeQJVB8KZ3jufRzcS5J4hqseI81
H+NvZmb109PvqAZExPy0PB8YUNqQHv89BDwIfCUXuH4AnAe8xvK2BraVdJekeyR9LHeuQZKmArOA
cyLimdxxP5L0oKSfSepb29szM7Naa9hgijT1Q+TWJ0XE9sCewGmSVpe0C/DOiPgLK/aE+gBbAUPJ
8kv9NmX/JSLmRMROafuxkjZOx5yaHjvuCfQHTqnfHZqZWS309PD0+ZI2iYhnJG0KLCjfISJmSHoF
2IEsoOwh6clU140l3RERHwLmAPdGxBJgpqRHyQLT/blzPS1pOrAPcE2pZxURb0q6BPh2tYo6Fb2Z
Wft6RSp6SUOAG3Lp4X8MPB8R50oaAfSLiBFpvzkR8ZakwcDdwI4R8ULuXIOBG3Pn+hhwZEQcK2lD
4AFgZ7J3XC9ExOuS1gf+CRwaEQ9J2jQFLwHnk6WzP61CvZ2K3qybnHq+9dRrrr+69agkjSV7LLeh
pKeA7wHnAFdLOp4sI+/hafcPko3OW0w2kOKr+SBVOiXLPyq8VdKw9F5rCdlovoWSdgd+KinSMT+J
iIfSYX+QtFEqnwysEKTMzKxYPHt6Be5RmXWfe1Stx7Onm5lZS3KgMjOzQnOgMjOzQvPs6VV45mez
7nHqeasVD6aowKnozcw6z4MpzMysJTlQmZlZoTlQmZlZoTlQmZlZoTlQmZlZoTlQmZlZoTlQmZlZ
oTlQmZlZoTlQmZlZoTlQmZlZoTlQmZlZoTlQmZlZoTlQmZlZoTlQmZlZoTlQmZlZoTlQmZlZoTlQ
mZlZoTlQmZlZoTlQmZlZoTlQmZlZoTlQmZlZoTlQmZlZoTlQmZlZoTlQmZlZoTlQWbsmTpzY6CoU
httiGbfFMm6L+nOgsnb5f8Jl3BbLuC2WcVvUnwOVmZkVmgOVmZkVmiKi0XUoHEluFDOzLogI1fqc
DlRmZlbigwboAAAGL0lEQVRofvRnZmaF5kBlZmaF5kBVRtL+kmZIekzSKY2uTy1IuljSfEnTcmX9
JU2Q9Kik8ZL65badmu5/hqRhufLdJU1L2y7Ila8u6apU/k9Jg3vu7jpH0uaS/irpIUnTJX09lbdc
e0h6h6R7JU1JbTEylbdcW5RIWlXSZEk3pPWWbAtJMyVNTW0xKZU1ri0iwp/0AVYFHgeGAKsBU4D3
NLpeNbivfYBdgWm5sh8D30nLpwDnpOXt0n2vltrhcZa9y5wE7JWWbwb2T8snAr9Oy0cAVzb6nttp
i02AXdLy2sC/gfe0cHusmX72Af4J7N2qbZHq+E3gCuD6tN6SbQE8CfQvK2tYWzS8QYr0Ad4HjMut
jwBGNLpeNbq3ISwfqGYAA9LyJsCMtHwqcEpuv3HAe4FNgUdy5cOBC3P77J2W+wDPNvp+O9Eu1wEf
afX2ANYE7gf2atW2AAYBtwH7ATekslZtiyeBDcrKGtYWfvS3vIHAU7n1OamsNxoQEfPT8nxgQFre
jOy+S0ptUF4+l2Vt83a7RcRbwEuS+tep3jUjaQhZT/NeWrQ9JK0iaQrZPY+PiEm0aFsA5wMnA0tz
Za3aFgHcJuk+SSeksoa1RZ9u3Ehv1JJj9SMiWu27Y5LWBq4BToqIRdKyr360UntExFJgF0nrAddK
2qFse0u0haQDgAURMVlSW6V9WqUtkg9ExNOSNgImSJqR39jTbeEe1fLmApvn1jdn+b8IepP5kjYB
kLQpsCCVl7fBILI2mJuWy8tLx2yRztUHWC8iXqhf1btH0mpkQeryiLguFbdsewBExEvAX4GP0Zpt
8X7gIElPAmOBD0m6nNZsCyLi6fTzWeBaskfCDWsLB6rl3QdsLWmIpL5kL/mub3Cd6uV64Ji0fAzZ
u5pS+XBJfSVtCWwNTIqIZ4CXJe2trPtxNPCXCuf6DHB7T9xAV6S6/w54OCJ+ntvUcu0hacPSyC1J
awAfBR6hBdsiIk6LiM0jYkuydyl3RMTRtGBbSFpT0jppeS1gGDCNRrZFo1/aFe0DfJxsJNjjwKmN
rk+N7mksMA94k+y58BeA/mQvjh8FxgP9cvuflu5/BvCxXPnu6T/Yx4Ff5MpXB64GHiMbOTak0ffc
Tlt8kOwdxBRgcvrs34rtAewIPAA8mO7ju6m85dqirF2GsmzUX8u1BbBl+v9jCjC99HuwkW3hKZTM
zKzQ/OjPzMwKzYHKzMwKzYHKzMwKzYHKzMwKzYHKzMwKzYHKzMwKzYHKrJvSF8SnlZWNlPStOlxr
E0lXSno8zcN2k6Sta3yNoZLeV8tzmnWHA5VZfXT7C4ppapn8usims7kjIraKiD3IZq4eUOn4btiP
bEohs0JwoDKrM0lfV5ao8UFJY1PZWsoSWt4r6QFJB6XyYyVdL+l2YELZqfYD3oyIi0oFETE1Iu5K
x/4kJambKunwVNamlAQwrf9K0jFpeWbq+d2fjtk2zSj/ZeAbypLmfbBuDWPWQZ493ax+Sr2qU8im
iFksad1Udjpwe0Qcl+bbu1fSbWnbrsCOEfFi2fl2IMsZtQJJnwZ2BnYCNgL+JenvVeoUueVnI2J3
SV8Fvh0RJ0i6EFgUET/r9B2b1YF7VGbdV+0xX6l8KjBG0meBJalsGDBC0mSyWctXJ5tNOoAJFYJU
e9cB+AAwJjILgL8Be67kGIA/p58PkCXXLNGKu5o1hgOVWfc9D6xfVrYB8Fxa/iTwP8BuZD2dVVP5
oRGxa/oMiYhSzp9Xq1znIbJJPqspDy4BvMXy/5+vUbbP/6WfS/ATFisoByqzboqIV4CnJe0HkDKV
fgy4Kw2A2CIiJgIjgPWAtYFbga+XziFp19JiO9e5A1g9l3EVSTul90h3Akcoy9i7EbAvMAmYDWyX
UjD0Az7UgVtaBKzToZs36wEOVGa18XngjPQo73ZgZEQ8SdZLuVzSVLLHaxdElqTwB8BqaRDDdGBU
Ok/+HVIlhwAfScPTpwNnAU9HxLVkjxgfTNc/OSIWRMRTZOkUpgNXpTpUkr/uDcAhaTDFBzrfFGa1
5TQfZmZWaO5RmZlZoTlQmZlZoTlQmZlZoTlQmZlZoTlQmZlZoTlQmZlZoTlQmZlZoTlQmZlZof1/
RNebJda2WsoAAAAASUVORK5CYII=
"
>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[38]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">pdf</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[38]:</div>

<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
      <th>1</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>979</td>
      <td>45630</td>
    </tr>
    <tr>
      <th>1</th>
      <td>4267</td>
      <td>43883</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1000113</td>
      <td>40919</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1177</td>
      <td>38497</td>
    </tr>
    <tr>
      <th>4</th>
      <td>976</td>
      <td>36823</td>
    </tr>
    <tr>
      <th>5</th>
      <td>1274</td>
      <td>36036</td>
    </tr>
    <tr>
      <th>6</th>
      <td>1205</td>
      <td>34853</td>
    </tr>
    <tr>
      <th>7</th>
      <td>1000024</td>
      <td>32337</td>
    </tr>
    <tr>
      <th>8</th>
      <td>3327</td>
      <td>31951</td>
    </tr>
    <tr>
      <th>9</th>
      <td>1034635</td>
      <td>31324</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[37]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="c1"># calculate top-10 artists in term of audience size</span>
<span class="n">plt</span><span class="o">.</span><span class="n">barh</span><span class="p">(</span><span class="n">y_pos</span><span class="p">,</span> <span class="n">pdf</span><span class="p">[</span><span class="mi">1</span><span class="p">][::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">/</span><span class="n">uniqueUsers</span><span class="o">*</span><span class="mi">100</span><span class="p">,</span> <span class="n">align</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.4</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="n">pdf</span><span class="p">[</span><span class="mi">0</span><span class="p">][::</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Percentage of User Count&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Artist&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Top-10 Artist ID per audience size&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
iIhG/H9yJisrP61dSAAAAABJRU5ErkJggg==
"
>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><div style='border-radius: 15px; background: rgb(224,239,130);padding:10px;'/></p>
<h4 id="Question-5.3">Question 5.3<a class="anchor-link" href="#Question-5.3">&#182;</a></h4><p>Who are the top-10 users?</p>
<ul>
<li>In terms of absolute play counts</li>
<li>In terms of "curiosity", that is, how many different artists they listened to</li>
</ul>
<p>Plot the results</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span class="c1"># calculate top 10 users interm of play counts</span>
<span class="n">top10UsersByPlayCount</span> <span class="o">=</span> <span class="n">newUserArtistDF</span><span class="o">.</span> <span class="o">...</span>

<span class="n">y_pos</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">top10UsersByPlayCount</span><span class="p">))</span>
<span class="n">pdf</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">top10UsersByPlayCount</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">barh</span><span class="p">(</span><span class="n">y_pos</span><span class="p">,</span> <span class="n">pdf</span><span class="p">[</span><span class="mi">1</span><span class="p">][::</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">align</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.4</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">y_pos</span><span class="p">,</span> <span class="n">pdf</span><span class="p">[</span><span class="mi">0</span><span class="p">][::</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Play Count&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;User&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Top-10 Users ID per play counts&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[36]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="c1"># calculate top 10 users interm of play counts</span>
<span class="n">top10UsersByPlayCount</span> <span class="o">=</span> <span class="n">newUserArtistDF</span><span class="o">.</span><span class="n">groupBy</span><span class="p">(</span><span class="s2">&quot;userID&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="s2">&quot;playCount&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">orderBy</span><span class="p">(</span><span class="s1">&#39;sum(playCount)&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

<span class="n">y_pos</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">top10UsersByPlayCount</span><span class="p">))</span>
<span class="n">pdf</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">top10UsersByPlayCount</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">barh</span><span class="p">(</span><span class="n">y_pos</span><span class="p">,</span> <span class="n">pdf</span><span class="p">[</span><span class="mi">1</span><span class="p">][::</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">align</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.4</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="n">pdf</span><span class="p">[</span><span class="mi">0</span><span class="p">][::</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Play Count&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;User&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Top-10 Users ID per play counts&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[37]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">pdf</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[37]:</div>

<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
      <th>1</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1059637</td>
      <td>674412</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2064012</td>
      <td>548427</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2069337</td>
      <td>393515</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2023977</td>
      <td>285978</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1046559</td>
      <td>183972</td>
    </tr>
    <tr>
      <th>5</th>
      <td>1052461</td>
      <td>175822</td>
    </tr>
    <tr>
      <th>6</th>
      <td>1070932</td>
      <td>168977</td>
    </tr>
    <tr>
      <th>7</th>
      <td>1031009</td>
      <td>167273</td>
    </tr>
    <tr>
      <th>8</th>
      <td>2020513</td>
      <td>165642</td>
    </tr>
    <tr>
      <th>9</th>
      <td>2062243</td>
      <td>151504</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span class="c1"># calculate top 10 users interm of curiosity</span>
<span class="n">top10UsersByCuriosity</span> <span class="o">=</span> <span class="p">(</span>
                            <span class="o">...</span>
                            <span class="o">...</span>
                            <span class="o">...</span>
                         <span class="p">)</span>

<span class="n">y_pos</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span> <span class="o">...</span> <span class="p">)</span>
<span class="n">pdf</span> <span class="o">=</span> <span class="o">...</span>

<span class="n">plt</span><span class="o">.</span><span class="n">barh</span><span class="p">(</span> <span class="o">...</span> <span class="p">)</span>
<span class="o">...</span>
<span class="o">...</span>
<span class="o">...</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[38]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="c1"># calculate top 10 users interm of curiosity</span>
<span class="n">top10UsersByCuriosity</span> <span class="o">=</span> <span class="p">(</span><span class="n">newUserArtistDF</span><span class="o">.</span><span class="n">dropDuplicates</span><span class="p">([</span><span class="s1">&#39;userID&#39;</span><span class="p">,</span> <span class="s1">&#39;artistID&#39;</span><span class="p">])</span>
                          <span class="o">.</span><span class="n">groupBy</span><span class="p">(</span><span class="s2">&quot;userID&quot;</span><span class="p">)</span>
                          <span class="o">.</span><span class="n">count</span><span class="p">()</span>
                          <span class="o">.</span><span class="n">orderBy</span><span class="p">(</span><span class="s2">&quot;count&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
                          <span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
                         <span class="p">)</span>

<span class="n">y_pos</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">top10UsersByCuriosity</span><span class="p">))</span>
<span class="n">pdf</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">top10UsersByCuriosity</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">barh</span><span class="p">(</span><span class="n">y_pos</span><span class="p">,</span> <span class="n">pdf</span><span class="p">[</span><span class="mi">1</span><span class="p">][::</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">align</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.4</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="n">pdf</span><span class="p">[</span><span class="mi">0</span><span class="p">][::</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Artist count&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;user&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Top-10 User ID per curiosity&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[39]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">pdf</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[39]:</div>

<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
      <th>1</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2030067</td>
      <td>6735</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1024631</td>
      <td>6125</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1059334</td>
      <td>5839</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2016026</td>
      <td>5773</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2023686</td>
      <td>4822</td>
    </tr>
    <tr>
      <th>5</th>
      <td>1045464</td>
      <td>4734</td>
    </tr>
    <tr>
      <th>6</th>
      <td>1004584</td>
      <td>4690</td>
    </tr>
    <tr>
      <th>7</th>
      <td>2010008</td>
      <td>4411</td>
    </tr>
    <tr>
      <th>8</th>
      <td>2232770</td>
      <td>4090</td>
    </tr>
    <tr>
      <th>9</th>
      <td>1006093</td>
      <td>4005</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now we have some valuable information about the data. It's the time to study how to build a statistical models.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="2.-Build-a-statistical-models-to-make-recommendations">2. Build a statistical models to make recommendations<a class="anchor-link" href="#2.-Build-a-statistical-models-to-make-recommendations">&#182;</a></h1><h2 id="2.1-Introduction-to-recommender-systems">2.1 Introduction to recommender systems<a class="anchor-link" href="#2.1-Introduction-to-recommender-systems">&#182;</a></h2><p>In a recommendation-system application there are two classes of entities, which we shall refer to as <code>users</code> and <code>items</code>. Users have preferences for certain items, and these preferences must be inferred from the data. The data itself is represented as a <code>preference matrix</code> $A$, giving for each user-item pair, a value that represents what is known about the degree of preference of that user for that item. The table below is an example for a <code>preference matrix</code> of 5 users and <code>k</code> items. The <code>preference matrix</code> is also known as <code>utility matrix</code>.</p>
<table>
<thead><tr>
<th></th>
<th>IT1</th>
<th>IT2</th>
<th>IT3</th>
<th>...</th>
<th>ITk</th>
</tr>
</thead>
<tbody>
<tr>
<td>U1</td>
<td>1</td>
<td></td>
<td>5</td>
<td>...</td>
<td>3</td>
</tr>
<tr>
<td>U2</td>
<td></td>
<td>2</td>
<td></td>
<td>...</td>
<td>2</td>
</tr>
<tr>
<td>U3</td>
<td>5</td>
<td></td>
<td>3</td>
<td>...</td>
<td></td>
</tr>
<tr>
<td>U4</td>
<td>3</td>
<td>3</td>
<td></td>
<td>...</td>
<td>4</td>
</tr>
<tr>
<td>U5</td>
<td></td>
<td>1</td>
<td></td>
<td>...</td>
</tr>
</tbody>
</table>
<p>The value of row i, column j expresses how much does user <code>i</code> like item <code>j</code>. The values are often the rating scores of users for items. An unknown value implies that we have no explicit information about the user's preference for the item. The goal of a recommendation system is to predict "the blanks" in the <code>preference matrix</code>. For example, assume that the rating score is from 1 (dislike) to 5 (love), would user <code>U5</code> like <code>IT3</code> ? We have two approaches:</p>
<ul>
<li><p>Designing our recommendation system to take into account properties of items such as brand, category, price... or even the similarity of their names. We can denote the similarity of items <code>IT2</code> and <code>IT3</code>, and then conclude that because user <code>U5</code> did not like <code>IT2</code>, they were unlikely to enjoy SW2 either.</p>
</li>
<li><p>We might observe that the people who rated both <code>IT2</code> and <code>IT3</code> tended to give them similar ratings. Thus, we could conclude that user <code>U5</code> would also give <code>IT3</code> a low rating, similar to <code>U5</code>'s rating of <code>IT2</code></p>
</li>
</ul>
<p>It is not necessary to predict every blank entry in a <code>utility matrix</code>. Rather, it is only necessary to discover some entries in each row that are likely to be high. In most applications, the recommendation system does not oer users a ranking of all items, but rather suggests a few that the user should value highly. It may not even be necessary to nd all items with the highest expected ratings, but only to nd a large subset of those with the highest ratings.</p>
<h2 id="2.2-Families-of-recommender-systems">2.2 Families of recommender systems<a class="anchor-link" href="#2.2-Families-of-recommender-systems">&#182;</a></h2><p>In general, recommender systems can be categorized into two groups:</p>
<ul>
<li><p><strong>Content-Based</strong> systems focus on properties of items. Similarity of items is determined by measuring the similarity in their properties.</p>
</li>
<li><p><strong>Collaborative-Filtering</strong> systems focus on the relationship between users and items. Similarity of items is determined by the similarity of the ratings of those items by the users who have rated both items.</p>
</li>
</ul>
<p>In the usecase of this notebook, artists take the role of <code>items</code>, and <code>users</code> keep the same role as <code>users</code>.
Since we have no information about <code>artists</code>, except their names, we cannot build a <code>content-based</code> recommender system.</p>
<p>Therefore, in the rest of this notebook, we only focus on <code>Collaborative-Filtering</code> algorithms.</p>
<h2 id="2.3-Collaborative-Filtering">2.3 Collaborative-Filtering<a class="anchor-link" href="#2.3-Collaborative-Filtering">&#182;</a></h2><p>In this section, we study a member of a broad class of algorithms called <code>latent-factor</code> models. They try to explain observed interactions between large numbers of users and products through a relatively small number of unobserved, underlying reasons. It is analogous to explaining why millions of people buy a particular few of thousands of possible albums by describing users and albums in terms of tastes for perhaps tens of genres, tastes which are <strong>not directly observable or given</strong> as data.</p>
<p>First, we formulate the learning problem as a matrix completion problem. Then, we will use a type of <code>matrix factorization</code> model to "fill in" the blanks.  We are given implicit ratings that users have given certain items (that is, the number of times they played a particular artist) and our goal is to predict their ratings for the rest of the items. Formally, if there are $n$ users and $m$ items, we are given an $n \times m$ matrix $R$ in which the generic entry $(u, i)$ represents the rating for item $i$ by user $u$. <strong>Matrix $R$ has many missing entries indicating unobserved ratings, and our task is to estimate these unobserved ratings</strong>.</p>
<p>A popular approach to the matrix completion problem is <strong>matrix factorization</strong>, where we want to "summarize" users and items with their <strong>latent factors</strong>.</p>
<h3 id="2.3.1-Basic-idea-and-an-example-of-Matrix-Factorization">2.3.1 Basic idea and an example of Matrix Factorization<a class="anchor-link" href="#2.3.1-Basic-idea-and-an-example-of-Matrix-Factorization">&#182;</a></h3><p>For example, given a preference matrix 5x5 as below, we want to approximate this matrix into the product of two smaller matrixes $X$ and $Y$ .</p>
$$
M = 
\begin{bmatrix}
 5 & 2 & 4 & 4 & 3 \\
 3 & 1 & 2 & 4 & 1 \\
 2 &  & 3 & 1 & 4 \\
 2 & 5 & 4 & 3 & 5 \\
 4 & 4 & 5 & 4 &  \\
\end{bmatrix}
\approx M^\prime =
\begin{bmatrix}
 x_{11} & x_{12} \\
 x_{21} & x_{22} \\
 x_{31} & x_{32} \\
 x_{41} & x_{42} \\
 x_{51} & x_{52} \\
\end{bmatrix}
\times
\begin{bmatrix}
 y_{11} & y_{12} & y_{13} & y_{14} & y_{15} \\
 y_{21} & y_{22} & y_{23} & y_{24} & y_{25} \\
\end{bmatrix}
$$<p>$M^\prime$ is an approximation that is as close to A as possible. To calculate how far from $M$ $M^\prime$ is, we often calculate the sum of squared distances of non-empty elements in $M$ and the corresponding elements in $M^\prime$.
In this way, for $M^\prime$, besides the approximated elements in $M$, we also have the non-observed elements. Therefore, to see how much does user <code>i</code> like item <code>j</code>, we simply pick up the value of $M^\prime_{i,j}$.</p>
<p>The challenge is how to calculate $X$ and $Y$. The bad news is that this can't be solved directly for both the best $X$ and best $Y$ at the same time. Fortunately, if $Y$ is known, we can calculate the best of $X$, and vice versa. It means from the initial values of $X$ and $Y$ in the beginning, we calculate best $X$ according to $Y$, and then calculate the best $Y$ according to the new $X$. This process is repeated until the distance from $XY$ to $M$ is converged. It's simple, right ?</p>
<p>Let's take an example. To compute the approximation for the above 5x5 matrix $M$, first, we init the value of $X$ and $Y$ as below.</p>
$$
M^\prime = X \times Y =
\begin{bmatrix}
 1 & 1 \\
 1 & 1 \\
 1 & 1 \\
 1 & 1 \\
 1 & 1 \\
\end{bmatrix}
\times
\begin{bmatrix}
 1 & 1 & 1 & 1 & 1 \\
 1 & 1 & 1 & 1 & 1 \\
\end{bmatrix}
=
\begin{bmatrix}
 2 & 2 & 2 & 2 & 2 \\
 2 & 2 & 2 & 2 & 2 \\
 2 & 2 & 2 & 2 & 2 \\
 2 & 2 & 2 & 2 & 2 \\
 2 & 2 & 2 & 2 & 2 \\
\end{bmatrix}
$$<p>With the initial iteration, we calculate the the Root-Mean-Square Error from $XY$ to $M$.</p>
<p>Consider the rst rows of $M$ and $XY$ . We subtract the first row from $XY$ from the entries in the rst row of $M$, to get $3,0,2,2,1$. We square and sum these to get $18$.</p>
<p>In the second row, we do the same to get $1,1,0,2,1$, square and sum to get $7$.</p>
<p>In the third row, the second column is blank, so that entry is ignored when computing the RMSE. The dierences are $0,1,1,2$ and the sum of squares is $6$.</p>
<p>For the fourth row, the dierences are $0,3,2,1,3$ and the sum of squares is $23$.</p>
<p>The fth row has a blank entry in the last column, so the dierences are $2,2,3,2$ and the sum of squares is $21$.</p>
<p>When we sum the sums from each of the ve rows, we get $18+7+6+23+21 = 75$. So, $RMSE=\sqrt{75/23}=1.806$ where $23$ is the number of non-empty values in $M$.</p>
<p>Next, with the given value of $Y$, we calculate $X$ by finding the best value for $X_{11}$.</p>
$$
M^\prime = X \times Y =
\begin{bmatrix}
 x & 1 \\
 1 & 1 \\
 1 & 1 \\
 1 & 1 \\
 1 & 1 \\
\end{bmatrix}
\times
\begin{bmatrix}
 1 & 1 & 1 & 1 & 1 \\
 1 & 1 & 1 & 1 & 1 \\
\end{bmatrix}
=
\begin{bmatrix}
 x+1 & x+1 & x+1 & x+1 & x+1 \\
 2 & 2 & 2 & 2 & 2 \\
 2 & 2 & 2 & 2 & 2 \\
 2 & 2 & 2 & 2 & 2 \\
 2 & 2 & 2 & 2 & 2 \\
\end{bmatrix}
$$<p>Now, to minimize the $RMSE$  we minimize the difference of the first rows $(5(x+1))^2 + (2(x+1))^2 + (4(x+1))^2 + (4(x+1))^2 + (3(x+1))^2$. By  taking the derivative and set that equal to 0, we pick $x=2.6$</p>
<p>Given the new value of $X$, we can calculate the best value for $Y$.</p>
$$
M^\prime = X \times Y =
\begin{bmatrix}
 2.6 & 1 \\
 1 & 1 \\
 1 & 1 \\
 1 & 1 \\
 1 & 1 \\
\end{bmatrix}
\times
\begin{bmatrix}
 y & 1 & 1 & 1 & 1 \\
 1 & 1 & 1 & 1 & 1 \\
\end{bmatrix}
=
\begin{bmatrix}
 3.6 & 3.6 & 3.6 & 3.6 & 3.6 \\
 2 & 2 & 2 & 2 & 2 \\
 2 & 2 & 2 & 2 & 2 \\
 2 & 2 & 2 & 2 & 2 \\
 2 & 2 & 2 & 2 & 2 \\
\end{bmatrix}
$$<p>By doing the same process as before, we can pick value for $y=1.617$. After that, we can check if the $RMSE$ is not converged, we continue to update $X$ by $Y$ and vice versa. In this example, for simple, we only update one element of each matrix in each iteration. In practice, we can update a full row or full matrix at once.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="2.3.2-Matrix-Factorization:-Objective-and-ALS-Algorithm-on-a-Single-Machine">2.3.2 Matrix Factorization: Objective and ALS Algorithm on a Single Machine<a class="anchor-link" href="#2.3.2-Matrix-Factorization:-Objective-and-ALS-Algorithm-on-a-Single-Machine">&#182;</a></h3><p>More formally, in general, we select $k$ latent features, and describe each user $u$ with a $k-$dimensional vector $x_u$, and each item $i$ with a $k-$dimensional vector $y_i$.</p>
<p>Then, to predict user $u$'s rating for item $i$, we do as follows: $ r_{ui} \approx x_{u}^{T}y_i$.</p>
<p>This can be put, more elegantly, in a matrix form. Let $x_1, \cdots x_n \in \mathbb{R}^k$ be the factors for the users, and $y_1, \cdots y_m \in \mathbb{R}^k$ the factors for the items. The $k \times n$ user matrix $X$ and the $k \times m$ item matrix $Y$ are then defined by:</p>
$$
X = 
\begin{bmatrix}
 |   &         & |  \\
x_1  &  \cdots & x_n\\
 |   &         & |  \\
\end{bmatrix}
$$$$
Y = 
\begin{bmatrix}
 |   &         & |  \\
y_1  &  \cdots & y_i\\
 |   &         & |  \\
\end{bmatrix}
$$<p>Our goal is to estimate the complete ratings matrix $R \approx X^{T} Y$. We can formulate this problem as an optimization problem in which we aim to minimize an objective function and find optimal $X$ and $Y$ . In particular, we aim to minimize the least squares error of the observed ratings (and regularize):</p>
$$
\min_{X,Y} \sum_{r_{ui} \text{observed}}(r_{ui} - x_{u}^{T}y_i)^2 + \lambda \left( \sum_{u} \|x_u\|^2 + \sum_{i} \|y_i\|^2 \right) 
$$<p>Notice that this objective is non-convex (because of the $x_{u}^{T} y_i$ term); in fact its NP-hard to optimize. Gradient descent can be used as an approximate approach here, however it turns out to be slow and costs lots of iterations. Note however, that if we fix the set of variables $X$ and treat them as constants, then the objective is a convex function of $Y$ and vice versa. Our approach will therefore be to fix $Y$ and optimize $X$, then fix $X$ and optimize $Y$, and repeat until convergence. This approach is known as <strong>ALS (Alternating Least Squares)</strong>. For our objective function, the alternating least squares algorithm can be expressed with this simple pseudo-code:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Initialize $X$, $Y$</p>
<p><strong>while</strong>(convergence is not true) <strong>do</strong></p>
<p><strong>for</strong> $u = 1 \cdots n$ <strong>do</strong></p>
<p>$x_u = \left( \sum_{r_ui \in r_{u*}} y_i y_{i}^{T} + \lambda I_k \right)^{-1} \sum_{r_ui \in r_{u*}} r_{ui} y_i $</p>
<p><strong>end for</strong></p>
<p><strong>for</strong> $u = 1 \cdots n$ <strong>do</strong></p>
<p>$y_i = \left( \sum_{r_ui \in r_{*i}} x_u x_{u}^{T} + \lambda I_k \right)^{-1} \sum_{r_ui \in r_{*i}} r_{ui} x_u $</p>
<p><strong>end for</strong></p>
<p><strong>end while</strong></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>For a single machine, we can analyze the computational cost of this algorithm. Updating each $x_u$ will cost $O(n_u k^2 + k^3)$, where $n_u$ is the number of items rated by user $u$, and similarly updating each $y_i$ will cost $O(n_i k^2 + k^3)$, where $n_i$ is the number of users that have rated item $i$.</p>
<p>Once weve computed the matrices $X$ and $Y$, there are several ways compute a prediction. The first is to do what was discussed before, which is to simply predict $ r_{ui} \approx x_{u}^{T}y_i$ for each user $u$ and item $i$. 
This approach will cost $O(nmk)$ if wed like to estimate every user-item pair.</p>
<p>However, this approach is prohibitively expensive for most real-world datasets. A second (and more holistic) approach is to use the $x_u$ and $y_i$ as features in another learning algorithm, incorporating these features with others that are relevant to the prediction task.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="2.3.3-Parallel-Altenating-Least-Squares">2.3.3 Parallel Altenating Least Squares<a class="anchor-link" href="#2.3.3-Parallel-Altenating-Least-Squares">&#182;</a></h3><p>There are several ways to distribute the computation of the ALS algorithm depending on how data is partitioned.</p>
<h4 id="Method-1:-using-joins">Method 1: using joins<a class="anchor-link" href="#Method-1:-using-joins">&#182;</a></h4><p>First we consider a fully distributed version, in the sense that all data (both input and output) is stored in a distributed file system. In practice, input data (ratings) and parameters ($X$ and $Y$) are stored in an a Spark RDD. Specifically, ratings -- that are always <strong>sparse</strong> -- are stored as RDD of triplets:</p>
<p>Ratings: RDD((u, i, $r_{ui}$), . . . )</p>
<p>Instead, we can use dense representation for factor matrices $X$ and $Y$, and these are stored as RDDs of vectors. More precisely, we can use the data types introduced in Spark MLLib to store such vectors and matrices:</p>
<p>X : RDD($x_1$,...,$x_n$)</p>
<p>Y : RDD($y_1$,...,$y_m$)</p>
<p>Now, recall the expression to compute $x_u$:</p>
<p>$x_u = \left( \sum_{r_ui \in r_{u*}} y_i y_{i}^{T} + \lambda I_k \right)^{-1} \sum_{r_ui \in r_{u*}} r_{ui} y_i $</p>
<p>Let's call the first summation <em>part A</em> and the second summation <em>part B</em>. To compute such parts, in parallel, we can proceed with the following high-level pseudocode:</p>
<ul>
<li>Join the Ratings RDD with the $Y$ matrix RDD using key $i$ (items)</li>
<li>Map to compute $y_i y_{i}^{T}$ and emit using key $u$ (user)</li>
<li>ReduceByKey $u$ (user) to compute $\sum_{r_ui \in r_{u*}} y_i y_{i}^{T}$</li>
<li>Invert</li>
<li>Another ReduceByKey $u$ (user) to compute $\sum_{r_ui \in r_{u*}} r_{ui} y_i$</li>
</ul>
<p>We can use the same template to copmute $y_i$.</p>
<p>This approach works fine, but note it requires computing $y_i y_{i}^{T}$ for each user that has rated item $i$.</p>
<h4 id="Method-2:-using-broadcast-variables-(advanced-topic)">Method 2: using broadcast variables (advanced topic)<a class="anchor-link" href="#Method-2:-using-broadcast-variables-(advanced-topic)">&#182;</a></h4><p>The next approach takes advantage of the fact that the $X$ and $Y$ factor matrices are often very small and can be stored locally on each machine.</p>
<ul>
<li>Partition the Ratings RDD <strong>by user</strong> to create $R_1$, and similarly partition the Ratings RDD <strong>by item</strong> to create $R_2$. This means there are two copies of the same Ratings RDD, albeit with different partitionings. In $R_1$, all ratings by the same user are on the same machine, and in $R_2$ all ratings for same item are on the same machine.</li>
<li>Broadcast the matrices $X$ and $Y$. Note that these matrices are not RDD of vectors: they are now "local: matrices.</li>
<li>Using $R_1$ and $Y$, we can use expression $x_u$ from above to compute the update of $x_u$ locally on each machine</li>
<li>Using $R_2$ and $X$, we can use expression $y_i$ from above to compute the update of $y_i$ locally on each machine</li>
</ul>
<p>A further optimization to this method is to group the $X$ and $Y$ factors matrices into blocks (user blocks and item blocks) and reduce the communication by only sending to each machine the block of users (or items) that are needed to compute the updates at that machine.</p>
<p>This method is called <strong>Block ALS</strong>. It is achieved by precomputing some information about the ratings matrix to determine the "out-links" of each user (which blocks of the items it will contribute to) and "in-link" information for each item (which of the factor vectors it receives from each user block it will depend on). For exmple, assume that machine 1 is responsible for users 1,2,...,37: these will be block 1 of users. The items rated by these users are block 1 of items. Only the factors of block 1 of users and block 1 of items will be broadcasted to machine 1.</p>
<h3 id="Further-readings">Further readings<a class="anchor-link" href="#Further-readings">&#182;</a></h3><p>Other methods for matrix factorization include:</p>
<ul>
<li>Low Rank Approximation and Regression in Input Sparsity Time, by Kenneth L. Clarkson, David P. Woodruff. <a href="http://arxiv.org/abs/1207.6365">http://arxiv.org/abs/1207.6365</a></li>
<li>Generalized Low Rank Models (GLRM), by Madeleine Udell, Corinne Horn, Reza Zadeh, Stephen Boyd. <a href="http://arxiv.org/abs/1410.0342">http://arxiv.org/abs/1410.0342</a></li>
<li>Matrix Completion and Low-Rank SVD via Fast Alternating Least Squares, by Trevor Hastie, Rahul Mazumder, Jason D. Lee, Reza Zadeh . Statistics Department and ICME, Stanford University, 2014. <a href="http://stanford.edu/~rezab/papers/fastals.pdf">http://stanford.edu/~rezab/papers/fastals.pdf</a></li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="3.-Usecase-:-Music-recommender-system">3. Usecase : Music recommender system<a class="anchor-link" href="#3.-Usecase-:-Music-recommender-system">&#182;</a></h1><p>In this usecase, we use the data of users and artists in the previous sections to build a statistical model to recommend artists for users.</p>
<h2 id="3.1-Requirements">3.1 Requirements<a class="anchor-link" href="#3.1-Requirements">&#182;</a></h2><p>According to the properties of data, we need to choose a recommender algorithm that is suitable for this implicit feedback data. It means that the algorithm should learn without access to user or artist attributes such as age, genre,.... Therefore, an algorithm of type <code>collaborative filtering</code> is the best choice.</p>
<p>Second, in the data, there are some users that have listened to only 1 artist. We need an algorithm that might provide decent recommendations to even these users. After all, at some point, every user starts out with just one play at some point!</p>
<p>Third, we need an algorithm that scales, both in its ability to build large models, and to create recommendations quickly. So, an algorithm which can run on a distributed system (SPARK, Hadoop...) is very suitable.</p>
<p>From these requirement, we can choose using ALS algorithm in SPARK's MLLIB.</p>
<p>Spark MLlibs ALS implementation draws on ideas from <a href="http://yifanhu.net/PUB/cf.pdf">1</a> and <a href="http://link.springer.com/chapter/10.1007%2F978-3-540-68880-8_32">2</a>.</p>
<h2 id="3.2-Notes">3.2 Notes<a class="anchor-link" href="#3.2-Notes">&#182;</a></h2><p>Currently, MLLIB can only build models from an RDD. That means we have two ways to prepare data:</p>
<ul>
<li><p>Loading to into SPARK SQL DataFrame as before, and then access the corresponding RDD by calling <code>&lt;dataframe&gt;.rdd</code>. The invalid data is often sucessfully dropped by using mode <code>DROPMALFORMED</code>. However, this way might not work in all cases. Fortunately, we can use it with this usecase.</p>
</li>
<li><p>Loading data directly to RDD. However, we have to deal with the invalid data ourself. In the trade-off, this way is the most reliable, and can work in every case.</p>
</li>
</ul>
<p>In this notebook, we will use the second approach: it requires a bit more effort, but the reward is worth it!</p>
<h2 id="3.3-Cleanup-the-data">3.3 Cleanup the data<a class="anchor-link" href="#3.3-Cleanup-the-data">&#182;</a></h2><p>In section 1, we already replaced the ids of mispelled artists by the corresponding standard ids by using SPARK SQL API.
However, if the data has the invalid entries such that SPARK SQL API is stuck, the best way to work with it is using an RDD.</p>
<p>Just as a recall, we work with three datasets in <code>user_artist_data.txt</code>, <code>` and</code>artist_alias.txt`. The entries in these file can be empty or have only one field.</p>
<p>In details our goal now is:</p>
<ul>
<li>Read the input <code>user_artist_data.txt</code> and transforms its representation into an output dataset.</li>
<li>To produce an output "tuple" containing the original user identifier and play counts, but with the artist identifier replaced by its most common alias, as found in the <code>artist_alias.txt</code> dataset.</li>
<li>Since the <code>artist_alias.txt</code> file is small, we can use a technique called <strong>broadcast variables</strong> to make such transformation more efficient.</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="https://farm2.staticflickr.com/1604/24934700445_833f0a5649_t.jpg" alt=""></p>
<p><div style='border-radius: 15px; background: rgb(224,239,130);padding:10px;'/></p>
<h3 id="Question-6">Question 6<a class="anchor-link" href="#Question-6">&#182;</a></h3><h4 id="Question-6.1">Question 6.1<a class="anchor-link" href="#Question-6.1">&#182;</a></h4><p>Load data from <code>/datasets/lastfm/artist_alias.txt</code> and filter out the invalid entries to construct a dictionary to map from mispelled artists' ids to standard ids.</p>
<p>NOTE: From now on, we will use the "standard" data to train our model.</p>
<p>HINT: If a line contains less than 2 fields or contains invalid numerial values, we can return a special tuple. After that, we can filter out these special tuples.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span class="n">rawArtistAlias</span> <span class="o">=</span> <span class="n">sc</span><span class="o">.</span><span class="n">textFile</span><span class="p">(</span><span class="n">base</span> <span class="o">+</span> <span class="s2">&quot;artist_alias.txt&quot;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">xtractFields</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="c1"># Using white space or tab character as separetors,</span>
    <span class="c1"># split a line into list of strings </span>
    <span class="n">line</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;\s|</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">,</span><span class="n">s</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="c1"># if this line has at least 2 characters</span>
    <span class="k">if</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">line</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># try to parse the first and the second components to integer type</span>
            <span class="k">return</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="nb">int</span><span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="c1"># if parsing has any error, return a special tuple</span>
            <span class="k">return</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># if this line has less than 2 characters, return a special tuple</span>
        <span class="k">return</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>

<span class="n">artistAlias</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">rawArtistAlias</span>
                    <span class="c1"># extract fields using function xtractFields</span>
                    <span class="o">.</span><span class="n">map</span><span class="p">(</span> <span class="o">...</span> <span class="p">)</span>

                    <span class="c1"># fileter out the special tuples</span>
                    <span class="o">.</span><span class="n">filter</span><span class="p">(</span> <span class="o">...</span> <span class="p">)</span>

                    <span class="c1"># collect result to the driver as a &quot;dictionary&quot;</span>
                    <span class="o">.</span><span class="n">collectAsMap</span><span class="p">()</span>
                <span class="p">)</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[39]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">rawArtistAlias</span> <span class="o">=</span> <span class="n">sc</span><span class="o">.</span><span class="n">textFile</span><span class="p">(</span><span class="n">base</span> <span class="o">+</span> <span class="s2">&quot;artist_alias.txt&quot;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">xtractFields</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="c1"># Using white space or tab character as separetors,</span>
    <span class="c1"># split a line into list of strings </span>
    <span class="n">line</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;\s|</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">,</span><span class="n">s</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="c1"># if this line has at least 2 characters</span>
    <span class="k">if</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">line</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># try to parse the first and the second components to integer type</span>
            <span class="k">return</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="nb">int</span><span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="c1"># if parsing has any error, return a special tuple</span>
            <span class="k">return</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># if this line has less than 2 characters, return a special tuple</span>
        <span class="k">return</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>

<span class="n">artistAlias</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">rawArtistAlias</span>
                    <span class="c1"># extract fields using function xtractFields</span>
                    <span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">xtractFields</span><span class="p">)</span>
    
                    <span class="c1"># fileter out the special tuples</span>
                    <span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">row</span><span class="p">:</span> <span class="n">row</span><span class="o">!=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>
    
                    <span class="c1"># collect result to the driver as a &quot;dictionary&quot;</span>
                    <span class="o">.</span><span class="n">collectAsMap</span><span class="p">()</span>
                <span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><div style='border-radius: 15px; background: rgb(224,239,130);padding:10px;'/></p>
<h4 id="Question-6.2">Question 6.2<a class="anchor-link" href="#Question-6.2">&#182;</a></h4><p>Using the dictionary in question 6.1, prepare RDD <code>userArtistDataRDD</code> by replacing mispelled artists' ids to standard ids. Show 5 samples.</p>
<p>HINT: Using broadcast varible can help us increase the effiency.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span class="n">bArtistAlias</span> <span class="o">=</span> <span class="n">sc</span><span class="o">.</span><span class="n">broadcast</span><span class="p">(</span><span class="n">artistAlias</span><span class="p">)</span>
<span class="n">rawUserArtistData</span> <span class="o">=</span> <span class="n">sc</span><span class="o">.</span><span class="n">textFile</span><span class="p">(</span><span class="n">base</span> <span class="o">+</span> <span class="s2">&quot;user_artist_data.txt&quot;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">disambiguate</span><span class="p">(</span><span class="n">line</span><span class="p">):</span>
    <span class="p">[</span><span class="n">userID</span><span class="p">,</span> <span class="n">artistID</span><span class="p">,</span> <span class="n">count</span><span class="p">]</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
    <span class="n">finalArtistID</span> <span class="o">=</span> <span class="n">bArtistAlias</span><span class="o">.</span> <span class="o">...</span>
    <span class="k">return</span> <span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>

<span class="n">userArtistDataRDD</span> <span class="o">=</span> <span class="n">rawUserArtistData</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="n">userArtistDataRDD</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[40]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">bArtistAlias</span> <span class="o">=</span> <span class="n">sc</span><span class="o">.</span><span class="n">broadcast</span><span class="p">(</span><span class="n">artistAlias</span><span class="p">)</span>
<span class="n">rawUserArtistData</span> <span class="o">=</span> <span class="n">sc</span><span class="o">.</span><span class="n">textFile</span><span class="p">(</span><span class="n">base</span> <span class="o">+</span> <span class="s2">&quot;user_artist_data.txt&quot;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">disambiguate</span><span class="p">(</span><span class="n">line</span><span class="p">):</span>
    <span class="p">[</span><span class="n">userID</span><span class="p">,</span> <span class="n">artistID</span><span class="p">,</span> <span class="n">count</span><span class="p">]</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
    <span class="n">finalArtistID</span> <span class="o">=</span> <span class="n">bArtistAlias</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">artistID</span><span class="p">,</span> <span class="n">artistID</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">userID</span><span class="p">,</span> <span class="n">finalArtistID</span><span class="p">,</span> <span class="n">count</span><span class="p">)</span>

<span class="n">userArtistDataRDD</span> <span class="o">=</span> <span class="n">rawUserArtistData</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">disambiguate</span><span class="p">)</span>
<span class="n">userArtistDataRDD</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[40]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>[(&apos;1000002&apos;, &apos;1&apos;, &apos;55&apos;),
 (&apos;1000002&apos;, &apos;1000006&apos;, &apos;33&apos;),
 (&apos;1000002&apos;, &apos;1000007&apos;, &apos;8&apos;),
 (&apos;1000002&apos;, &apos;1000009&apos;, &apos;144&apos;),
 (&apos;1000002&apos;, &apos;1000010&apos;, &apos;314&apos;)]</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="3.4-Training-our-statistical-model">3.4 Training our statistical model<a class="anchor-link" href="#3.4-Training-our-statistical-model">&#182;</a></h2><p>To train a model using ALS, we must use a preference matrix  as an input. MLLIB uses the class <code>Rating</code> to support the construction of a distributed preference matrix.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="https://farm2.staticflickr.com/1604/24934700445_833f0a5649_t.jpg" alt=""></p>
<p><div style='border-radius: 15px; background: rgb(224,239,130);padding:10px;'/></p>
<h3 id="Question-7">Question 7<a class="anchor-link" href="#Question-7">&#182;</a></h3><h4 id="Question-7.1">Question 7.1<a class="anchor-link" href="#Question-7.1">&#182;</a></h4><p>Given RDD <code>userArtistDataRDD</code> in question 6.2, construct a new RDD <code>trainingData</code> by tranforming each item of it into a <code>Rating</code> object.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[41]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="kn">from</span> <span class="nn">pyspark.mllib.recommendation</span> <span class="k">import</span> <span class="n">ALS</span><span class="p">,</span> <span class="n">MatrixFactorizationModel</span><span class="p">,</span> <span class="n">Rating</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span class="n">allData</span> <span class="o">=</span> <span class="n">userArtistDataRDD</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">r</span><span class="p">:</span> <span class="n">Rating</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="o">...</span><span class="p">))</span><span class="o">.</span><span class="n">repartition</span><span class="p">(</span><span class="o">...</span><span class="p">)</span><span class="o">.</span><span class="n">cache</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[42]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">allData</span> <span class="o">=</span> <span class="n">userArtistDataRDD</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">r</span><span class="p">:</span> <span class="n">Rating</span><span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">r</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">r</span><span class="p">[</span><span class="mi">2</span><span class="p">]))</span><span class="o">.</span><span class="n">repartition</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">cache</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><div style='border-radius: 15px; background: rgb(224,239,130);padding:10px;'/></p>
<h4 id="Question-7.2">Question 7.2<a class="anchor-link" href="#Question-7.2">&#182;</a></h4><p>A model can be trained by using <code>ALS.trainImplicit(&lt;training data&gt;, &lt;rank&gt;)</code>, where:</p>
<ul>
<li><code>training data</code> is the input data you decide to feed to the ALS algorithm</li>
<li><code>rank</code> is the number of laten features</li>
</ul>
<p>We can also use some additional parameters to adjust the quality of the model. Currently, let's set</p>
<ul>
<li><code>rank=10</code></li>
<li><code>iterations=5</code></li>
<li><code>lambda_=0.01</code></li>
<li><code>alpha=1.0</code> </li>
</ul>
<p>to build model.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span class="n">t0</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">ALS</span><span class="o">.</span><span class="n">trainImplicit</span><span class="p">(</span> <span class="o">...</span> <span class="p">)</span>
<span class="n">t1</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="s2">&quot;finish training model in </span><span class="si">%f</span><span class="s2"> secs&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">t1</span> <span class="o">-</span> <span class="n">t0</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[45]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">t0</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">ALS</span><span class="o">.</span><span class="n">trainImplicit</span><span class="p">(</span><span class="n">allData</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span>
<span class="n">t1</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;finish training model in </span><span class="si">%f</span><span class="s2"> secs&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">t1</span> <span class="o">-</span> <span class="n">t0</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>finish training model in 67.578695 secs
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><div style='border-radius: 15px; background: rgb(224,239,130);padding:10px;'/></p>
<h4 id="Question-7.3">Question 7.3<a class="anchor-link" href="#Question-7.3">&#182;</a></h4><p>The trained model can be saved into HDFS for later use. This can be done via <code>model.save(sc, &lt;file_name&gt;)</code>.
Let's use this function to store our model as name <code>lastfm_model.spark</code>.</p>
<p>NOTE 1: since you may have noticed that building the model takes some time, it might come to your mind that this information could be stored, such that you can "interrupt" your laboratory session here, and restart next time by loading your model.</p>
<p>NOTE 2: funnily enough, it could take more time to save the model than to build it from scratch! So take a look at the execution time to save the model: this method actually stores the model as Parquet files, which are column-oriented and compressed.</p>
<p>NOTE 3: to check you have your file on HDFS, you are invited to open a terminal from the "Home" Jupyter dashboard, and type <code>hdfs dfs -ls</code> to check.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span class="err">!</span> <span class="n">hdfs</span> <span class="n">dfs</span> <span class="o">-</span><span class="n">rm</span> <span class="o">-</span><span class="n">R</span> <span class="o">-</span><span class="n">f</span> <span class="o">-</span><span class="n">skipTrash</span> <span class="n">lastfm_model</span><span class="o">.</span><span class="n">spark</span>
<span class="n">model</span><span class="o">.</span><span class="n">save</span><span class="p">(</span> <span class="o">...</span> <span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[46]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="o">!</span> hdfs dfs -rm -R -f -skipTrash lastfm_model.spark
<span class="n">model</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">sc</span><span class="p">,</span><span class="s2">&quot;lastfm_model.spark&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Deleted lastfm_model.spark
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><div style='border-radius: 15px; background: rgb(224,239,130);padding:10px;'/></p>
<h4 id="Question-7.4">Question 7.4<a class="anchor-link" href="#Question-7.4">&#182;</a></h4><p>A saved model can be load from file by using <code>MatrixFactorizationModel.load(sc, &lt;file_name&gt;)</code>.</p>
<p>Let's load our model from file.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span class="n">t0</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">MatrixFactorizationModel</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
<span class="n">t1</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="s2">&quot;finish loading model in </span><span class="si">%f</span><span class="s2"> secs&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">t1</span> <span class="o">-</span> <span class="n">t0</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[47]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">t0</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">MatrixFactorizationModel</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">sc</span><span class="p">,</span> <span class="s2">&quot;lastfm_model.spark&quot;</span><span class="p">)</span>
<span class="n">t1</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;finish loading model in </span><span class="si">%f</span><span class="s2"> secs&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">t1</span> <span class="o">-</span> <span class="n">t0</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>finish loading model in 1.508046 secs
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><div style='border-radius: 15px; background: rgb(224,239,130);padding:10px;'/></p>
<h4 id="Question-7.5">Question 7.5<a class="anchor-link" href="#Question-7.5">&#182;</a></h4><p>Print the first row of user features in our model.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span class="n">model</span><span class="o">.</span><span class="n">userFeatures</span><span class="p">()</span><span class="o">.</span> <span class="o">...</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[49]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">first_row</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">userFeatures</span><span class="p">()</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
<span class="n">first_row</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[49]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>(340,
 array(&apos;d&apos;, [0.00207155873067677, 0.0018931879894807935, -0.003774750977754593, -0.0020361016504466534, -0.0027224363293498755, 0.002859134692698717, 0.005470216274261475, 0.004807880613952875, -0.004066343419253826, 0.003016385482624173]))</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[50]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="nb">len</span><span class="p">(</span><span class="n">first_row</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[50]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>10</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="https://farm2.staticflickr.com/1604/24934700445_833f0a5649_t.jpg" alt=""></p>
<p><div style='border-radius: 15px; background: rgb(224,239,130);padding:10px;'/></p>
<h3 id="Question-8">Question 8<a class="anchor-link" href="#Question-8">&#182;</a></h3><p>Show the top-5 artist names recommendated for user <code>2093760</code>.</p>
<p>HINT: The recommendations can be given by function <code>recommendProducts(userID, num_recommendations)</code>. These recommendations are only artist ids. You have to map them to artist names by using data in <code>artist_data.txt</code>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span class="c1"># Make five reccommendations to user 2093760</span>
<span class="n">recommendations</span> <span class="o">=</span> <span class="p">(</span><span class="n">model</span><span class="o">.</span> <span class="o">...</span><span class="p">)</span>

<span class="c1"># construct set of recommendated artists</span>
<span class="n">recArtist</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span> <span class="o">...</span> <span class="p">)</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[51]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="c1"># Make five reccommendations to user 2093760</span>
<span class="n">recommendations</span> <span class="o">=</span> <span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">recommendProducts</span><span class="p">(</span><span class="mi">2093760</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>

<span class="c1"># construct set of recommendated artists</span>
<span class="n">recArtist</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">recommendations</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[52]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">recArtist</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[52]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>{Rating(user=2093760, product=2814, rating=0.02911938567874557),
 Rating(user=2093760, product=4605, rating=0.028088512679067704),
 Rating(user=2093760, product=1001819, rating=0.028235243277075203),
 Rating(user=2093760, product=1037970, rating=0.027986007673795135),
 Rating(user=2093760, product=1300642, rating=0.02801350867934919)}</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span class="c1"># construct data of artists (artist_id, artist_name)</span>

<span class="n">rawArtistData</span> <span class="o">=</span> <span class="n">sc</span><span class="o">.</span><span class="n">textFile</span><span class="p">(</span><span class="n">base</span> <span class="o">+</span> <span class="s2">&quot;artist_data.txt&quot;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">xtractFields</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="n">line</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;\s|</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">,</span><span class="n">s</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">if</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">line</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="nb">str</span><span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()))</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span> 
        <span class="k">return</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

<span class="n">artistByID</span> <span class="o">=</span> <span class="n">rawArtistData</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">xtractFields</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[53]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="c1"># construct data of artists (artist_id, artist_name)</span>

<span class="n">rawArtistData</span> <span class="o">=</span> <span class="n">sc</span><span class="o">.</span><span class="n">textFile</span><span class="p">(</span><span class="n">base</span> <span class="o">+</span> <span class="s2">&quot;artist_data.txt&quot;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">xtractFields</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="n">line</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;\s|</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">,</span><span class="n">s</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">if</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">line</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="nb">str</span><span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()))</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span> 
        <span class="k">return</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

<span class="n">artistByID</span> <span class="o">=</span> <span class="n">rawArtistData</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">xtractFields</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span class="c1"># Filter in those artists, get just artist, and print</span>
<span class="k">def</span> <span class="nf">artistNames</span><span class="p">(</span><span class="n">line</span><span class="p">):</span>
<span class="c1">#     [artistID, name]</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">...</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">True</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">False</span>

<span class="n">recList</span> <span class="o">=</span> <span class="n">artistByID</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="o">...</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="p">()</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">recList</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[54]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="c1"># Filter in those artists, get just artist, and print</span>
<span class="k">def</span> <span class="nf">artistNames</span><span class="p">(</span><span class="n">line</span><span class="p">):</span>
<span class="c1">#     [artistID, name]</span>
    <span class="k">if</span> <span class="n">line</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">in</span> <span class="p">[</span><span class="n">recommendations</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">recommendations</span><span class="p">))]:</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>

<span class="n">recList</span> <span class="o">=</span> <span class="n">artistByID</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">line</span><span class="p">:</span> <span class="n">artistNames</span><span class="p">(</span><span class="n">line</span><span class="p">))</span><span class="o">.</span><span class="n">values</span><span class="p">()</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="n">recList</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>[&apos;50 Cent&apos;, &apos;Snoop Dogg&apos;, &apos;Kanye West&apos;, &apos;2Pac&apos;, &apos;The Game&apos;]
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4> IMPORTANT NOTE</h4><p>At the moment, it is necessary to manually unpersist the RDDs inside the model when you are done with it. The following function can be used to make sure models are promptly uncached.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[55]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="k">def</span> <span class="nf">unpersist</span><span class="p">(</span><span class="n">model</span><span class="p">):</span>
    <span class="n">model</span><span class="o">.</span><span class="n">userFeatures</span><span class="p">()</span><span class="o">.</span><span class="n">unpersist</span><span class="p">()</span>
    <span class="n">model</span><span class="o">.</span><span class="n">productFeatures</span><span class="p">()</span><span class="o">.</span><span class="n">unpersist</span><span class="p">()</span>

<span class="c1"># uncache data and model when they are no longer used  </span>
<span class="n">unpersist</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="3.5-Evaluating-Recommendation-Quality">3.5 Evaluating Recommendation Quality<a class="anchor-link" href="#3.5-Evaluating-Recommendation-Quality">&#182;</a></h2><p>In this section, we study how to evaluate the quality of our model. It's hard to say how good the recommendations are.
One of serveral methods approach to evaluate  a recommender based on its ability to rank good items (artists) high in a list of recommendations. The problem is how to define "good artists". Currently, by training all data, "good artists" is defined as "artists the user has listened to", and the recommender system has already received all of this information as input. It could trivially return the users previously-listened artists as top recommendations and score perfectly. Indeed, this is not useful, because the recommender's is used to recommend artists that the user has <strong>never</strong> listened to.</p>
<p>To overcome that problem, we can hide the some of the artist play data and only use the rest to train model. Then, this held-out data can be interpreted as a collection of "good" recommendations for each user. The recommender is asked to rank all items in the model, and the rank of the held-out artists are examined. Ideally the recommender places all of them at or near the top of the list.</p>
<p>The recommender's score can then be computed by comparing all held-out artists' ranks to the rest.  The fraction of pairs where the held-out artist is ranked higher is its score. 1.0 is perfect, 0.0 is the worst possible score, and 0.5 is the expected value achieved from randomly ranking artists.</p>
<p>AUC(Area Under the Curve) can be used as a metric to evaluate model. It is also viewed as the probability that a randomly-chosen "good" artist ranks above a randomly-chosen "bad" artist.</p>
<p>Next, we split the training data into 2 parts: <code>trainData</code> and <code>cvData</code> with ratio 0.9:0.1 respectively, where <code>trainData</code> is the dataset that will be used to train model. Then we write a function to calculate AUC to evaluate the quality of our model.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="https://farm2.staticflickr.com/1604/24934700445_833f0a5649_t.jpg" alt=""></p>
<p><div style='border-radius: 15px; background: rgb(224,239,130);padding:10px;'/></p>
<h3 id="Question-9">Question 9<a class="anchor-link" href="#Question-9">&#182;</a></h3><h4 id="Question-9.1">Question 9.1<a class="anchor-link" href="#Question-9.1">&#182;</a></h4><p>Split the data into <code>trainData</code> and <code>cvData</code> with ratio 0.9:0.1 and use the first part to train a statistic model with:</p>
<ul>
<li>rank=10</li>
<li>iterations=5</li>
<li>lambda_=0.01</li>
<li>alpha=1.0</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span class="n">trainData</span><span class="p">,</span> <span class="n">cvData</span> <span class="o">=</span> <span class="n">allData</span><span class="o">.</span><span class="n">randomSplit</span> <span class="o">...</span>
<span class="n">trainData</span><span class="o">.</span><span class="n">cache</span><span class="p">()</span>
<span class="n">cvData</span><span class="o">.</span><span class="n">cache</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[56]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">trainData</span><span class="p">,</span> <span class="n">cvData</span> <span class="o">=</span> <span class="n">allData</span><span class="o">.</span><span class="n">randomSplit</span><span class="p">([</span><span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">])</span>
<span class="n">trainData</span><span class="o">.</span><span class="n">cache</span><span class="p">()</span>
<span class="n">cvData</span><span class="o">.</span><span class="n">cache</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[56]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>PythonRDD[564] at RDD at PythonRDD.scala:43</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span class="n">t0</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">ALS</span><span class="o">.</span><span class="n">trainImplicit</span><span class="p">(</span> <span class="o">...</span> <span class="p">)</span>
<span class="n">t1</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="s2">&quot;finish training model in </span><span class="si">%f</span><span class="s2"> secs&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">t1</span> <span class="o">-</span> <span class="n">t0</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[57]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">t0</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">ALS</span><span class="o">.</span><span class="n">trainImplicit</span><span class="p">(</span><span class="n">trainData</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span>
<span class="n">t1</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;finish training model in </span><span class="si">%f</span><span class="s2"> secs&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">t1</span> <span class="o">-</span> <span class="n">t0</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>finish training model in 37.643168 secs
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Area-under-the-ROC-curve:-a-function-to-compute-it">Area under the ROC curve: a function to compute it<a class="anchor-link" href="#Area-under-the-ROC-curve:-a-function-to-compute-it">&#182;</a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[69]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="c1"># Get all unique artistId, and broadcast them</span>
<span class="n">allItemIDs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">allData</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">distinct</span><span class="p">()</span><span class="o">.</span><span class="n">collect</span><span class="p">())</span>
<span class="n">bAllItemIDs</span> <span class="o">=</span> <span class="n">sc</span><span class="o">.</span><span class="n">broadcast</span><span class="p">(</span><span class="n">allItemIDs</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[59]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="kn">from</span> <span class="nn">random</span> <span class="k">import</span> <span class="n">randint</span>

<span class="c1"># Depend on the number of item in userIDAndPosItemIDs,</span>
<span class="c1"># create a set of &quot;negative&quot; products for each user. These are randomly chosen</span>
<span class="c1"># from among all of the other items, excluding those that are &quot;positive&quot; for the user.</span>
<span class="c1"># NOTE 1: mapPartitions operates on many (user,positive-items) pairs at once</span>
<span class="c1"># NOTE 2: flatMap breaks the collections above down into one big set of tuples</span>
<span class="k">def</span> <span class="nf">xtractNegative</span><span class="p">(</span><span class="n">userIDAndPosItemIDs</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">pickEnoughNegatives</span><span class="p">(</span><span class="n">line</span><span class="p">):</span>
        <span class="n">userID</span> <span class="o">=</span> <span class="n">line</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">posItemIDSet</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">line</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="c1">#posItemIDSet = line[1]</span>
        <span class="n">negative</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">allItemIDs</span> <span class="o">=</span> <span class="n">bAllItemIDs</span><span class="o">.</span><span class="n">value</span>
        <span class="c1"># Keep about as many negative examples per user as positive. Duplicates are OK.</span>
        <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">allItemIDs</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">negative</span><span class="p">)</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">posItemIDSet</span><span class="p">)):</span>
            <span class="n">itemID</span> <span class="o">=</span> <span class="n">allItemIDs</span><span class="p">[</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">allItemIDs</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)]</span>
            <span class="k">if</span> <span class="n">itemID</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">posItemIDSet</span><span class="p">:</span>
                <span class="n">negative</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">itemID</span><span class="p">)</span>
            <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
        
        <span class="c1"># Result is a collection of (user,negative-item) tuples</span>
        <span class="k">return</span> <span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">itemID</span><span class="p">:</span> <span class="p">(</span><span class="n">userID</span><span class="p">,</span> <span class="n">itemID</span><span class="p">),</span> <span class="n">negative</span><span class="p">)</span>

    <span class="c1"># Init an RNG and the item IDs set once for partition</span>
    <span class="c1"># allItemIDs = bAllItemIDs.value</span>
    <span class="k">return</span> <span class="nb">map</span><span class="p">(</span><span class="n">pickEnoughNegatives</span><span class="p">,</span> <span class="n">userIDAndPosItemIDs</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">ratioOfCorrectRanks</span><span class="p">(</span><span class="n">positiveRatings</span><span class="p">,</span> <span class="n">negativeRatings</span><span class="p">):</span>
    
    <span class="c1"># find number elements in arr that has index &gt;= start and has value smaller than x</span>
    <span class="c1"># arr is a sorted array</span>
    <span class="k">def</span> <span class="nf">findNumElementsSmallerThan</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="n">left</span> <span class="o">=</span> <span class="n">start</span>
        <span class="n">right</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span> <span class="o">-</span><span class="mi">1</span>
        <span class="c1"># if x is bigger than the biggest element in arr</span>
        <span class="k">if</span> <span class="n">start</span> <span class="o">&gt;</span> <span class="n">right</span> <span class="ow">or</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">arr</span><span class="p">[</span><span class="n">right</span><span class="p">]:</span>
            <span class="k">return</span> <span class="n">right</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="n">mid</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
        <span class="k">while</span> <span class="n">left</span> <span class="o">&lt;=</span> <span class="n">right</span><span class="p">:</span>
            <span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">left</span> <span class="o">+</span> <span class="n">right</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
            <span class="k">if</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">x</span><span class="p">:</span>
                <span class="n">left</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="k">elif</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">x</span><span class="p">:</span>
                <span class="n">right</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">while</span> <span class="n">mid</span><span class="o">-</span><span class="mi">1</span> <span class="o">&gt;=</span> <span class="n">start</span> <span class="ow">and</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="n">x</span><span class="p">:</span>
                    <span class="n">mid</span> <span class="o">-=</span> <span class="mi">1</span>
                <span class="k">return</span> <span class="n">mid</span>
        <span class="k">return</span> <span class="n">mid</span> <span class="k">if</span> <span class="n">arr</span><span class="p">[</span><span class="n">mid</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">x</span> <span class="k">else</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span>
    
    <span class="c1">## AUC may be viewed as the probability that a random positive item scores</span>
    <span class="c1">## higher than a random negative one. Here the proportion of all positive-negative</span>
    <span class="c1">## pairs that are correctly ranked is computed. The result is equal to the AUC metric.</span>
    <span class="n">correct</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1">## L</span>
    <span class="n">total</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1">## L</span>
    
    <span class="c1"># sorting positiveRatings array needs more cost</span>
    <span class="c1">#positiveRatings = np.array(map(lambda x: x.rating, positiveRatings))</span>

    <span class="n">negativeRatings</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span><span class="n">x</span><span class="o">.</span><span class="n">rating</span><span class="p">,</span> <span class="n">negativeRatings</span><span class="p">))</span>
    
    <span class="c1">#np.sort(positiveRatings)</span>
    <span class="n">negativeRatings</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span><span class="c1"># = np.sort(negativeRatings)</span>
    <span class="n">total</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">positiveRatings</span><span class="p">)</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">negativeRatings</span><span class="p">)</span>
    
    <span class="k">for</span> <span class="n">positive</span> <span class="ow">in</span> <span class="n">positiveRatings</span><span class="p">:</span>
        <span class="c1"># Count the correctly-ranked pairs</span>
        <span class="n">correct</span> <span class="o">+=</span> <span class="n">findNumElementsSmallerThan</span><span class="p">(</span><span class="n">negativeRatings</span><span class="p">,</span> <span class="n">positive</span><span class="o">.</span><span class="n">rating</span><span class="p">)</span>
        
    <span class="c1">## Return AUC: fraction of pairs ranked correctly</span>
    <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="n">correct</span><span class="p">)</span> <span class="o">/</span> <span class="n">total</span>

<span class="k">def</span> <span class="nf">calculateAUC</span><span class="p">(</span><span class="n">positiveData</span><span class="p">,</span> <span class="n">bAllItemIDs</span><span class="p">,</span> <span class="n">predictFunction</span><span class="p">):</span>
    <span class="c1"># Take held-out data as the &quot;positive&quot;, and map to tuples</span>
    <span class="n">positiveUserProducts</span> <span class="o">=</span> <span class="n">positiveData</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">r</span><span class="p">:</span> <span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">r</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
    <span class="c1"># Make predictions for each of them, including a numeric score, and gather by user</span>
    <span class="n">positivePredictions</span> <span class="o">=</span> <span class="n">predictFunction</span><span class="p">(</span><span class="n">positiveUserProducts</span><span class="p">)</span><span class="o">.</span><span class="n">groupBy</span><span class="p">(</span><span class="k">lambda</span> <span class="n">r</span><span class="p">:</span> <span class="n">r</span><span class="o">.</span><span class="n">user</span><span class="p">)</span>
    
    <span class="c1"># Create a set of &quot;negative&quot; products for each user. These are randomly chosen </span>
    <span class="c1"># from among all of the other items, excluding those that are &quot;positive&quot; for the user. </span>
    <span class="n">negativeUserProducts</span> <span class="o">=</span> <span class="n">positiveUserProducts</span><span class="o">.</span><span class="n">groupByKey</span><span class="p">()</span><span class="o">.</span><span class="n">mapPartitions</span><span class="p">(</span><span class="n">xtractNegative</span><span class="p">)</span><span class="o">.</span><span class="n">flatMap</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">)</span>
    <span class="c1"># Make predictions on the rest</span>
    <span class="n">negativePredictions</span> <span class="o">=</span> <span class="n">predictFunction</span><span class="p">(</span><span class="n">negativeUserProducts</span><span class="p">)</span><span class="o">.</span><span class="n">groupBy</span><span class="p">(</span><span class="k">lambda</span> <span class="n">r</span><span class="p">:</span> <span class="n">r</span><span class="o">.</span><span class="n">user</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="p">(</span>
            <span class="n">positivePredictions</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">negativePredictions</span><span class="p">)</span>
                <span class="o">.</span><span class="n">values</span><span class="p">()</span>
                <span class="o">.</span><span class="n">map</span><span class="p">(</span>
                    <span class="k">lambda</span> <span class="n">positive_negativeRatings</span><span class="p">:</span> <span class="n">ratioOfCorrectRanks</span><span class="p">(</span><span class="n">positive_negativeRatings</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">positive_negativeRatings</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
                <span class="p">)</span>
                <span class="o">.</span><span class="n">mean</span><span class="p">()</span>
            <span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><div style='border-radius: 15px; background: rgb(224,239,130);padding:10px;'/></p>
<h4 id="Question-9.2">Question 9.2<a class="anchor-link" href="#Question-9.2">&#182;</a></h4><p>Using part <code>cvData</code> and function <code>calculateAUC</code> to compute the AUC of the trained model.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span class="n">t0</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>
<span class="n">auc</span> <span class="o">=</span> <span class="n">calculateAUC</span><span class="p">(</span> <span class="o">...</span> <span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">predictAll</span><span class="p">)</span>
<span class="n">t1</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="s2">&quot;auc=&quot;</span><span class="p">,</span><span class="n">auc</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s2">&quot;finish in </span><span class="si">%f</span><span class="s2"> seconds&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">t1</span> <span class="o">-</span> <span class="n">t0</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[60]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">t0</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>
<span class="n">auc</span> <span class="o">=</span> <span class="n">calculateAUC</span><span class="p">(</span><span class="n">cvData</span><span class="p">,</span> <span class="n">bAllItemIDs</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">predictAll</span><span class="p">)</span>
<span class="n">t1</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;auc=&quot;</span><span class="p">,</span><span class="n">auc</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;finish in </span><span class="si">%f</span><span class="s2"> seconds&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">t1</span> <span class="o">-</span> <span class="n">t0</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>auc= 0.9645726410646749
finish in 20.967193 seconds
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><div style='border-radius: 15px; background: rgb(224,239,130);padding:10px;'/></p>
<h4 id="Question-9.3">Question 9.3<a class="anchor-link" href="#Question-9.3">&#182;</a></h4><p>Now we have the UAC of our model, its helpful to benchmark this against a simpler approach. For example, consider recommending the globally most-played artists to every user. This is not personalized, but is simple and may be effective.</p>
<p>Implement this simple pupolarity-based prediction algorithm, evaluate its AUC score, and compare to the results achieved by the more sophisticated ALS algorithm.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span class="n">bListenCount</span> <span class="o">=</span> <span class="n">sc</span><span class="o">.</span><span class="n">broadcast</span><span class="p">(</span><span class="n">trainData</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">r</span><span class="p">:</span> <span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">r</span><span class="p">[</span><span class="mi">2</span><span class="p">]))</span><span class="o">.</span><span class="n">reduceByKey</span><span class="p">(</span><span class="o">...</span><span class="p">)</span><span class="o">.</span><span class="n">collectAsMap</span><span class="p">())</span>
<span class="k">def</span> <span class="nf">predictMostListened</span><span class="p">(</span><span class="n">allData</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">allData</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">r</span><span class="p">:</span> <span class="n">Rating</span><span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">r</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">bListenCount</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">get</span><span class="p">(</span> <span class="o">...</span> <span class="p">,</span> <span class="mf">0.0</span><span class="p">)))</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[68]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">t0</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>
<span class="n">bListenCount</span> <span class="o">=</span> <span class="n">sc</span><span class="o">.</span><span class="n">broadcast</span><span class="p">(</span><span class="n">trainData</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">r</span><span class="p">:</span> <span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">r</span><span class="p">[</span><span class="mi">2</span><span class="p">]))</span><span class="o">.</span><span class="n">reduceByKey</span><span class="p">(</span><span class="k">lambda</span> <span class="n">v1</span><span class="p">,</span><span class="n">v2</span><span class="p">:</span><span class="n">v1</span><span class="o">+</span><span class="n">v2</span><span class="p">)</span><span class="o">.</span><span class="n">collectAsMap</span><span class="p">())</span>
<span class="k">def</span> <span class="nf">predictMostListened</span><span class="p">(</span><span class="n">allData</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">allData</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">r</span><span class="p">:</span> <span class="n">Rating</span><span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">r</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">bListenCount</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="mf">0.0</span><span class="p">)))</span>
<span class="n">t1</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;finish in </span><span class="si">%f</span><span class="s2"> seconds&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">t1</span><span class="o">-</span><span class="n">t0</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>finish in 7.670806 seconds
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[66]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">trainData</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[66]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>Rating(user=2399859, product=2115, rating=1.0)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span class="n">auc</span> <span class="o">=</span> <span class="n">calculateAUC</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="n">predictMostListened</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">auc</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[64]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">t0</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>
<span class="n">auc</span> <span class="o">=</span> <span class="n">calculateAUC</span><span class="p">(</span><span class="n">cvData</span><span class="p">,</span> <span class="n">bAllItemIDs</span><span class="p">,</span> <span class="n">predictMostListened</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">auc</span><span class="p">)</span>
<span class="n">t1</span> <span class="o">=</span> <span class="n">time</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;finish in </span><span class="si">%f</span><span class="s2"> seconds&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">t1</span><span class="o">-</span><span class="n">t0</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>0.9494774269239431
finish in 9.795129 seconds
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Answer:">Answer:<a class="anchor-link" href="#Answer:">&#182;</a></h3><p>This simple method has a lower accuracy than the ALS method. (94.9% vs 96.4% so a 1.5% difference, which is quite low) but the benefits are enormous in terms of computational efforts since we don't have to train our model. The ALS takes 59 seconds to answer our request while our simple method of recommending the most popular artists takes only 17 seconds to compute.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="3.6-Personalized-recommendations-with-ALS">3.6 Personalized recommendations with ALS<a class="anchor-link" href="#3.6-Personalized-recommendations-with-ALS">&#182;</a></h2><p>In the previous section, we build our models with some given paramters without any knowledge about them. Actually, choosing the best parameters' values is very important. It can significantly affect the quality of models. Especially, with the current implementation of ALS in MLLIB, these parameters are not learned by the algorithm, and must be chosen by the caller. The following parameters should get consideration before training models:</p>
<ul>
<li><p><code>rank = 10</code>: the number of latent factors in the model, or equivalently, the number of columns $k$ in the user-feature and product-feature matrices. In non-trivial cases, this is also their rank.</p>
</li>
<li><p><code>iterations = 5</code>: the number of iterations that the factorization runs. Instead of runing the algorithm until RMSE converged which actually takes very long time to finish with large datasets, we only let it run in a given number of iterations. More iterations take more time but may produce a better factorization.</p>
</li>
<li><p><code>lambda_ = 0.01</code>: a standard overfitting parameter. Higher values resist overfitting, but values that are too high hurt the factorization's accuracy.</p>
</li>
<li><p><code>alpha = 1.0</code>: controls the relative weight of observed versus unobserved userproduct interactions in the factorization.</p>
</li>
</ul>
<p>Although all of them have impact on the models' quality, <code>iterations</code> is more of a constraint on resources used in the factorization. So, <code>rank</code>, <code>lambda_</code> and <code>alpha</code> can be considered hyperparameters to the model. 
We will try to find "good" values for them. Indeed, the values of hyperparameter are not necessarily optimal. Choosing good hyperparameter values is a common problem in machine learning. The most basic way to choose values is to simply try combinations of values and evaluate a metric for each of them, and choose the combination that produces the best value of the metric.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="https://farm2.staticflickr.com/1604/24934700445_833f0a5649_t.jpg" alt=""></p>
<p><div style='border-radius: 15px; background: rgb(224,239,130);padding:10px;'/></p>
<h3 id="Question-10">Question 10<a class="anchor-link" href="#Question-10">&#182;</a></h3><h4 id="Question-10.1">Question 10.1<a class="anchor-link" href="#Question-10.1">&#182;</a></h4><p>For simplicity, assume that we want to explore the following parameter space: $ rank \in \{10, 50\}$, $lambda\_ \in \{1.0, 0.0001\}$ and $alpha \in \{1.0, 40.0\}$.</p>
<p>Find the best combination of them in terms of the highest AUC value.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span class="n">evaluations</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">rank</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">50</span><span class="p">]:</span>
    <span class="k">for</span> <span class="n">lambda_</span> <span class="ow">in</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0001</span><span class="p">]:</span>
        <span class="k">for</span> <span class="n">alpha</span> <span class="ow">in</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">40.0</span><span class="p">]:</span>
            <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Train model with rank=</span><span class="si">%d</span><span class="s2"> lambda_=</span><span class="si">%f</span><span class="s2"> alpha=</span><span class="si">%f</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">rank</span><span class="p">,</span> <span class="n">lambda_</span><span class="p">,</span> <span class="n">alpha</span><span class="p">))</span>
            <span class="c1"># with each combination of params, we should run multiple times and get avg</span>
            <span class="c1"># for simple, we only run one time.</span>
            <span class="n">model</span> <span class="o">=</span> <span class="n">ALS</span><span class="o">.</span><span class="n">trainImplicit</span><span class="p">(</span> <span class="o">...</span> <span class="p">)</span>

            <span class="n">auc</span> <span class="o">=</span> <span class="n">calculateAUC</span><span class="p">(</span> <span class="o">...</span> <span class="p">)</span>

            <span class="n">evaluations</span><span class="o">.</span><span class="n">append</span><span class="p">(((</span><span class="n">rank</span><span class="p">,</span> <span class="n">lambda_</span><span class="p">,</span> <span class="n">alpha</span><span class="p">),</span> <span class="n">auc</span><span class="p">))</span>

            <span class="n">unpersist</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>

<span class="n">evaluations</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span> <span class="o">...</span> <span class="p">)</span>

<span class="n">evalDataFrame</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">evaluations</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">evalDataFrame</span><span class="p">)</span>

<span class="n">trainData</span><span class="o">.</span><span class="n">unpersist</span><span class="p">()</span>
<span class="n">cvData</span><span class="o">.</span><span class="n">unpersist</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[70]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">evaluations</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">rank</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">50</span><span class="p">]:</span>
    <span class="k">for</span> <span class="n">lambda_</span> <span class="ow">in</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0001</span><span class="p">]:</span>
        <span class="k">for</span> <span class="n">alpha</span> <span class="ow">in</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">40.0</span><span class="p">]:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Train model with rank=</span><span class="si">%d</span><span class="s2"> lambda_=</span><span class="si">%f</span><span class="s2"> alpha=</span><span class="si">%f</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">rank</span><span class="p">,</span> <span class="n">lambda_</span><span class="p">,</span> <span class="n">alpha</span><span class="p">))</span>
            <span class="c1"># with each combination of params, we should run multiple times and get avg</span>
            <span class="c1"># for simple, we only run one time.</span>
            <span class="n">model</span> <span class="o">=</span> <span class="n">ALS</span><span class="o">.</span><span class="n">trainImplicit</span><span class="p">(</span><span class="n">trainData</span><span class="p">,</span> <span class="n">rank</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">lambda_</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="n">alpha</span><span class="p">)</span>
            
            <span class="n">auc</span> <span class="o">=</span> <span class="n">calculateAUC</span><span class="p">(</span><span class="n">cvData</span><span class="p">,</span> <span class="n">bAllItemIDs</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">predictAll</span><span class="p">)</span>
            
            <span class="n">evaluations</span><span class="o">.</span><span class="n">append</span><span class="p">(((</span><span class="n">rank</span><span class="p">,</span> <span class="n">lambda_</span><span class="p">,</span> <span class="n">alpha</span><span class="p">),</span> <span class="n">auc</span><span class="p">))</span>
            
            <span class="n">unpersist</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Train model with rank=10 lambda_=1.000000 alpha=1.000000
Train model with rank=10 lambda_=1.000000 alpha=40.000000
Train model with rank=10 lambda_=0.000100 alpha=1.000000
Train model with rank=10 lambda_=0.000100 alpha=40.000000
Train model with rank=50 lambda_=1.000000 alpha=1.000000
Train model with rank=50 lambda_=1.000000 alpha=40.000000
</pre>
</div>
</div>

<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_text output_error">
<pre>
<span class="ansired">---------------------------------------------------------------------------</span>
<span class="ansired">Py4JJavaError</span>                             Traceback (most recent call last)
<span class="ansigreen">&lt;ipython-input-70-5e2ceb9fb2bd&gt;</span> in <span class="ansicyan">&lt;module&gt;</span><span class="ansiblue">()</span>
<span class="ansigreen">      9</span>             model <span class="ansiyellow">=</span> ALS<span class="ansiyellow">.</span>trainImplicit<span class="ansiyellow">(</span>trainData<span class="ansiyellow">,</span> rank<span class="ansiyellow">,</span> <span class="ansicyan">5</span><span class="ansiyellow">,</span> lambda_<span class="ansiyellow">,</span> alpha<span class="ansiyellow">=</span>alpha<span class="ansiyellow">)</span><span class="ansiyellow"></span>
<span class="ansigreen">     10</span> <span class="ansiyellow"></span>
<span class="ansigreen">---&gt; 11</span><span class="ansiyellow">             </span>auc <span class="ansiyellow">=</span> calculateAUC<span class="ansiyellow">(</span>cvData<span class="ansiyellow">,</span> bAllItemIDs<span class="ansiyellow">,</span> model<span class="ansiyellow">.</span>predictAll<span class="ansiyellow">)</span><span class="ansiyellow"></span>
<span class="ansigreen">     12</span> <span class="ansiyellow"></span>
<span class="ansigreen">     13</span>             evaluations<span class="ansiyellow">.</span>append<span class="ansiyellow">(</span><span class="ansiyellow">(</span><span class="ansiyellow">(</span>rank<span class="ansiyellow">,</span> lambda_<span class="ansiyellow">,</span> alpha<span class="ansiyellow">)</span><span class="ansiyellow">,</span> auc<span class="ansiyellow">)</span><span class="ansiyellow">)</span><span class="ansiyellow"></span>

<span class="ansigreen">&lt;ipython-input-59-9ae650d81560&gt;</span> in <span class="ansicyan">calculateAUC</span><span class="ansiblue">(positiveData, bAllItemIDs, predictFunction)</span>
<span class="ansigreen">     89</span>                 <span class="ansiyellow">.</span>values<span class="ansiyellow">(</span><span class="ansiyellow">)</span><span class="ansiyellow"></span>
<span class="ansigreen">     90</span>                 .map(
<span class="ansigreen">---&gt; 91</span><span class="ansiyellow">                     </span><span class="ansigreen">lambda</span> positive_negativeRatings<span class="ansiyellow">:</span> ratioOfCorrectRanks<span class="ansiyellow">(</span>positive_negativeRatings<span class="ansiyellow">[</span><span class="ansicyan">0</span><span class="ansiyellow">]</span><span class="ansiyellow">,</span> positive_negativeRatings<span class="ansiyellow">[</span><span class="ansicyan">1</span><span class="ansiyellow">]</span><span class="ansiyellow">)</span><span class="ansiyellow"></span>
<span class="ansigreen">     92</span>                 )
<span class="ansigreen">     93</span>                 <span class="ansiyellow">.</span>mean<span class="ansiyellow">(</span><span class="ansiyellow">)</span><span class="ansiyellow"></span>

<span class="ansigreen">/opt/spark/python/pyspark/rdd.py</span> in <span class="ansicyan">mean</span><span class="ansiblue">(self)</span>
<span class="ansigreen">   1151</span>         <span class="ansicyan">2.0</span><span class="ansiyellow"></span>
<span class="ansigreen">   1152</span>         &quot;&quot;&quot;
<span class="ansigreen">-&gt; 1153</span><span class="ansiyellow">         </span><span class="ansigreen">return</span> self<span class="ansiyellow">.</span>stats<span class="ansiyellow">(</span><span class="ansiyellow">)</span><span class="ansiyellow">.</span>mean<span class="ansiyellow">(</span><span class="ansiyellow">)</span><span class="ansiyellow"></span>
<span class="ansigreen">   1154</span> <span class="ansiyellow"></span>
<span class="ansigreen">   1155</span>     <span class="ansigreen">def</span> variance<span class="ansiyellow">(</span>self<span class="ansiyellow">)</span><span class="ansiyellow">:</span><span class="ansiyellow"></span>

<span class="ansigreen">/opt/spark/python/pyspark/rdd.py</span> in <span class="ansicyan">stats</span><span class="ansiblue">(self)</span>
<span class="ansigreen">   1014</span>             <span class="ansigreen">return</span> left_counter<span class="ansiyellow">.</span>mergeStats<span class="ansiyellow">(</span>right_counter<span class="ansiyellow">)</span><span class="ansiyellow"></span>
<span class="ansigreen">   1015</span> <span class="ansiyellow"></span>
<span class="ansigreen">-&gt; 1016</span><span class="ansiyellow">         </span><span class="ansigreen">return</span> self<span class="ansiyellow">.</span>mapPartitions<span class="ansiyellow">(</span><span class="ansigreen">lambda</span> i<span class="ansiyellow">:</span> <span class="ansiyellow">[</span>StatCounter<span class="ansiyellow">(</span>i<span class="ansiyellow">)</span><span class="ansiyellow">]</span><span class="ansiyellow">)</span><span class="ansiyellow">.</span>reduce<span class="ansiyellow">(</span>redFunc<span class="ansiyellow">)</span><span class="ansiyellow"></span>
<span class="ansigreen">   1017</span> <span class="ansiyellow"></span>
<span class="ansigreen">   1018</span>     <span class="ansigreen">def</span> histogram<span class="ansiyellow">(</span>self<span class="ansiyellow">,</span> buckets<span class="ansiyellow">)</span><span class="ansiyellow">:</span><span class="ansiyellow"></span>

<span class="ansigreen">/opt/spark/python/pyspark/rdd.py</span> in <span class="ansicyan">reduce</span><span class="ansiblue">(self, f)</span>
<span class="ansigreen">    797</span>             <span class="ansigreen">yield</span> reduce<span class="ansiyellow">(</span>f<span class="ansiyellow">,</span> iterator<span class="ansiyellow">,</span> initial<span class="ansiyellow">)</span><span class="ansiyellow"></span>
<span class="ansigreen">    798</span> <span class="ansiyellow"></span>
<span class="ansigreen">--&gt; 799</span><span class="ansiyellow">         </span>vals <span class="ansiyellow">=</span> self<span class="ansiyellow">.</span>mapPartitions<span class="ansiyellow">(</span>func<span class="ansiyellow">)</span><span class="ansiyellow">.</span>collect<span class="ansiyellow">(</span><span class="ansiyellow">)</span><span class="ansiyellow"></span>
<span class="ansigreen">    800</span>         <span class="ansigreen">if</span> vals<span class="ansiyellow">:</span><span class="ansiyellow"></span>
<span class="ansigreen">    801</span>             <span class="ansigreen">return</span> reduce<span class="ansiyellow">(</span>f<span class="ansiyellow">,</span> vals<span class="ansiyellow">)</span><span class="ansiyellow"></span>

<span class="ansigreen">/opt/spark/python/pyspark/rdd.py</span> in <span class="ansicyan">collect</span><span class="ansiblue">(self)</span>
<span class="ansigreen">    771</span>         &quot;&quot;&quot;
<span class="ansigreen">    772</span>         <span class="ansigreen">with</span> SCCallSiteSync<span class="ansiyellow">(</span>self<span class="ansiyellow">.</span>context<span class="ansiyellow">)</span> <span class="ansigreen">as</span> css<span class="ansiyellow">:</span><span class="ansiyellow"></span>
<span class="ansigreen">--&gt; 773</span><span class="ansiyellow">             </span>port <span class="ansiyellow">=</span> self<span class="ansiyellow">.</span>ctx<span class="ansiyellow">.</span>_jvm<span class="ansiyellow">.</span>PythonRDD<span class="ansiyellow">.</span>collectAndServe<span class="ansiyellow">(</span>self<span class="ansiyellow">.</span>_jrdd<span class="ansiyellow">.</span>rdd<span class="ansiyellow">(</span><span class="ansiyellow">)</span><span class="ansiyellow">)</span><span class="ansiyellow"></span>
<span class="ansigreen">    774</span>         <span class="ansigreen">return</span> list<span class="ansiyellow">(</span>_load_from_socket<span class="ansiyellow">(</span>port<span class="ansiyellow">,</span> self<span class="ansiyellow">.</span>_jrdd_deserializer<span class="ansiyellow">)</span><span class="ansiyellow">)</span><span class="ansiyellow"></span>
<span class="ansigreen">    775</span> <span class="ansiyellow"></span>

<span class="ansigreen">/opt/spark/python/lib/py4j-0.8.2.1-src.zip/py4j/java_gateway.py</span> in <span class="ansicyan">__call__</span><span class="ansiblue">(self, *args)</span>
<span class="ansigreen">    536</span>         answer <span class="ansiyellow">=</span> self<span class="ansiyellow">.</span>gateway_client<span class="ansiyellow">.</span>send_command<span class="ansiyellow">(</span>command<span class="ansiyellow">)</span><span class="ansiyellow"></span>
<span class="ansigreen">    537</span>         return_value = get_return_value(answer, self.gateway_client,
<span class="ansigreen">--&gt; 538</span><span class="ansiyellow">                 self.target_id, self.name)
</span><span class="ansigreen">    539</span> <span class="ansiyellow"></span>
<span class="ansigreen">    540</span>         <span class="ansigreen">for</span> temp_arg <span class="ansigreen">in</span> temp_args<span class="ansiyellow">:</span><span class="ansiyellow"></span>

<span class="ansigreen">/opt/spark/python/pyspark/sql/utils.py</span> in <span class="ansicyan">deco</span><span class="ansiblue">(*a, **kw)</span>
<span class="ansigreen">     34</span>     <span class="ansigreen">def</span> deco<span class="ansiyellow">(</span><span class="ansiyellow">*</span>a<span class="ansiyellow">,</span> <span class="ansiyellow">**</span>kw<span class="ansiyellow">)</span><span class="ansiyellow">:</span><span class="ansiyellow"></span>
<span class="ansigreen">     35</span>         <span class="ansigreen">try</span><span class="ansiyellow">:</span><span class="ansiyellow"></span>
<span class="ansigreen">---&gt; 36</span><span class="ansiyellow">             </span><span class="ansigreen">return</span> f<span class="ansiyellow">(</span><span class="ansiyellow">*</span>a<span class="ansiyellow">,</span> <span class="ansiyellow">**</span>kw<span class="ansiyellow">)</span><span class="ansiyellow"></span>
<span class="ansigreen">     37</span>         <span class="ansigreen">except</span> py4j<span class="ansiyellow">.</span>protocol<span class="ansiyellow">.</span>Py4JJavaError <span class="ansigreen">as</span> e<span class="ansiyellow">:</span><span class="ansiyellow"></span>
<span class="ansigreen">     38</span>             s <span class="ansiyellow">=</span> e<span class="ansiyellow">.</span>java_exception<span class="ansiyellow">.</span>toString<span class="ansiyellow">(</span><span class="ansiyellow">)</span><span class="ansiyellow"></span>

<span class="ansigreen">/opt/spark/python/lib/py4j-0.8.2.1-src.zip/py4j/protocol.py</span> in <span class="ansicyan">get_return_value</span><span class="ansiblue">(answer, gateway_client, target_id, name)</span>
<span class="ansigreen">    298</span>                 raise Py4JJavaError(
<span class="ansigreen">    299</span>                     <span class="ansiblue">&apos;An error occurred while calling {0}{1}{2}.\n&apos;</span><span class="ansiyellow">.</span><span class="ansiyellow"></span>
<span class="ansigreen">--&gt; 300</span><span class="ansiyellow">                     format(target_id, &apos;.&apos;, name), value)
</span><span class="ansigreen">    301</span>             <span class="ansigreen">else</span><span class="ansiyellow">:</span><span class="ansiyellow"></span>
<span class="ansigreen">    302</span>                 raise Py4JError(

<span class="ansired">Py4JJavaError</span>: An error occurred while calling z:org.apache.spark.api.python.PythonRDD.collectAndServe.
: org.apache.spark.SparkException: Job aborted due to stage failure: Task 0 in stage 2386.0 failed 4 times, most recent failure: Lost task 0.3 in stage 2386.0 (TID 8233, prod-spark-worker-0-687.prod-usernet-7): java.lang.ArrayIndexOutOfBoundsException

Driver stacktrace:
	at org.apache.spark.scheduler.DAGScheduler.org$apache$spark$scheduler$DAGScheduler$$failJobAndIndependentStages(DAGScheduler.scala:1283)
	at org.apache.spark.scheduler.DAGScheduler$$anonfun$abortStage$1.apply(DAGScheduler.scala:1271)
	at org.apache.spark.scheduler.DAGScheduler$$anonfun$abortStage$1.apply(DAGScheduler.scala:1270)
	at scala.collection.mutable.ResizableArray$class.foreach(ResizableArray.scala:59)
	at scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:47)
	at org.apache.spark.scheduler.DAGScheduler.abortStage(DAGScheduler.scala:1270)
	at org.apache.spark.scheduler.DAGScheduler$$anonfun$handleTaskSetFailed$1.apply(DAGScheduler.scala:697)
	at org.apache.spark.scheduler.DAGScheduler$$anonfun$handleTaskSetFailed$1.apply(DAGScheduler.scala:697)
	at scala.Option.foreach(Option.scala:236)
	at org.apache.spark.scheduler.DAGScheduler.handleTaskSetFailed(DAGScheduler.scala:697)
	at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.doOnReceive(DAGScheduler.scala:1496)
	at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:1458)
	at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:1447)
	at org.apache.spark.util.EventLoop$$anon$1.run(EventLoop.scala:48)
	at org.apache.spark.scheduler.DAGScheduler.runJob(DAGScheduler.scala:567)
	at org.apache.spark.SparkContext.runJob(SparkContext.scala:1824)
	at org.apache.spark.SparkContext.runJob(SparkContext.scala:1837)
	at org.apache.spark.SparkContext.runJob(SparkContext.scala:1850)
	at org.apache.spark.SparkContext.runJob(SparkContext.scala:1921)
	at org.apache.spark.rdd.RDD$$anonfun$collect$1.apply(RDD.scala:909)
	at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:147)
	at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:108)
	at org.apache.spark.rdd.RDD.withScope(RDD.scala:310)
	at org.apache.spark.rdd.RDD.collect(RDD.scala:908)
	at org.apache.spark.api.python.PythonRDD$.collectAndServe(PythonRDD.scala:405)
	at org.apache.spark.api.python.PythonRDD.collectAndServe(PythonRDD.scala)
	at sun.reflect.GeneratedMethodAccessor68.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:231)
	at py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:379)
	at py4j.Gateway.invoke(Gateway.java:259)
	at py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:133)
	at py4j.commands.CallCommand.execute(CallCommand.java:79)
	at py4j.GatewayConnection.run(GatewayConnection.java:207)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.ArrayIndexOutOfBoundsException
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">evaluations</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">r</span><span class="p">:</span><span class="n">r</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">reverse</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
                 
<span class="n">evalDataFrame</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">evaluations</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">evalDataFrame</span><span class="p">)</span>

<span class="n">trainData</span><span class="o">.</span><span class="n">unpersist</span><span class="p">()</span>
<span class="n">cvData</span><span class="o">.</span><span class="n">unpersist</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[21]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">evaluations</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[21]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>[((10, 1.0, 1.0), 0.9705712718823059),
 ((10, 1.0, 40.0), 0.9764229895958471),
 ((10, 0.0001, 1.0), 0.9635840370817447),
 ((10, 0.0001, 40.0), 0.9759647705484272),
 ((50, 1.0, 1.0), 0.9665467972693644)]</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><div style='border-radius: 15px; background: rgb(224,239,130);padding:10px;'/></p>
<h4 id="Question-10.2">Question 10.2<a class="anchor-link" href="#Question-10.2">&#182;</a></h4><p>Using "optimal" hyper-parameters in question 10.1, re-train the model and show top-5 artist names recommendated for user 2093760.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span class="n">model</span> <span class="o">=</span> <span class="n">ALS</span><span class="o">.</span><span class="n">trainImplicit</span><span class="p">(</span> <span class="o">...</span> <span class="p">)</span>
<span class="n">allData</span><span class="o">.</span><span class="n">unpersist</span><span class="p">()</span>

<span class="n">userID</span> <span class="o">=</span> <span class="mi">2093760</span>
<span class="n">recommendations</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">recommendProducts</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>

<span class="n">recommendedProductIDs</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span> <span class="o">...</span> <span class="p">)</span>

<span class="n">recList</span> <span class="o">=</span> <span class="n">artistByID</span><span class="o">.</span> <span class="o">...</span>
<span class="k">print</span><span class="p">(</span><span class="n">recList</span><span class="p">)</span>

<span class="n">unpersist</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">model</span> <span class="o">=</span> <span class="n">ALS</span><span class="o">.</span><span class="n">trainImplicit</span><span class="p">(</span><span class="n">trainData</span><span class="p">,</span> <span class="n">evaluations</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="p">,</span> <span class="mi">5</span> <span class="p">,</span> <span class="n">evaluations</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="n">alpha</span> <span class="o">=</span> <span class="n">evaluations</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">])</span>
<span class="n">allData</span><span class="o">.</span><span class="n">unpersist</span><span class="p">()</span>

<span class="n">userID</span> <span class="o">=</span> <span class="mi">2093760</span>
<span class="n">recommendations</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">recommendProducts</span><span class="p">(</span><span class="n">userID</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>

<span class="n">recommendedProductIDs</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">recommendations</span><span class="p">)</span>

<span class="n">recList</span> <span class="o">=</span> <span class="n">artistByID</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">line</span><span class="p">:</span> <span class="n">artistNames</span><span class="p">(</span><span class="n">line</span><span class="p">))</span><span class="o">.</span><span class="n">values</span><span class="p">()</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">recList</span><span class="p">)</span>

<span class="n">unpersist</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Summary">Summary<a class="anchor-link" href="#Summary">&#182;</a></h1><p>In this notebook, we introduce an algorithm to do matrix factorization and the way of using it to make recommendation. Further more, we studied how to build a large-scale recommender system on SPARK using ALS algorithm and evaluate its quality. Finally, a simple approach to choose good parameters is mentioned.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="References">References<a class="anchor-link" href="#References">&#182;</a></h1><ul>
<li>The example in section 2 is taken from <a href="infolab.stanford.edu/~ullman/mmds/ch9.pdf">Recommender system</a></li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre> 
</pre></div>

</div>
</div>
</div>

</div>
    </div>
  </div>
</body>
</html>
